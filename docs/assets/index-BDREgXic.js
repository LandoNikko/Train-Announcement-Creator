(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var sa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pc={exports:{}},hs={},Tc={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi=Symbol.for("react.element"),qf=Symbol.for("react.portal"),eh=Symbol.for("react.fragment"),th=Symbol.for("react.strict_mode"),nh=Symbol.for("react.profiler"),rh=Symbol.for("react.provider"),ih=Symbol.for("react.context"),ah=Symbol.for("react.forward_ref"),sh=Symbol.for("react.suspense"),oh=Symbol.for("react.memo"),lh=Symbol.for("react.lazy"),Ql=Symbol.iterator;function uh(e){return e===null||typeof e!="object"?null:(e=Ql&&e[Ql]||e["@@iterator"],typeof e=="function"?e:null)}var Ac={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mc=Object.assign,Lc={};function Jr(e,t,n){this.props=e,this.context=t,this.refs=Lc,this.updater=n||Ac}Jr.prototype.isReactComponent={};Jr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dc(){}Dc.prototype=Jr.prototype;function nl(e,t,n){this.props=e,this.context=t,this.refs=Lc,this.updater=n||Ac}var rl=nl.prototype=new Dc;rl.constructor=nl;Mc(rl,Jr.prototype);rl.isPureReactComponent=!0;var Jl=Array.isArray,Rc=Object.prototype.hasOwnProperty,il={current:null},Ic={key:!0,ref:!0,__self:!0,__source:!0};function Oc(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)Rc.call(t,r)&&!Ic.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),g=0;g<o;g++)l[g]=arguments[g+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Gi,type:e,key:a,ref:s,props:i,_owner:il.current}}function ch(e,t){return{$$typeof:Gi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function al(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gi}function dh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ql=/\/+/g;function Ts(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dh(""+e.key):t.toString(36)}function Ea(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Gi:case qf:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Ts(s,0):r,Jl(i)?(n="",e!=null&&(n=e.replace(ql,"$&/")+"/"),Ea(i,t,n,"",function(g){return g})):i!=null&&(al(i)&&(i=ch(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(ql,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Jl(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+Ts(a,o);s+=Ea(a,t,n,l,i)}else if(l=uh(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+Ts(a,o++),s+=Ea(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function oa(e,t,n){if(e==null)return e;var r=[],i=0;return Ea(e,r,"","",function(a){return t.call(n,a,i++)}),r}function fh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ct={current:null},za={transition:null},hh={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:za,ReactCurrentOwner:il};function Fc(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:oa,forEach:function(e,t,n){oa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return oa(e,function(){t++}),t},toArray:function(e){return oa(e,function(t){return t})||[]},only:function(e){if(!al(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=Jr;Le.Fragment=eh;Le.Profiler=nh;Le.PureComponent=nl;Le.StrictMode=th;Le.Suspense=sh;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hh;Le.act=Fc;Le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Mc({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=il.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Rc.call(t,l)&&!Ic.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var g=0;g<l;g++)o[g]=arguments[g+2];r.children=o}return{$$typeof:Gi,type:e.type,key:i,ref:a,props:r,_owner:s}};Le.createContext=function(e){return e={$$typeof:ih,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rh,_context:e},e.Consumer=e};Le.createElement=Oc;Le.createFactory=function(e){var t=Oc.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:ah,render:e}};Le.isValidElement=al;Le.lazy=function(e){return{$$typeof:lh,_payload:{_status:-1,_result:e},_init:fh}};Le.memo=function(e,t){return{$$typeof:oh,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=za.transition;za.transition={};try{e()}finally{za.transition=t}};Le.unstable_act=Fc;Le.useCallback=function(e,t){return Ct.current.useCallback(e,t)};Le.useContext=function(e){return Ct.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return Ct.current.useDeferredValue(e)};Le.useEffect=function(e,t){return Ct.current.useEffect(e,t)};Le.useId=function(){return Ct.current.useId()};Le.useImperativeHandle=function(e,t,n){return Ct.current.useImperativeHandle(e,t,n)};Le.useInsertionEffect=function(e,t){return Ct.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return Ct.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return Ct.current.useMemo(e,t)};Le.useReducer=function(e,t,n){return Ct.current.useReducer(e,t,n)};Le.useRef=function(e){return Ct.current.useRef(e)};Le.useState=function(e){return Ct.current.useState(e)};Le.useSyncExternalStore=function(e,t,n){return Ct.current.useSyncExternalStore(e,t,n)};Le.useTransition=function(){return Ct.current.useTransition()};Le.version="18.3.1";Tc.exports=Le;var W=Tc.exports;const ph=zc(W);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh=W,gh=Symbol.for("react.element"),yh=Symbol.for("react.fragment"),vh=Object.prototype.hasOwnProperty,xh=mh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kh={key:!0,ref:!0,__self:!0,__source:!0};function $c(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)vh.call(t,r)&&!kh.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:gh,type:e,key:a,ref:s,props:i,_owner:xh.current}}hs.Fragment=yh;hs.jsx=$c;hs.jsxs=$c;Pc.exports=hs;var u=Pc.exports,ao={},Uc={exports:{}},Wt={},Bc={exports:{}},Wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,O){var q=V.length;V.push(O);e:for(;0<q;){var R=q-1>>>1,A=V[R];if(0<i(A,O))V[R]=O,V[q]=A,q=R;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var O=V[0],q=V.pop();if(q!==O){V[0]=q;e:for(var R=0,A=V.length,he=A>>>1;R<he;){var ee=2*(R+1)-1,ne=V[ee],Ce=ee+1,De=V[Ce];if(0>i(ne,q))Ce<A&&0>i(De,ne)?(V[R]=De,V[Ce]=q,R=Ce):(V[R]=ne,V[ee]=q,R=ee);else if(Ce<A&&0>i(De,q))V[R]=De,V[Ce]=q,R=Ce;else break e}}return O}function i(V,O){var q=V.sortIndex-O.sortIndex;return q!==0?q:V.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],g=[],w=1,k=null,v=3,h=!1,y=!1,p=!1,_=typeof setTimeout=="function"?setTimeout:null,c=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var O=n(g);O!==null;){if(O.callback===null)r(g);else if(O.startTime<=V)r(g),O.sortIndex=O.expirationTime,t(l,O);else break;O=n(g)}}function b(V){if(p=!1,x(V),!y)if(n(l)!==null)y=!0,oe(j);else{var O=n(g);O!==null&&U(b,O.startTime-V)}}function j(V,O){y=!1,p&&(p=!1,c(M),M=-1),h=!0;var q=v;try{for(x(O),k=n(l);k!==null&&(!(k.expirationTime>O)||V&&!F());){var R=k.callback;if(typeof R=="function"){k.callback=null,v=k.priorityLevel;var A=R(k.expirationTime<=O);O=e.unstable_now(),typeof A=="function"?k.callback=A:k===n(l)&&r(l),x(O)}else r(l);k=n(l)}if(k!==null)var he=!0;else{var ee=n(g);ee!==null&&U(b,ee.startTime-O),he=!1}return he}finally{k=null,v=q,h=!1}}var E=!1,P=null,M=-1,T=5,I=-1;function F(){return!(e.unstable_now()-I<T)}function S(){if(P!==null){var V=e.unstable_now();I=V;var O=!0;try{O=P(!0,V)}finally{O?$():(E=!1,P=null)}}else E=!1}var $;if(typeof f=="function")$=function(){f(S)};else if(typeof MessageChannel<"u"){var m=new MessageChannel,G=m.port2;m.port1.onmessage=S,$=function(){G.postMessage(null)}}else $=function(){_(S,0)};function oe(V){P=V,E||(E=!0,$())}function U(V,O){M=_(function(){V(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){y||h||(y=!0,oe(j))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(V){switch(v){case 1:case 2:case 3:var O=3;break;default:O=v}var q=v;v=O;try{return V()}finally{v=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,O){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var q=v;v=V;try{return O()}finally{v=q}},e.unstable_scheduleCallback=function(V,O,q){var R=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?R+q:R):q=R,V){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=q+A,V={id:w++,callback:O,priorityLevel:V,startTime:q,expirationTime:A,sortIndex:-1},q>R?(V.sortIndex=q,t(g,V),n(l)===null&&V===n(g)&&(p?(c(M),M=-1):p=!0,U(b,q-R))):(V.sortIndex=A,t(l,V),y||h||(y=!0,oe(j))),V},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(V){var O=v;return function(){var q=v;v=O;try{return V.apply(this,arguments)}finally{v=q}}}})(Wc);Bc.exports=Wc;var wh=Bc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h=W,Bt=wh;function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vc=new Set,Pi={};function mr(e,t){Hr(e,t),Hr(e+"Capture",t)}function Hr(e,t){for(Pi[e]=t,e=0;e<t.length;e++)Vc.add(t[e])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),so=Object.prototype.hasOwnProperty,Sh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eu={},tu={};function bh(e){return so.call(tu,e)?!0:so.call(eu,e)?!1:Sh.test(e)?tu[e]=!0:(eu[e]=!0,!1)}function Nh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ch(e,t,n,r){if(t===null||typeof t>"u"||Nh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function jt(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gt[e]=new jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gt[t]=new jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gt[e]=new jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gt[e]=new jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gt[e]=new jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gt[e]=new jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gt[e]=new jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gt[e]=new jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gt[e]=new jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var sl=/[\-:]([a-z])/g;function ol(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sl,ol);gt[t]=new jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sl,ol);gt[t]=new jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sl,ol);gt[t]=new jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gt[e]=new jt(e,1,!1,e.toLowerCase(),null,!1,!1)});gt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gt[e]=new jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ll(e,t,n,r){var i=gt.hasOwnProperty(t)?gt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ch(t,n,i,r)&&(n=null),r||i===null?bh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Pn=_h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,la=Symbol.for("react.element"),br=Symbol.for("react.portal"),Nr=Symbol.for("react.fragment"),ul=Symbol.for("react.strict_mode"),oo=Symbol.for("react.profiler"),Hc=Symbol.for("react.provider"),Yc=Symbol.for("react.context"),cl=Symbol.for("react.forward_ref"),lo=Symbol.for("react.suspense"),uo=Symbol.for("react.suspense_list"),dl=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),Gc=Symbol.for("react.offscreen"),nu=Symbol.iterator;function oi(e){return e===null||typeof e!="object"?null:(e=nu&&e[nu]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,As;function mi(e){if(As===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);As=t&&t[1]||""}return`
`+As+e}var Ms=!1;function Ls(e,t){if(!e||Ms)return"";Ms=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Ms=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mi(e):""}function jh(e){switch(e.tag){case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return e=Ls(e.type,!1),e;case 11:return e=Ls(e.type.render,!1),e;case 1:return e=Ls(e.type,!0),e;default:return""}}function co(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nr:return"Fragment";case br:return"Portal";case oo:return"Profiler";case ul:return"StrictMode";case lo:return"Suspense";case uo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yc:return(e.displayName||"Context")+".Consumer";case Hc:return(e._context.displayName||"Context")+".Provider";case cl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dl:return t=e.displayName||null,t!==null?t:co(e.type)||"Memo";case Dn:t=e._payload,e=e._init;try{return co(e(t))}catch{}}return null}function Eh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return co(t);case 8:return t===ul?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zh(e){var t=Kc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ua(e){e._valueTracker||(e._valueTracker=zh(e))}function Zc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Kc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ua(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fo(e,t){var n=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ru(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xc(e,t){t=t.checked,t!=null&&ll(e,"checked",t,!1)}function ho(e,t){Xc(e,t);var n=Zn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?po(e,t.type,n):t.hasOwnProperty("defaultValue")&&po(e,t.type,Zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function po(e,t,n){(t!=="number"||Ua(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gi=Array.isArray;function Or(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function mo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ie(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function au(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ie(92));if(gi(n)){if(1<n.length)throw Error(ie(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zn(n)}}function Qc(e,t){var n=Zn(t.value),r=Zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function su(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function go(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ca,qc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ca=ca||document.createElement("div"),ca.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ca.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ti(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ph=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(e){Ph.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wi[t]=wi[e]})});function ed(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wi.hasOwnProperty(e)&&wi[e]?(""+t).trim():t+"px"}function td(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ed(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Th=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yo(e,t){if(t){if(Th[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ie(62))}}function vo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=null;function fl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ko=null,Fr=null,$r=null;function ou(e){if(e=Xi(e)){if(typeof ko!="function")throw Error(ie(280));var t=e.stateNode;t&&(t=vs(t),ko(e.stateNode,e.type,t))}}function nd(e){Fr?$r?$r.push(e):$r=[e]:Fr=e}function rd(){if(Fr){var e=Fr,t=$r;if($r=Fr=null,ou(e),t)for(e=0;e<t.length;e++)ou(t[e])}}function id(e,t){return e(t)}function ad(){}var Ds=!1;function sd(e,t,n){if(Ds)return e(t,n);Ds=!0;try{return id(e,t,n)}finally{Ds=!1,(Fr!==null||$r!==null)&&(ad(),rd())}}function Ai(e,t){var n=e.stateNode;if(n===null)return null;var r=vs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ie(231,t,typeof n));return n}var wo=!1;if(Cn)try{var li={};Object.defineProperty(li,"passive",{get:function(){wo=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{wo=!1}function Ah(e,t,n,r,i,a,s,o,l){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(w){this.onError(w)}}var _i=!1,Ba=null,Wa=!1,_o=null,Mh={onError:function(e){_i=!0,Ba=e}};function Lh(e,t,n,r,i,a,s,o,l){_i=!1,Ba=null,Ah.apply(Mh,arguments)}function Dh(e,t,n,r,i,a,s,o,l){if(Lh.apply(this,arguments),_i){if(_i){var g=Ba;_i=!1,Ba=null}else throw Error(ie(198));Wa||(Wa=!0,_o=g)}}function gr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function od(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lu(e){if(gr(e)!==e)throw Error(ie(188))}function Rh(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error(ie(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return lu(i),e;if(a===r)return lu(i),t;a=a.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?e:t}function ld(e){return e=Rh(e),e!==null?ud(e):null}function ud(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ud(e);if(t!==null)return t;e=e.sibling}return null}var cd=Bt.unstable_scheduleCallback,uu=Bt.unstable_cancelCallback,Ih=Bt.unstable_shouldYield,Oh=Bt.unstable_requestPaint,nt=Bt.unstable_now,Fh=Bt.unstable_getCurrentPriorityLevel,hl=Bt.unstable_ImmediatePriority,dd=Bt.unstable_UserBlockingPriority,Va=Bt.unstable_NormalPriority,$h=Bt.unstable_LowPriority,fd=Bt.unstable_IdlePriority,ps=null,vn=null;function Uh(e){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(ps,e,void 0,(e.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:Vh,Bh=Math.log,Wh=Math.LN2;function Vh(e){return e>>>=0,e===0?32:31-(Bh(e)/Wh|0)|0}var da=64,fa=4194304;function yi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ha(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=yi(o):(a&=s,a!==0&&(r=yi(a)))}else s=n&~i,s!==0?r=yi(s):a!==0&&(r=yi(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ln(t),i=1<<n,r|=e[n],t&=~i;return r}function Hh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-ln(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=Hh(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function So(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hd(){var e=da;return da<<=1,!(da&4194240)&&(da=64),e}function Rs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ki(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ln(t),e[t]=n}function Gh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ln(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function pl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ln(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ue=0;function pd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var md,ml,gd,yd,vd,bo=!1,ha=[],Un=null,Bn=null,Wn=null,Mi=new Map,Li=new Map,In=[],Kh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cu(e,t){switch(e){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Mi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function ui(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Xi(t),t!==null&&ml(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Zh(e,t,n,r,i){switch(t){case"focusin":return Un=ui(Un,e,t,n,r,i),!0;case"dragenter":return Bn=ui(Bn,e,t,n,r,i),!0;case"mouseover":return Wn=ui(Wn,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Mi.set(a,ui(Mi.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Li.set(a,ui(Li.get(a)||null,e,t,n,r,i)),!0}return!1}function xd(e){var t=ar(e.target);if(t!==null){var n=gr(t);if(n!==null){if(t=n.tag,t===13){if(t=od(n),t!==null){e.blockedOn=t,vd(e.priority,function(){gd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=No(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xo=r,n.target.dispatchEvent(r),xo=null}else return t=Xi(n),t!==null&&ml(t),e.blockedOn=n,!1;t.shift()}return!0}function du(e,t,n){Pa(e)&&n.delete(t)}function Xh(){bo=!1,Un!==null&&Pa(Un)&&(Un=null),Bn!==null&&Pa(Bn)&&(Bn=null),Wn!==null&&Pa(Wn)&&(Wn=null),Mi.forEach(du),Li.forEach(du)}function ci(e,t){e.blockedOn===t&&(e.blockedOn=null,bo||(bo=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,Xh)))}function Di(e){function t(i){return ci(i,e)}if(0<ha.length){ci(ha[0],e);for(var n=1;n<ha.length;n++){var r=ha[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Un!==null&&ci(Un,e),Bn!==null&&ci(Bn,e),Wn!==null&&ci(Wn,e),Mi.forEach(t),Li.forEach(t),n=0;n<In.length;n++)r=In[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<In.length&&(n=In[0],n.blockedOn===null);)xd(n),n.blockedOn===null&&In.shift()}var Ur=Pn.ReactCurrentBatchConfig,Ya=!0;function Qh(e,t,n,r){var i=Ue,a=Ur.transition;Ur.transition=null;try{Ue=1,gl(e,t,n,r)}finally{Ue=i,Ur.transition=a}}function Jh(e,t,n,r){var i=Ue,a=Ur.transition;Ur.transition=null;try{Ue=4,gl(e,t,n,r)}finally{Ue=i,Ur.transition=a}}function gl(e,t,n,r){if(Ya){var i=No(e,t,n,r);if(i===null)Ys(e,t,r,Ga,n),cu(e,r);else if(Zh(i,e,t,n,r))r.stopPropagation();else if(cu(e,r),t&4&&-1<Kh.indexOf(e)){for(;i!==null;){var a=Xi(i);if(a!==null&&md(a),a=No(e,t,n,r),a===null&&Ys(e,t,r,Ga,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ys(e,t,r,null,n)}}var Ga=null;function No(e,t,n,r){if(Ga=null,e=fl(r),e=ar(e),e!==null)if(t=gr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=od(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ga=e,null}function kd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fh()){case hl:return 1;case dd:return 4;case Va:case $h:return 16;case fd:return 536870912;default:return 16}default:return 16}}var Fn=null,yl=null,Ta=null;function wd(){if(Ta)return Ta;var e,t=yl,n=t.length,r,i="value"in Fn?Fn.value:Fn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Ta=i.slice(e,1<r?1-r:void 0)}function Aa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pa(){return!0}function fu(){return!1}function Vt(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?pa:fu,this.isPropagationStopped=fu,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pa)},persist:function(){},isPersistent:pa}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=Vt(qr),Zi=Qe({},qr,{view:0,detail:0}),qh=Vt(Zi),Is,Os,di,ms=Qe({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(Is=e.screenX-di.screenX,Os=e.screenY-di.screenY):Os=Is=0,di=e),Is)},movementY:function(e){return"movementY"in e?e.movementY:Os}}),hu=Vt(ms),ep=Qe({},ms,{dataTransfer:0}),tp=Vt(ep),np=Qe({},Zi,{relatedTarget:0}),Fs=Vt(np),rp=Qe({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),ip=Vt(rp),ap=Qe({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sp=Vt(ap),op=Qe({},qr,{data:0}),pu=Vt(op),lp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},up={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cp[e])?!!t[e]:!1}function xl(){return dp}var fp=Qe({},Zi,{key:function(e){if(e.key){var t=lp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?up[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xl,charCode:function(e){return e.type==="keypress"?Aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hp=Vt(fp),pp=Qe({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mu=Vt(pp),mp=Qe({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xl}),gp=Vt(mp),yp=Qe({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vp=Vt(yp),xp=Qe({},ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kp=Vt(xp),wp=[9,13,27,32],kl=Cn&&"CompositionEvent"in window,Si=null;Cn&&"documentMode"in document&&(Si=document.documentMode);var _p=Cn&&"TextEvent"in window&&!Si,_d=Cn&&(!kl||Si&&8<Si&&11>=Si),gu=" ",yu=!1;function Sd(e,t){switch(e){case"keyup":return wp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cr=!1;function Sp(e,t){switch(e){case"compositionend":return bd(t);case"keypress":return t.which!==32?null:(yu=!0,gu);case"textInput":return e=t.data,e===gu&&yu?null:e;default:return null}}function bp(e,t){if(Cr)return e==="compositionend"||!kl&&Sd(e,t)?(e=wd(),Ta=yl=Fn=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _d&&t.locale!=="ko"?null:t.data;default:return null}}var Np={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Np[e.type]:t==="textarea"}function Nd(e,t,n,r){nd(r),t=Ka(t,"onChange"),0<t.length&&(n=new vl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bi=null,Ri=null;function Cp(e){Rd(e,0)}function gs(e){var t=zr(e);if(Zc(t))return e}function jp(e,t){if(e==="change")return t}var Cd=!1;if(Cn){var $s;if(Cn){var Us="oninput"in document;if(!Us){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),Us=typeof xu.oninput=="function"}$s=Us}else $s=!1;Cd=$s&&(!document.documentMode||9<document.documentMode)}function ku(){bi&&(bi.detachEvent("onpropertychange",jd),Ri=bi=null)}function jd(e){if(e.propertyName==="value"&&gs(Ri)){var t=[];Nd(t,Ri,e,fl(e)),sd(Cp,t)}}function Ep(e,t,n){e==="focusin"?(ku(),bi=t,Ri=n,bi.attachEvent("onpropertychange",jd)):e==="focusout"&&ku()}function zp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gs(Ri)}function Pp(e,t){if(e==="click")return gs(t)}function Tp(e,t){if(e==="input"||e==="change")return gs(t)}function Ap(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:Ap;function Ii(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!so.call(t,i)||!cn(e[i],t[i]))return!1}return!0}function wu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _u(e,t){var n=wu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wu(n)}}function Ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zd(){for(var e=window,t=Ua();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ua(e.document)}return t}function wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mp(e){var t=zd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ed(n.ownerDocument.documentElement,n)){if(r!==null&&wl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=_u(n,a);var s=_u(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lp=Cn&&"documentMode"in document&&11>=document.documentMode,jr=null,Co=null,Ni=null,jo=!1;function Su(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jo||jr==null||jr!==Ua(r)||(r=jr,"selectionStart"in r&&wl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ni&&Ii(Ni,r)||(Ni=r,r=Ka(Co,"onSelect"),0<r.length&&(t=new vl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jr)))}function ma(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionend:ma("Transition","TransitionEnd")},Bs={},Pd={};Cn&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function ys(e){if(Bs[e])return Bs[e];if(!Er[e])return e;var t=Er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Pd)return Bs[e]=t[n];return e}var Td=ys("animationend"),Ad=ys("animationiteration"),Md=ys("animationstart"),Ld=ys("transitionend"),Dd=new Map,bu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(e,t){Dd.set(e,t),mr(t,[e])}for(var Ws=0;Ws<bu.length;Ws++){var Vs=bu[Ws],Dp=Vs.toLowerCase(),Rp=Vs[0].toUpperCase()+Vs.slice(1);Qn(Dp,"on"+Rp)}Qn(Td,"onAnimationEnd");Qn(Ad,"onAnimationIteration");Qn(Md,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(Ld,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ip=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function Nu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Dh(r,t,void 0,e),e.currentTarget=null}function Rd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,g=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Nu(i,o,g),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,g=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Nu(i,o,g),a=l}}}if(Wa)throw e=_o,Wa=!1,_o=null,e}function Ye(e,t){var n=t[Ao];n===void 0&&(n=t[Ao]=new Set);var r=e+"__bubble";n.has(r)||(Id(t,e,2,!1),n.add(r))}function Hs(e,t,n){var r=0;t&&(r|=4),Id(n,e,r,t)}var ga="_reactListening"+Math.random().toString(36).slice(2);function Oi(e){if(!e[ga]){e[ga]=!0,Vc.forEach(function(n){n!=="selectionchange"&&(Ip.has(n)||Hs(n,!1,e),Hs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ga]||(t[ga]=!0,Hs("selectionchange",!1,t))}}function Id(e,t,n,r){switch(kd(t)){case 1:var i=Qh;break;case 4:i=Jh;break;default:i=gl}n=i.bind(null,t,n,e),i=void 0,!wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ys(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=ar(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}sd(function(){var g=a,w=fl(n),k=[];e:{var v=Dd.get(e);if(v!==void 0){var h=vl,y=e;switch(e){case"keypress":if(Aa(n)===0)break e;case"keydown":case"keyup":h=hp;break;case"focusin":y="focus",h=Fs;break;case"focusout":y="blur",h=Fs;break;case"beforeblur":case"afterblur":h=Fs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=gp;break;case Td:case Ad:case Md:h=ip;break;case Ld:h=vp;break;case"scroll":h=qh;break;case"wheel":h=kp;break;case"copy":case"cut":case"paste":h=sp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=mu}var p=(t&4)!==0,_=!p&&e==="scroll",c=p?v!==null?v+"Capture":null:v;p=[];for(var f=g,x;f!==null;){x=f;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,c!==null&&(b=Ai(f,c),b!=null&&p.push(Fi(f,b,x)))),_)break;f=f.return}0<p.length&&(v=new h(v,y,null,n,w),k.push({event:v,listeners:p}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",v&&n!==xo&&(y=n.relatedTarget||n.fromElement)&&(ar(y)||y[jn]))break e;if((h||v)&&(v=w.window===w?w:(v=w.ownerDocument)?v.defaultView||v.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=g,y=y?ar(y):null,y!==null&&(_=gr(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=g),h!==y)){if(p=hu,b="onMouseLeave",c="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(p=mu,b="onPointerLeave",c="onPointerEnter",f="pointer"),_=h==null?v:zr(h),x=y==null?v:zr(y),v=new p(b,f+"leave",h,n,w),v.target=_,v.relatedTarget=x,b=null,ar(w)===g&&(p=new p(c,f+"enter",y,n,w),p.target=x,p.relatedTarget=_,b=p),_=b,h&&y)t:{for(p=h,c=y,f=0,x=p;x;x=wr(x))f++;for(x=0,b=c;b;b=wr(b))x++;for(;0<f-x;)p=wr(p),f--;for(;0<x-f;)c=wr(c),x--;for(;f--;){if(p===c||c!==null&&p===c.alternate)break t;p=wr(p),c=wr(c)}p=null}else p=null;h!==null&&Cu(k,v,h,p,!1),y!==null&&_!==null&&Cu(k,_,y,p,!0)}}e:{if(v=g?zr(g):window,h=v.nodeName&&v.nodeName.toLowerCase(),h==="select"||h==="input"&&v.type==="file")var j=jp;else if(vu(v))if(Cd)j=Tp;else{j=zp;var E=Ep}else(h=v.nodeName)&&h.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(j=Pp);if(j&&(j=j(e,g))){Nd(k,j,n,w);break e}E&&E(e,v,g),e==="focusout"&&(E=v._wrapperState)&&E.controlled&&v.type==="number"&&po(v,"number",v.value)}switch(E=g?zr(g):window,e){case"focusin":(vu(E)||E.contentEditable==="true")&&(jr=E,Co=g,Ni=null);break;case"focusout":Ni=Co=jr=null;break;case"mousedown":jo=!0;break;case"contextmenu":case"mouseup":case"dragend":jo=!1,Su(k,n,w);break;case"selectionchange":if(Lp)break;case"keydown":case"keyup":Su(k,n,w)}var P;if(kl)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Cr?Sd(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(_d&&n.locale!=="ko"&&(Cr||M!=="onCompositionStart"?M==="onCompositionEnd"&&Cr&&(P=wd()):(Fn=w,yl="value"in Fn?Fn.value:Fn.textContent,Cr=!0)),E=Ka(g,M),0<E.length&&(M=new pu(M,e,null,n,w),k.push({event:M,listeners:E}),P?M.data=P:(P=bd(n),P!==null&&(M.data=P)))),(P=_p?Sp(e,n):bp(e,n))&&(g=Ka(g,"onBeforeInput"),0<g.length&&(w=new pu("onBeforeInput","beforeinput",null,n,w),k.push({event:w,listeners:g}),w.data=P))}Rd(k,t)})}function Fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ka(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ai(e,n),a!=null&&r.unshift(Fi(e,a,i)),a=Ai(e,t),a!=null&&r.push(Fi(e,a,i))),e=e.return}return r}function wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cu(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,g=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&g!==null&&(o=g,i?(l=Ai(n,a),l!=null&&s.unshift(Fi(n,l,o))):i||(l=Ai(n,a),l!=null&&s.push(Fi(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Op=/\r\n?/g,Fp=/\u0000|\uFFFD/g;function ju(e){return(typeof e=="string"?e:""+e).replace(Op,`
`).replace(Fp,"")}function ya(e,t,n){if(t=ju(t),ju(e)!==t&&n)throw Error(ie(425))}function Za(){}var Eo=null,zo=null;function Po(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var To=typeof setTimeout=="function"?setTimeout:void 0,$p=typeof clearTimeout=="function"?clearTimeout:void 0,Eu=typeof Promise=="function"?Promise:void 0,Up=typeof queueMicrotask=="function"?queueMicrotask:typeof Eu<"u"?function(e){return Eu.resolve(null).then(e).catch(Bp)}:To;function Bp(e){setTimeout(function(){throw e})}function Gs(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Di(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Di(t)}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ei=Math.random().toString(36).slice(2),yn="__reactFiber$"+ei,$i="__reactProps$"+ei,jn="__reactContainer$"+ei,Ao="__reactEvents$"+ei,Wp="__reactListeners$"+ei,Vp="__reactHandles$"+ei;function ar(e){var t=e[yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jn]||n[yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zu(e);e!==null;){if(n=e[yn])return n;e=zu(e)}return t}e=n,n=e.parentNode}return null}function Xi(e){return e=e[yn]||e[jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function vs(e){return e[$i]||null}var Mo=[],Pr=-1;function Jn(e){return{current:e}}function Ge(e){0>Pr||(e.current=Mo[Pr],Mo[Pr]=null,Pr--)}function Ve(e,t){Pr++,Mo[Pr]=e.current,e.current=t}var Xn={},kt=Jn(Xn),At=Jn(!1),cr=Xn;function Yr(e,t){var n=e.type.contextTypes;if(!n)return Xn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mt(e){return e=e.childContextTypes,e!=null}function Xa(){Ge(At),Ge(kt)}function Pu(e,t,n){if(kt.current!==Xn)throw Error(ie(168));Ve(kt,t),Ve(At,n)}function Od(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ie(108,Eh(e)||"Unknown",i));return Qe({},n,r)}function Qa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xn,cr=kt.current,Ve(kt,e),Ve(At,At.current),!0}function Tu(e,t,n){var r=e.stateNode;if(!r)throw Error(ie(169));n?(e=Od(e,t,cr),r.__reactInternalMemoizedMergedChildContext=e,Ge(At),Ge(kt),Ve(kt,e)):Ge(At),Ve(At,n)}var _n=null,xs=!1,Ks=!1;function Fd(e){_n===null?_n=[e]:_n.push(e)}function Hp(e){xs=!0,Fd(e)}function qn(){if(!Ks&&_n!==null){Ks=!0;var e=0,t=Ue;try{var n=_n;for(Ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_n=null,xs=!1}catch(i){throw _n!==null&&(_n=_n.slice(e+1)),cd(hl,qn),i}finally{Ue=t,Ks=!1}}return null}var Tr=[],Ar=0,Ja=null,qa=0,Zt=[],Xt=0,dr=null,Sn=1,bn="";function nr(e,t){Tr[Ar++]=qa,Tr[Ar++]=Ja,Ja=e,qa=t}function $d(e,t,n){Zt[Xt++]=Sn,Zt[Xt++]=bn,Zt[Xt++]=dr,dr=e;var r=Sn;e=bn;var i=32-ln(r)-1;r&=~(1<<i),n+=1;var a=32-ln(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Sn=1<<32-ln(t)+i|n<<i|r,bn=a+e}else Sn=1<<a|n<<i|r,bn=e}function _l(e){e.return!==null&&(nr(e,1),$d(e,1,0))}function Sl(e){for(;e===Ja;)Ja=Tr[--Ar],Tr[Ar]=null,qa=Tr[--Ar],Tr[Ar]=null;for(;e===dr;)dr=Zt[--Xt],Zt[Xt]=null,bn=Zt[--Xt],Zt[Xt]=null,Sn=Zt[--Xt],Zt[Xt]=null}var Ut=null,$t=null,Ke=!1,on=null;function Ud(e,t){var n=Qt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Au(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ut=e,$t=Vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ut=e,$t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dr!==null?{id:Sn,overflow:bn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ut=e,$t=null,!0):!1;default:return!1}}function Lo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Do(e){if(Ke){var t=$t;if(t){var n=t;if(!Au(e,t)){if(Lo(e))throw Error(ie(418));t=Vn(n.nextSibling);var r=Ut;t&&Au(e,t)?Ud(r,n):(e.flags=e.flags&-4097|2,Ke=!1,Ut=e)}}else{if(Lo(e))throw Error(ie(418));e.flags=e.flags&-4097|2,Ke=!1,Ut=e}}}function Mu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ut=e}function va(e){if(e!==Ut)return!1;if(!Ke)return Mu(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Po(e.type,e.memoizedProps)),t&&(t=$t)){if(Lo(e))throw Bd(),Error(ie(418));for(;t;)Ud(e,t),t=Vn(t.nextSibling)}if(Mu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$t=Vn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$t=null}}else $t=Ut?Vn(e.stateNode.nextSibling):null;return!0}function Bd(){for(var e=$t;e;)e=Vn(e.nextSibling)}function Gr(){$t=Ut=null,Ke=!1}function bl(e){on===null?on=[e]:on.push(e)}var Yp=Pn.ReactCurrentBatchConfig;function fi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,e))}return e}function xa(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lu(e){var t=e._init;return t(e._payload)}function Wd(e){function t(c,f){if(e){var x=c.deletions;x===null?(c.deletions=[f],c.flags|=16):x.push(f)}}function n(c,f){if(!e)return null;for(;f!==null;)t(c,f),f=f.sibling;return null}function r(c,f){for(c=new Map;f!==null;)f.key!==null?c.set(f.key,f):c.set(f.index,f),f=f.sibling;return c}function i(c,f){return c=Kn(c,f),c.index=0,c.sibling=null,c}function a(c,f,x){return c.index=x,e?(x=c.alternate,x!==null?(x=x.index,x<f?(c.flags|=2,f):x):(c.flags|=2,f)):(c.flags|=1048576,f)}function s(c){return e&&c.alternate===null&&(c.flags|=2),c}function o(c,f,x,b){return f===null||f.tag!==6?(f=to(x,c.mode,b),f.return=c,f):(f=i(f,x),f.return=c,f)}function l(c,f,x,b){var j=x.type;return j===Nr?w(c,f,x.props.children,b,x.key):f!==null&&(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Dn&&Lu(j)===f.type)?(b=i(f,x.props),b.ref=fi(c,f,x),b.return=c,b):(b=Fa(x.type,x.key,x.props,null,c.mode,b),b.ref=fi(c,f,x),b.return=c,b)}function g(c,f,x,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=no(x,c.mode,b),f.return=c,f):(f=i(f,x.children||[]),f.return=c,f)}function w(c,f,x,b,j){return f===null||f.tag!==7?(f=ur(x,c.mode,b,j),f.return=c,f):(f=i(f,x),f.return=c,f)}function k(c,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=to(""+f,c.mode,x),f.return=c,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case la:return x=Fa(f.type,f.key,f.props,null,c.mode,x),x.ref=fi(c,null,f),x.return=c,x;case br:return f=no(f,c.mode,x),f.return=c,f;case Dn:var b=f._init;return k(c,b(f._payload),x)}if(gi(f)||oi(f))return f=ur(f,c.mode,x,null),f.return=c,f;xa(c,f)}return null}function v(c,f,x,b){var j=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:o(c,f,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case la:return x.key===j?l(c,f,x,b):null;case br:return x.key===j?g(c,f,x,b):null;case Dn:return j=x._init,v(c,f,j(x._payload),b)}if(gi(x)||oi(x))return j!==null?null:w(c,f,x,b,null);xa(c,x)}return null}function h(c,f,x,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return c=c.get(x)||null,o(f,c,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case la:return c=c.get(b.key===null?x:b.key)||null,l(f,c,b,j);case br:return c=c.get(b.key===null?x:b.key)||null,g(f,c,b,j);case Dn:var E=b._init;return h(c,f,x,E(b._payload),j)}if(gi(b)||oi(b))return c=c.get(x)||null,w(f,c,b,j,null);xa(f,b)}return null}function y(c,f,x,b){for(var j=null,E=null,P=f,M=f=0,T=null;P!==null&&M<x.length;M++){P.index>M?(T=P,P=null):T=P.sibling;var I=v(c,P,x[M],b);if(I===null){P===null&&(P=T);break}e&&P&&I.alternate===null&&t(c,P),f=a(I,f,M),E===null?j=I:E.sibling=I,E=I,P=T}if(M===x.length)return n(c,P),Ke&&nr(c,M),j;if(P===null){for(;M<x.length;M++)P=k(c,x[M],b),P!==null&&(f=a(P,f,M),E===null?j=P:E.sibling=P,E=P);return Ke&&nr(c,M),j}for(P=r(c,P);M<x.length;M++)T=h(P,c,M,x[M],b),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?M:T.key),f=a(T,f,M),E===null?j=T:E.sibling=T,E=T);return e&&P.forEach(function(F){return t(c,F)}),Ke&&nr(c,M),j}function p(c,f,x,b){var j=oi(x);if(typeof j!="function")throw Error(ie(150));if(x=j.call(x),x==null)throw Error(ie(151));for(var E=j=null,P=f,M=f=0,T=null,I=x.next();P!==null&&!I.done;M++,I=x.next()){P.index>M?(T=P,P=null):T=P.sibling;var F=v(c,P,I.value,b);if(F===null){P===null&&(P=T);break}e&&P&&F.alternate===null&&t(c,P),f=a(F,f,M),E===null?j=F:E.sibling=F,E=F,P=T}if(I.done)return n(c,P),Ke&&nr(c,M),j;if(P===null){for(;!I.done;M++,I=x.next())I=k(c,I.value,b),I!==null&&(f=a(I,f,M),E===null?j=I:E.sibling=I,E=I);return Ke&&nr(c,M),j}for(P=r(c,P);!I.done;M++,I=x.next())I=h(P,c,M,I.value,b),I!==null&&(e&&I.alternate!==null&&P.delete(I.key===null?M:I.key),f=a(I,f,M),E===null?j=I:E.sibling=I,E=I);return e&&P.forEach(function(S){return t(c,S)}),Ke&&nr(c,M),j}function _(c,f,x,b){if(typeof x=="object"&&x!==null&&x.type===Nr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case la:e:{for(var j=x.key,E=f;E!==null;){if(E.key===j){if(j=x.type,j===Nr){if(E.tag===7){n(c,E.sibling),f=i(E,x.props.children),f.return=c,c=f;break e}}else if(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Dn&&Lu(j)===E.type){n(c,E.sibling),f=i(E,x.props),f.ref=fi(c,E,x),f.return=c,c=f;break e}n(c,E);break}else t(c,E);E=E.sibling}x.type===Nr?(f=ur(x.props.children,c.mode,b,x.key),f.return=c,c=f):(b=Fa(x.type,x.key,x.props,null,c.mode,b),b.ref=fi(c,f,x),b.return=c,c=b)}return s(c);case br:e:{for(E=x.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){n(c,f.sibling),f=i(f,x.children||[]),f.return=c,c=f;break e}else{n(c,f);break}else t(c,f);f=f.sibling}f=no(x,c.mode,b),f.return=c,c=f}return s(c);case Dn:return E=x._init,_(c,f,E(x._payload),b)}if(gi(x))return y(c,f,x,b);if(oi(x))return p(c,f,x,b);xa(c,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(n(c,f.sibling),f=i(f,x),f.return=c,c=f):(n(c,f),f=to(x,c.mode,b),f.return=c,c=f),s(c)):n(c,f)}return _}var Kr=Wd(!0),Vd=Wd(!1),es=Jn(null),ts=null,Mr=null,Nl=null;function Cl(){Nl=Mr=ts=null}function jl(e){var t=es.current;Ge(es),e._currentValue=t}function Ro(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Br(e,t){ts=e,Nl=Mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(Nl!==e)if(e={context:e,memoizedValue:t,next:null},Mr===null){if(ts===null)throw Error(ie(308));Mr=e,ts.dependencies={lanes:0,firstContext:e}}else Mr=Mr.next=e;return t}var sr=null;function El(e){sr===null?sr=[e]:sr.push(e)}function Hd(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,El(t)):(n.next=i.next,i.next=n),t.interleaved=n,En(e,r)}function En(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rn=!1;function zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,En(e,n)}return i=r.interleaved,i===null?(t.next=t,El(r)):(t.next=i.next,i.next=t),r.interleaved=t,En(e,n)}function Ma(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pl(e,n)}}function Du(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ns(e,t,n,r){var i=e.updateQueue;Rn=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,g=l.next;l.next=null,s===null?a=g:s.next=g,s=l;var w=e.alternate;w!==null&&(w=w.updateQueue,o=w.lastBaseUpdate,o!==s&&(o===null?w.firstBaseUpdate=g:o.next=g,w.lastBaseUpdate=l))}if(a!==null){var k=i.baseState;s=0,w=g=l=null,o=a;do{var v=o.lane,h=o.eventTime;if((r&v)===v){w!==null&&(w=w.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,p=o;switch(v=t,h=n,p.tag){case 1:if(y=p.payload,typeof y=="function"){k=y.call(h,k,v);break e}k=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,v=typeof y=="function"?y.call(h,k,v):y,v==null)break e;k=Qe({},k,v);break e;case 2:Rn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[o]:v.push(o))}else h={eventTime:h,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},w===null?(g=w=h,l=k):w=w.next=h,s|=v;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;v=o,o=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(w===null&&(l=k),i.baseState=l,i.firstBaseUpdate=g,i.lastBaseUpdate=w,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);hr|=s,e.lanes=s,e.memoizedState=k}}function Ru(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var Qi={},xn=Jn(Qi),Ui=Jn(Qi),Bi=Jn(Qi);function or(e){if(e===Qi)throw Error(ie(174));return e}function Pl(e,t){switch(Ve(Bi,t),Ve(Ui,e),Ve(xn,Qi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:go(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=go(t,e)}Ge(xn),Ve(xn,t)}function Zr(){Ge(xn),Ge(Ui),Ge(Bi)}function Gd(e){or(Bi.current);var t=or(xn.current),n=go(t,e.type);t!==n&&(Ve(Ui,e),Ve(xn,n))}function Tl(e){Ui.current===e&&(Ge(xn),Ge(Ui))}var Ze=Jn(0);function rs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zs=[];function Al(){for(var e=0;e<Zs.length;e++)Zs[e]._workInProgressVersionPrimary=null;Zs.length=0}var La=Pn.ReactCurrentDispatcher,Xs=Pn.ReactCurrentBatchConfig,fr=0,Xe=null,st=null,dt=null,is=!1,Ci=!1,Wi=0,Gp=0;function yt(){throw Error(ie(321))}function Ml(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cn(e[n],t[n]))return!1;return!0}function Ll(e,t,n,r,i,a){if(fr=a,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,La.current=e===null||e.memoizedState===null?Qp:Jp,e=n(r,i),Ci){a=0;do{if(Ci=!1,Wi=0,25<=a)throw Error(ie(301));a+=1,dt=st=null,t.updateQueue=null,La.current=qp,e=n(r,i)}while(Ci)}if(La.current=as,t=st!==null&&st.next!==null,fr=0,dt=st=Xe=null,is=!1,t)throw Error(ie(300));return e}function Dl(){var e=Wi!==0;return Wi=0,e}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Xe.memoizedState=dt=e:dt=dt.next=e,dt}function en(){if(st===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=dt===null?Xe.memoizedState:dt.next;if(t!==null)dt=t,st=e;else{if(e===null)throw Error(ie(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},dt===null?Xe.memoizedState=dt=e:dt=dt.next=e}return dt}function Vi(e,t){return typeof t=="function"?t(e):t}function Qs(e){var t=en(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var r=st,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,g=a;do{var w=g.lane;if((fr&w)===w)l!==null&&(l=l.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var k={lane:w,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};l===null?(o=l=k,s=r):l=l.next=k,Xe.lanes|=w,hr|=w}g=g.next}while(g!==null&&g!==a);l===null?s=r:l.next=o,cn(r,t.memoizedState)||(Tt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Xe.lanes|=a,hr|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Js(e){var t=en(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);cn(a,t.memoizedState)||(Tt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Kd(){}function Zd(e,t){var n=Xe,r=en(),i=t(),a=!cn(r.memoizedState,i);if(a&&(r.memoizedState=i,Tt=!0),r=r.queue,Rl(Jd.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Hi(9,Qd.bind(null,n,r,i,t),void 0,null),ft===null)throw Error(ie(349));fr&30||Xd(n,t,i)}return i}function Xd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qd(e,t,n,r){t.value=n,t.getSnapshot=r,qd(t)&&ef(e)}function Jd(e,t,n){return n(function(){qd(t)&&ef(e)})}function qd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cn(e,n)}catch{return!0}}function ef(e){var t=En(e,1);t!==null&&un(t,e,1,-1)}function Iu(e){var t=gn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},t.queue=e,e=e.dispatch=Xp.bind(null,Xe,e),[t.memoizedState,e]}function Hi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tf(){return en().memoizedState}function Da(e,t,n,r){var i=gn();Xe.flags|=e,i.memoizedState=Hi(1|t,n,void 0,r===void 0?null:r)}function ks(e,t,n,r){var i=en();r=r===void 0?null:r;var a=void 0;if(st!==null){var s=st.memoizedState;if(a=s.destroy,r!==null&&Ml(r,s.deps)){i.memoizedState=Hi(t,n,a,r);return}}Xe.flags|=e,i.memoizedState=Hi(1|t,n,a,r)}function Ou(e,t){return Da(8390656,8,e,t)}function Rl(e,t){return ks(2048,8,e,t)}function nf(e,t){return ks(4,2,e,t)}function rf(e,t){return ks(4,4,e,t)}function af(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sf(e,t,n){return n=n!=null?n.concat([e]):null,ks(4,4,af.bind(null,t,e),n)}function Il(){}function of(e,t){var n=en();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ml(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lf(e,t){var n=en();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ml(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function uf(e,t,n){return fr&21?(cn(n,t)||(n=hd(),Xe.lanes|=n,hr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tt=!0),e.memoizedState=n)}function Kp(e,t){var n=Ue;Ue=n!==0&&4>n?n:4,e(!0);var r=Xs.transition;Xs.transition={};try{e(!1),t()}finally{Ue=n,Xs.transition=r}}function cf(){return en().memoizedState}function Zp(e,t,n){var r=Gn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},df(e))ff(t,n);else if(n=Hd(e,t,n,r),n!==null){var i=Nt();un(n,e,r,i),hf(n,t,r)}}function Xp(e,t,n){var r=Gn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(df(e))ff(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,cn(o,s)){var l=t.interleaved;l===null?(i.next=i,El(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Hd(e,t,i,r),n!==null&&(i=Nt(),un(n,e,r,i),hf(n,t,r))}}function df(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function ff(e,t){Ci=is=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pl(e,n)}}var as={readContext:qt,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},Qp={readContext:qt,useCallback:function(e,t){return gn().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:Ou,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Da(4194308,4,af.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Da(4194308,4,e,t)},useInsertionEffect:function(e,t){return Da(4,2,e,t)},useMemo:function(e,t){var n=gn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zp.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=gn();return e={current:e},t.memoizedState=e},useState:Iu,useDebugValue:Il,useDeferredValue:function(e){return gn().memoizedState=e},useTransition:function(){var e=Iu(!1),t=e[0];return e=Kp.bind(null,e[1]),gn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,i=gn();if(Ke){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=t(),ft===null)throw Error(ie(349));fr&30||Xd(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ou(Jd.bind(null,r,a,e),[e]),r.flags|=2048,Hi(9,Qd.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=gn(),t=ft.identifierPrefix;if(Ke){var n=bn,r=Sn;n=(r&~(1<<32-ln(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Gp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jp={readContext:qt,useCallback:of,useContext:qt,useEffect:Rl,useImperativeHandle:sf,useInsertionEffect:nf,useLayoutEffect:rf,useMemo:lf,useReducer:Qs,useRef:tf,useState:function(){return Qs(Vi)},useDebugValue:Il,useDeferredValue:function(e){var t=en();return uf(t,st.memoizedState,e)},useTransition:function(){var e=Qs(Vi)[0],t=en().memoizedState;return[e,t]},useMutableSource:Kd,useSyncExternalStore:Zd,useId:cf,unstable_isNewReconciler:!1},qp={readContext:qt,useCallback:of,useContext:qt,useEffect:Rl,useImperativeHandle:sf,useInsertionEffect:nf,useLayoutEffect:rf,useMemo:lf,useReducer:Js,useRef:tf,useState:function(){return Js(Vi)},useDebugValue:Il,useDeferredValue:function(e){var t=en();return st===null?t.memoizedState=e:uf(t,st.memoizedState,e)},useTransition:function(){var e=Js(Vi)[0],t=en().memoizedState;return[e,t]},useMutableSource:Kd,useSyncExternalStore:Zd,useId:cf,unstable_isNewReconciler:!1};function an(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Io(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ws={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nt(),i=Gn(e),a=Nn(r,i);a.payload=t,n!=null&&(a.callback=n),t=Hn(e,a,i),t!==null&&(un(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nt(),i=Gn(e),a=Nn(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Hn(e,a,i),t!==null&&(un(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nt(),r=Gn(e),i=Nn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Hn(e,i,r),t!==null&&(un(t,e,r,n),Ma(t,e,r))}};function Fu(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Ii(n,r)||!Ii(i,a):!0}function pf(e,t,n){var r=!1,i=Xn,a=t.contextType;return typeof a=="object"&&a!==null?a=qt(a):(i=Mt(t)?cr:kt.current,r=t.contextTypes,a=(r=r!=null)?Yr(e,i):Xn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ws,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function $u(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ws.enqueueReplaceState(t,t.state,null)}function Oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},zl(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=qt(a):(a=Mt(t)?cr:kt.current,i.context=Yr(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Io(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ws.enqueueReplaceState(i,i.state,null),ns(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var n="",r=t;do n+=jh(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function qs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var e0=typeof WeakMap=="function"?WeakMap:Map;function mf(e,t,n){n=Nn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){os||(os=!0,Zo=r),Fo(e,t)},n}function gf(e,t,n){n=Nn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Fo(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Fo(e,t),typeof r!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Uu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new e0;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=p0.bind(null,e,t,n),t.then(e,e))}function Bu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wu(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nn(-1,1),t.tag=2,Hn(n,t,1))),n.lanes|=1),e)}var t0=Pn.ReactCurrentOwner,Tt=!1;function bt(e,t,n,r){t.child=e===null?Vd(t,null,n,r):Kr(t,e.child,n,r)}function Vu(e,t,n,r,i){n=n.render;var a=t.ref;return Br(t,i),r=Ll(e,t,n,r,a,i),n=Dl(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zn(e,t,i)):(Ke&&n&&_l(t),t.flags|=1,bt(e,t,r,i),t.child)}function Hu(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Hl(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,yf(e,t,a,r,i)):(e=Fa(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ii,n(s,r)&&e.ref===t.ref)return zn(e,t,i)}return t.flags|=1,e=Kn(a,r),e.ref=t.ref,e.return=t,t.child=e}function yf(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Ii(a,r)&&e.ref===t.ref)if(Tt=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Tt=!0);else return t.lanes=e.lanes,zn(e,t,i)}return $o(e,t,n,r,i)}function vf(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Dr,Ft),Ft|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(Dr,Ft),Ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ve(Dr,Ft),Ft|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ve(Dr,Ft),Ft|=r;return bt(e,t,i,n),t.child}function xf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $o(e,t,n,r,i){var a=Mt(n)?cr:kt.current;return a=Yr(t,a),Br(t,i),n=Ll(e,t,n,r,a,i),r=Dl(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zn(e,t,i)):(Ke&&r&&_l(t),t.flags|=1,bt(e,t,n,i),t.child)}function Yu(e,t,n,r,i){if(Mt(n)){var a=!0;Qa(t)}else a=!1;if(Br(t,i),t.stateNode===null)Ra(e,t),pf(t,n,r),Oo(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,g=n.contextType;typeof g=="object"&&g!==null?g=qt(g):(g=Mt(n)?cr:kt.current,g=Yr(t,g));var w=n.getDerivedStateFromProps,k=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function";k||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==g)&&$u(t,s,r,g),Rn=!1;var v=t.memoizedState;s.state=v,ns(t,r,s,i),l=t.memoizedState,o!==r||v!==l||At.current||Rn?(typeof w=="function"&&(Io(t,n,w,r),l=t.memoizedState),(o=Rn||Fu(t,n,o,r,v,l,g))?(k||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=g,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Yd(e,t),o=t.memoizedProps,g=t.type===t.elementType?o:an(t.type,o),s.props=g,k=t.pendingProps,v=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=qt(l):(l=Mt(n)?cr:kt.current,l=Yr(t,l));var h=n.getDerivedStateFromProps;(w=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==k||v!==l)&&$u(t,s,r,l),Rn=!1,v=t.memoizedState,s.state=v,ns(t,r,s,i);var y=t.memoizedState;o!==k||v!==y||At.current||Rn?(typeof h=="function"&&(Io(t,n,h,r),y=t.memoizedState),(g=Rn||Fu(t,n,g,r,v,y,l)||!1)?(w||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=l,r=g):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return Uo(e,t,n,r,a,i)}function Uo(e,t,n,r,i,a){xf(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Tu(t,n,!1),zn(e,t,a);r=t.stateNode,t0.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Kr(t,e.child,null,a),t.child=Kr(t,null,o,a)):bt(e,t,o,a),t.memoizedState=r.state,i&&Tu(t,n,!0),t.child}function kf(e){var t=e.stateNode;t.pendingContext?Pu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pu(e,t.context,!1),Pl(e,t.containerInfo)}function Gu(e,t,n,r,i){return Gr(),bl(i),t.flags|=256,bt(e,t,n,r),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0};function Wo(e){return{baseLanes:e,cachePool:null,transitions:null}}function wf(e,t,n){var r=t.pendingProps,i=Ze.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ve(Ze,i&1),e===null)return Do(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=bs(s,r,0,null),e=ur(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Wo(n),t.memoizedState=Bo,e):Ol(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return n0(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Kn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Kn(o,a):(a=ur(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Wo(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Bo,r}return a=e.child,e=a.sibling,r=Kn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ol(e,t){return t=bs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ka(e,t,n,r){return r!==null&&bl(r),Kr(t,e.child,null,n),e=Ol(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function n0(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=qs(Error(ie(422))),ka(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=bs({mode:"visible",children:r.children},i,0,null),a=ur(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Kr(t,e.child,null,s),t.child.memoizedState=Wo(s),t.memoizedState=Bo,a);if(!(t.mode&1))return ka(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(ie(419)),r=qs(a,r,void 0),ka(e,t,s,r)}if(o=(s&e.childLanes)!==0,Tt||o){if(r=ft,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,En(e,i),un(r,e,i,-1))}return Vl(),r=qs(Error(ie(421))),ka(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=m0.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,$t=Vn(i.nextSibling),Ut=t,Ke=!0,on=null,e!==null&&(Zt[Xt++]=Sn,Zt[Xt++]=bn,Zt[Xt++]=dr,Sn=e.id,bn=e.overflow,dr=t),t=Ol(t,r.children),t.flags|=4096,t)}function Ku(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ro(e.return,t,n)}function eo(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function _f(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bt(e,t,r.children,n),r=Ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ku(e,n,t);else if(e.tag===19)Ku(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ve(Ze,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&rs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),eo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&rs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}eo(t,!0,n,null,a);break;case"together":eo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ra(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ie(153));if(t.child!==null){for(e=t.child,n=Kn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function r0(e,t,n){switch(t.tag){case 3:kf(t),Gr();break;case 5:Gd(t);break;case 1:Mt(t.type)&&Qa(t);break;case 4:Pl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ve(es,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Ze,Ze.current&1),t.flags|=128,null):n&t.child.childLanes?wf(e,t,n):(Ve(Ze,Ze.current&1),e=zn(e,t,n),e!==null?e.sibling:null);Ve(Ze,Ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _f(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Ze,Ze.current),r)break;return null;case 22:case 23:return t.lanes=0,vf(e,t,n)}return zn(e,t,n)}var Sf,Vo,bf,Nf;Sf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vo=function(){};bf=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,or(xn.current);var a=null;switch(n){case"input":i=fo(e,i),r=fo(e,r),a=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),a=[];break;case"textarea":i=mo(e,i),r=mo(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Za)}yo(n,r);var s;n=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var o=i[g];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Pi.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in r){var l=r[g];if(o=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&l!==o&&(l!=null||o!=null))if(g==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(g,n)),n=l;else g==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(g,l)):g==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(g,""+l):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Pi.hasOwnProperty(g)?(l!=null&&g==="onScroll"&&Ye("scroll",e),a||o===l||(a=[])):(a=a||[]).push(g,l))}n&&(a=a||[]).push("style",n);var g=a;(t.updateQueue=g)&&(t.flags|=4)}};Nf=function(e,t,n,r){n!==r&&(t.flags|=4)};function hi(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function i0(e,t,n){var r=t.pendingProps;switch(Sl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return Mt(t.type)&&Xa(),vt(t),null;case 3:return r=t.stateNode,Zr(),Ge(At),Ge(kt),Al(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(va(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,on!==null&&(Jo(on),on=null))),Vo(e,t),vt(t),null;case 5:Tl(t);var i=or(Bi.current);if(n=t.type,e!==null&&t.stateNode!=null)bf(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ie(166));return vt(t),null}if(e=or(xn.current),va(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[yn]=t,r[$i]=a,e=(t.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<vi.length;i++)Ye(vi[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":ru(r,a),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ye("invalid",r);break;case"textarea":au(r,a),Ye("invalid",r)}yo(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&ya(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&ya(r.textContent,o,e),i=["children",""+o]):Pi.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Ye("scroll",r)}switch(n){case"input":ua(r),iu(r,a,!0);break;case"textarea":ua(r),su(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Za)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[yn]=t,e[$i]=r,Sf(e,t,!1,!1),t.stateNode=e;e:{switch(s=vo(n,r),n){case"dialog":Ye("cancel",e),Ye("close",e),i=r;break;case"iframe":case"object":case"embed":Ye("load",e),i=r;break;case"video":case"audio":for(i=0;i<vi.length;i++)Ye(vi[i],e);i=r;break;case"source":Ye("error",e),i=r;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),i=r;break;case"details":Ye("toggle",e),i=r;break;case"input":ru(e,r),i=fo(e,r),Ye("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),Ye("invalid",e);break;case"textarea":au(e,r),i=mo(e,r),Ye("invalid",e);break;default:i=r}yo(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?td(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qc(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ti(e,l):typeof l=="number"&&Ti(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Pi.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ye("scroll",e):l!=null&&ll(e,a,l,s))}switch(n){case"input":ua(e),iu(e,r,!1);break;case"textarea":ua(e),su(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Or(e,!!r.multiple,a,!1):r.defaultValue!=null&&Or(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vt(t),null;case 6:if(e&&t.stateNode!=null)Nf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ie(166));if(n=or(Bi.current),or(xn.current),va(t)){if(r=t.stateNode,n=t.memoizedProps,r[yn]=t,(a=r.nodeValue!==n)&&(e=Ut,e!==null))switch(e.tag){case 3:ya(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ya(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yn]=t,t.stateNode=r}return vt(t),null;case 13:if(Ge(Ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&$t!==null&&t.mode&1&&!(t.flags&128))Bd(),Gr(),t.flags|=98560,a=!1;else if(a=va(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ie(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ie(317));a[yn]=t}else Gr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vt(t),a=!1}else on!==null&&(Jo(on),on=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?ot===0&&(ot=3):Vl())),t.updateQueue!==null&&(t.flags|=4),vt(t),null);case 4:return Zr(),Vo(e,t),e===null&&Oi(t.stateNode.containerInfo),vt(t),null;case 10:return jl(t.type._context),vt(t),null;case 17:return Mt(t.type)&&Xa(),vt(t),null;case 19:if(Ge(Ze),a=t.memoizedState,a===null)return vt(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)hi(a,!1);else{if(ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=rs(e),s!==null){for(t.flags|=128,hi(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ve(Ze,Ze.current&1|2),t.child}e=e.sibling}a.tail!==null&&nt()>Qr&&(t.flags|=128,r=!0,hi(a,!1),t.lanes=4194304)}else{if(!r)if(e=rs(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ke)return vt(t),null}else 2*nt()-a.renderingStartTime>Qr&&n!==1073741824&&(t.flags|=128,r=!0,hi(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=nt(),t.sibling=null,n=Ze.current,Ve(Ze,r?n&1|2:n&1),t):(vt(t),null);case 22:case 23:return Wl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ft&1073741824&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),null;case 24:return null;case 25:return null}throw Error(ie(156,t.tag))}function a0(e,t){switch(Sl(t),t.tag){case 1:return Mt(t.type)&&Xa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zr(),Ge(At),Ge(kt),Al(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tl(t),null;case 13:if(Ge(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ie(340));Gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Ze),null;case 4:return Zr(),null;case 10:return jl(t.type._context),null;case 22:case 23:return Wl(),null;case 24:return null;default:return null}}var wa=!1,xt=!1,s0=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Lr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(e,t,r)}else n.current=null}function Ho(e,t,n){try{n()}catch(r){tt(e,t,r)}}var Zu=!1;function o0(e,t){if(Eo=Ya,e=zd(),wl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,g=0,w=0,k=e,v=null;t:for(;;){for(var h;k!==n||i!==0&&k.nodeType!==3||(o=s+i),k!==a||r!==0&&k.nodeType!==3||(l=s+r),k.nodeType===3&&(s+=k.nodeValue.length),(h=k.firstChild)!==null;)v=k,k=h;for(;;){if(k===e)break t;if(v===n&&++g===i&&(o=s),v===a&&++w===r&&(l=s),(h=k.nextSibling)!==null)break;k=v,v=k.parentNode}k=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zo={focusedElem:e,selectionRange:n},Ya=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,_=y.memoizedState,c=t.stateNode,f=c.getSnapshotBeforeUpdate(t.elementType===t.type?p:an(t.type,p),_);c.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(b){tt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return y=Zu,Zu=!1,y}function ji(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ho(t,n,a)}i=i.next}while(i!==r)}}function _s(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Cf(e){var t=e.alternate;t!==null&&(e.alternate=null,Cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yn],delete t[$i],delete t[Ao],delete t[Wp],delete t[Vp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jf(e){return e.tag===5||e.tag===3||e.tag===4}function Xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Go(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Za));else if(r!==4&&(e=e.child,e!==null))for(Go(e,t,n),e=e.sibling;e!==null;)Go(e,t,n),e=e.sibling}function Ko(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ko(e,t,n),e=e.sibling;e!==null;)Ko(e,t,n),e=e.sibling}var pt=null,sn=!1;function Ln(e,t,n){for(n=n.child;n!==null;)Ef(e,t,n),n=n.sibling}function Ef(e,t,n){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(ps,n)}catch{}switch(n.tag){case 5:xt||Lr(n,t);case 6:var r=pt,i=sn;pt=null,Ln(e,t,n),pt=r,sn=i,pt!==null&&(sn?(e=pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(sn?(e=pt,n=n.stateNode,e.nodeType===8?Gs(e.parentNode,n):e.nodeType===1&&Gs(e,n),Di(e)):Gs(pt,n.stateNode));break;case 4:r=pt,i=sn,pt=n.stateNode.containerInfo,sn=!0,Ln(e,t,n),pt=r,sn=i;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Ho(n,t,s),i=i.next}while(i!==r)}Ln(e,t,n);break;case 1:if(!xt&&(Lr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){tt(n,t,o)}Ln(e,t,n);break;case 21:Ln(e,t,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,Ln(e,t,n),xt=r):Ln(e,t,n);break;default:Ln(e,t,n)}}function Qu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new s0),t.forEach(function(r){var i=g0.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:pt=o.stateNode,sn=!1;break e;case 3:pt=o.stateNode.containerInfo,sn=!0;break e;case 4:pt=o.stateNode.containerInfo,sn=!0;break e}o=o.return}if(pt===null)throw Error(ie(160));Ef(a,s,i),pt=null,sn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(g){tt(i,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zf(t,e),t=t.sibling}function zf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rn(t,e),mn(e),r&4){try{ji(3,e,e.return),_s(3,e)}catch(p){tt(e,e.return,p)}try{ji(5,e,e.return)}catch(p){tt(e,e.return,p)}}break;case 1:rn(t,e),mn(e),r&512&&n!==null&&Lr(n,n.return);break;case 5:if(rn(t,e),mn(e),r&512&&n!==null&&Lr(n,n.return),e.flags&32){var i=e.stateNode;try{Ti(i,"")}catch(p){tt(e,e.return,p)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Xc(i,a),vo(o,s);var g=vo(o,a);for(s=0;s<l.length;s+=2){var w=l[s],k=l[s+1];w==="style"?td(i,k):w==="dangerouslySetInnerHTML"?qc(i,k):w==="children"?Ti(i,k):ll(i,w,k,g)}switch(o){case"input":ho(i,a);break;case"textarea":Qc(i,a);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Or(i,!!a.multiple,h,!1):v!==!!a.multiple&&(a.defaultValue!=null?Or(i,!!a.multiple,a.defaultValue,!0):Or(i,!!a.multiple,a.multiple?[]:"",!1))}i[$i]=a}catch(p){tt(e,e.return,p)}}break;case 6:if(rn(t,e),mn(e),r&4){if(e.stateNode===null)throw Error(ie(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(p){tt(e,e.return,p)}}break;case 3:if(rn(t,e),mn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Di(t.containerInfo)}catch(p){tt(e,e.return,p)}break;case 4:rn(t,e),mn(e);break;case 13:rn(t,e),mn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ul=nt())),r&4&&Qu(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(xt=(g=xt)||w,rn(t,e),xt=g):rn(t,e),mn(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!w&&e.mode&1)for(pe=e,w=e.child;w!==null;){for(k=pe=w;pe!==null;){switch(v=pe,h=v.child,v.tag){case 0:case 11:case 14:case 15:ji(4,v,v.return);break;case 1:Lr(v,v.return);var y=v.stateNode;if(typeof y.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(p){tt(r,n,p)}}break;case 5:Lr(v,v.return);break;case 22:if(v.memoizedState!==null){qu(k);continue}}h!==null?(h.return=v,pe=h):qu(k)}w=w.sibling}e:for(w=null,k=e;;){if(k.tag===5){if(w===null){w=k;try{i=k.stateNode,g?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=k.stateNode,l=k.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=ed("display",s))}catch(p){tt(e,e.return,p)}}}else if(k.tag===6){if(w===null)try{k.stateNode.nodeValue=g?"":k.memoizedProps}catch(p){tt(e,e.return,p)}}else if((k.tag!==22&&k.tag!==23||k.memoizedState===null||k===e)&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===e)break e;for(;k.sibling===null;){if(k.return===null||k.return===e)break e;w===k&&(w=null),k=k.return}w===k&&(w=null),k.sibling.return=k.return,k=k.sibling}}break;case 19:rn(t,e),mn(e),r&4&&Qu(e);break;case 21:break;default:rn(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jf(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ti(i,""),r.flags&=-33);var a=Xu(e);Ko(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=Xu(e);Go(e,o,s);break;default:throw Error(ie(161))}}catch(l){tt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function l0(e,t,n){pe=e,Pf(e)}function Pf(e,t,n){for(var r=(e.mode&1)!==0;pe!==null;){var i=pe,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||wa;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||xt;o=wa;var g=xt;if(wa=s,(xt=l)&&!g)for(pe=i;pe!==null;)s=pe,l=s.child,s.tag===22&&s.memoizedState!==null?ec(i):l!==null?(l.return=s,pe=l):ec(i);for(;a!==null;)pe=a,Pf(a),a=a.sibling;pe=i,wa=o,xt=g}Ju(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,pe=a):Ju(e)}}function Ju(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xt||_s(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:an(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ru(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ru(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var w=g.memoizedState;if(w!==null){var k=w.dehydrated;k!==null&&Di(k)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}xt||t.flags&512&&Yo(t)}catch(v){tt(t,t.return,v)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function qu(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function ec(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_s(4,t)}catch(l){tt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){tt(t,i,l)}}var a=t.return;try{Yo(t)}catch(l){tt(t,a,l)}break;case 5:var s=t.return;try{Yo(t)}catch(l){tt(t,s,l)}}}catch(l){tt(t,t.return,l)}if(t===e){pe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,pe=o;break}pe=t.return}}var u0=Math.ceil,ss=Pn.ReactCurrentDispatcher,Fl=Pn.ReactCurrentOwner,Jt=Pn.ReactCurrentBatchConfig,Oe=0,ft=null,it=null,mt=0,Ft=0,Dr=Jn(0),ot=0,Yi=null,hr=0,Ss=0,$l=0,Ei=null,Pt=null,Ul=0,Qr=1/0,wn=null,os=!1,Zo=null,Yn=null,_a=!1,$n=null,ls=0,zi=0,Xo=null,Ia=-1,Oa=0;function Nt(){return Oe&6?nt():Ia!==-1?Ia:Ia=nt()}function Gn(e){return e.mode&1?Oe&2&&mt!==0?mt&-mt:Yp.transition!==null?(Oa===0&&(Oa=hd()),Oa):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:kd(e.type)),e):1}function un(e,t,n,r){if(50<zi)throw zi=0,Xo=null,Error(ie(185));Ki(e,n,r),(!(Oe&2)||e!==ft)&&(e===ft&&(!(Oe&2)&&(Ss|=n),ot===4&&On(e,mt)),Lt(e,r),n===1&&Oe===0&&!(t.mode&1)&&(Qr=nt()+500,xs&&qn()))}function Lt(e,t){var n=e.callbackNode;Yh(e,t);var r=Ha(e,e===ft?mt:0);if(r===0)n!==null&&uu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&uu(n),t===1)e.tag===0?Hp(tc.bind(null,e)):Fd(tc.bind(null,e)),Up(function(){!(Oe&6)&&qn()}),n=null;else{switch(pd(r)){case 1:n=hl;break;case 4:n=dd;break;case 16:n=Va;break;case 536870912:n=fd;break;default:n=Va}n=Of(n,Tf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Tf(e,t){if(Ia=-1,Oa=0,Oe&6)throw Error(ie(327));var n=e.callbackNode;if(Wr()&&e.callbackNode!==n)return null;var r=Ha(e,e===ft?mt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=us(e,r);else{t=r;var i=Oe;Oe|=2;var a=Mf();(ft!==e||mt!==t)&&(wn=null,Qr=nt()+500,lr(e,t));do try{f0();break}catch(o){Af(e,o)}while(!0);Cl(),ss.current=a,Oe=i,it!==null?t=0:(ft=null,mt=0,t=ot)}if(t!==0){if(t===2&&(i=So(e),i!==0&&(r=i,t=Qo(e,i))),t===1)throw n=Yi,lr(e,0),On(e,r),Lt(e,nt()),n;if(t===6)On(e,r);else{if(i=e.current.alternate,!(r&30)&&!c0(i)&&(t=us(e,r),t===2&&(a=So(e),a!==0&&(r=a,t=Qo(e,a))),t===1))throw n=Yi,lr(e,0),On(e,r),Lt(e,nt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ie(345));case 2:rr(e,Pt,wn);break;case 3:if(On(e,r),(r&130023424)===r&&(t=Ul+500-nt(),10<t)){if(Ha(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Nt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=To(rr.bind(null,e,Pt,wn),t);break}rr(e,Pt,wn);break;case 4:if(On(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ln(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*u0(r/1960))-r,10<r){e.timeoutHandle=To(rr.bind(null,e,Pt,wn),r);break}rr(e,Pt,wn);break;case 5:rr(e,Pt,wn);break;default:throw Error(ie(329))}}}return Lt(e,nt()),e.callbackNode===n?Tf.bind(null,e):null}function Qo(e,t){var n=Ei;return e.current.memoizedState.isDehydrated&&(lr(e,t).flags|=256),e=us(e,t),e!==2&&(t=Pt,Pt=n,t!==null&&Jo(t)),e}function Jo(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function c0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!cn(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function On(e,t){for(t&=~$l,t&=~Ss,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ln(t),r=1<<n;e[n]=-1,t&=~r}}function tc(e){if(Oe&6)throw Error(ie(327));Wr();var t=Ha(e,0);if(!(t&1))return Lt(e,nt()),null;var n=us(e,t);if(e.tag!==0&&n===2){var r=So(e);r!==0&&(t=r,n=Qo(e,r))}if(n===1)throw n=Yi,lr(e,0),On(e,t),Lt(e,nt()),n;if(n===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rr(e,Pt,wn),Lt(e,nt()),null}function Bl(e,t){var n=Oe;Oe|=1;try{return e(t)}finally{Oe=n,Oe===0&&(Qr=nt()+500,xs&&qn())}}function pr(e){$n!==null&&$n.tag===0&&!(Oe&6)&&Wr();var t=Oe;Oe|=1;var n=Jt.transition,r=Ue;try{if(Jt.transition=null,Ue=1,e)return e()}finally{Ue=r,Jt.transition=n,Oe=t,!(Oe&6)&&qn()}}function Wl(){Ft=Dr.current,Ge(Dr)}function lr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$p(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(Sl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xa();break;case 3:Zr(),Ge(At),Ge(kt),Al();break;case 5:Tl(r);break;case 4:Zr();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:jl(r.type._context);break;case 22:case 23:Wl()}n=n.return}if(ft=e,it=e=Kn(e.current,null),mt=Ft=t,ot=0,Yi=null,$l=Ss=hr=0,Pt=Ei=null,sr!==null){for(t=0;t<sr.length;t++)if(n=sr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}sr=null}return e}function Af(e,t){do{var n=it;try{if(Cl(),La.current=as,is){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}is=!1}if(fr=0,dt=st=Xe=null,Ci=!1,Wi=0,Fl.current=null,n===null||n.return===null){ot=1,Yi=t,it=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=mt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var g=l,w=o,k=w.tag;if(!(w.mode&1)&&(k===0||k===11||k===15)){var v=w.alternate;v?(w.updateQueue=v.updateQueue,w.memoizedState=v.memoizedState,w.lanes=v.lanes):(w.updateQueue=null,w.memoizedState=null)}var h=Bu(s);if(h!==null){h.flags&=-257,Wu(h,s,o,a,t),h.mode&1&&Uu(a,g,t),t=h,l=g;var y=t.updateQueue;if(y===null){var p=new Set;p.add(l),t.updateQueue=p}else y.add(l);break e}else{if(!(t&1)){Uu(a,g,t),Vl();break e}l=Error(ie(426))}}else if(Ke&&o.mode&1){var _=Bu(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Wu(_,s,o,a,t),bl(Xr(l,o));break e}}a=l=Xr(l,o),ot!==4&&(ot=2),Ei===null?Ei=[a]:Ei.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var c=mf(a,l,t);Du(a,c);break e;case 1:o=l;var f=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Yn===null||!Yn.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=gf(a,o,t);Du(a,b);break e}}a=a.return}while(a!==null)}Df(n)}catch(j){t=j,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function Mf(){var e=ss.current;return ss.current=as,e===null?as:e}function Vl(){(ot===0||ot===3||ot===2)&&(ot=4),ft===null||!(hr&268435455)&&!(Ss&268435455)||On(ft,mt)}function us(e,t){var n=Oe;Oe|=2;var r=Mf();(ft!==e||mt!==t)&&(wn=null,lr(e,t));do try{d0();break}catch(i){Af(e,i)}while(!0);if(Cl(),Oe=n,ss.current=r,it!==null)throw Error(ie(261));return ft=null,mt=0,ot}function d0(){for(;it!==null;)Lf(it)}function f0(){for(;it!==null&&!Ih();)Lf(it)}function Lf(e){var t=If(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?Df(e):it=t,Fl.current=null}function Df(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=a0(n,t),n!==null){n.flags&=32767,it=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,it=null;return}}else if(n=i0(n,t,Ft),n!==null){it=n;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);ot===0&&(ot=5)}function rr(e,t,n){var r=Ue,i=Jt.transition;try{Jt.transition=null,Ue=1,h0(e,t,n,r)}finally{Jt.transition=i,Ue=r}return null}function h0(e,t,n,r){do Wr();while($n!==null);if(Oe&6)throw Error(ie(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Gh(e,a),e===ft&&(it=ft=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_a||(_a=!0,Of(Va,function(){return Wr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Jt.transition,Jt.transition=null;var s=Ue;Ue=1;var o=Oe;Oe|=4,Fl.current=null,o0(e,n),zf(n,e),Mp(zo),Ya=!!Eo,zo=Eo=null,e.current=n,l0(n),Oh(),Oe=o,Ue=s,Jt.transition=a}else e.current=n;if(_a&&(_a=!1,$n=e,ls=i),a=e.pendingLanes,a===0&&(Yn=null),Uh(n.stateNode),Lt(e,nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(os)throw os=!1,e=Zo,Zo=null,e;return ls&1&&e.tag!==0&&Wr(),a=e.pendingLanes,a&1?e===Xo?zi++:(zi=0,Xo=e):zi=0,qn(),null}function Wr(){if($n!==null){var e=pd(ls),t=Jt.transition,n=Ue;try{if(Jt.transition=null,Ue=16>e?16:e,$n===null)var r=!1;else{if(e=$n,$n=null,ls=0,Oe&6)throw Error(ie(331));var i=Oe;for(Oe|=4,pe=e.current;pe!==null;){var a=pe,s=a.child;if(pe.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var g=o[l];for(pe=g;pe!==null;){var w=pe;switch(w.tag){case 0:case 11:case 15:ji(8,w,a)}var k=w.child;if(k!==null)k.return=w,pe=k;else for(;pe!==null;){w=pe;var v=w.sibling,h=w.return;if(Cf(w),w===g){pe=null;break}if(v!==null){v.return=h,pe=v;break}pe=h}}}var y=a.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var _=p.sibling;p.sibling=null,p=_}while(p!==null)}}pe=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,pe=s;else e:for(;pe!==null;){if(a=pe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ji(9,a,a.return)}var c=a.sibling;if(c!==null){c.return=a.return,pe=c;break e}pe=a.return}}var f=e.current;for(pe=f;pe!==null;){s=pe;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,pe=x;else e:for(s=f;pe!==null;){if(o=pe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:_s(9,o)}}catch(j){tt(o,o.return,j)}if(o===s){pe=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,pe=b;break e}pe=o.return}}if(Oe=i,qn(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(ps,e)}catch{}r=!0}return r}finally{Ue=n,Jt.transition=t}}return!1}function nc(e,t,n){t=Xr(n,t),t=mf(e,t,1),e=Hn(e,t,1),t=Nt(),e!==null&&(Ki(e,1,t),Lt(e,t))}function tt(e,t,n){if(e.tag===3)nc(e,e,n);else for(;t!==null;){if(t.tag===3){nc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yn===null||!Yn.has(r))){e=Xr(n,e),e=gf(t,e,1),t=Hn(t,e,1),e=Nt(),t!==null&&(Ki(t,1,e),Lt(t,e));break}}t=t.return}}function p0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Nt(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(mt&n)===n&&(ot===4||ot===3&&(mt&130023424)===mt&&500>nt()-Ul?lr(e,0):$l|=n),Lt(e,t)}function Rf(e,t){t===0&&(e.mode&1?(t=fa,fa<<=1,!(fa&130023424)&&(fa=4194304)):t=1);var n=Nt();e=En(e,t),e!==null&&(Ki(e,t,n),Lt(e,n))}function m0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rf(e,n)}function g0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(t),Rf(e,n)}var If;If=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||At.current)Tt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Tt=!1,r0(e,t,n);Tt=!!(e.flags&131072)}else Tt=!1,Ke&&t.flags&1048576&&$d(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ra(e,t),e=t.pendingProps;var i=Yr(t,kt.current);Br(t,n),i=Ll(null,t,r,e,i,n);var a=Dl();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mt(r)?(a=!0,Qa(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zl(t),i.updater=ws,t.stateNode=i,i._reactInternals=t,Oo(t,r,e,n),t=Uo(null,t,r,!0,a,n)):(t.tag=0,Ke&&a&&_l(t),bt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ra(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=v0(r),e=an(r,e),i){case 0:t=$o(null,t,r,e,n);break e;case 1:t=Yu(null,t,r,e,n);break e;case 11:t=Vu(null,t,r,e,n);break e;case 14:t=Hu(null,t,r,an(r.type,e),n);break e}throw Error(ie(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:an(r,i),$o(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:an(r,i),Yu(e,t,r,i,n);case 3:e:{if(kf(t),e===null)throw Error(ie(387));r=t.pendingProps,a=t.memoizedState,i=a.element,Yd(e,t),ns(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Xr(Error(ie(423)),t),t=Gu(e,t,r,n,i);break e}else if(r!==i){i=Xr(Error(ie(424)),t),t=Gu(e,t,r,n,i);break e}else for($t=Vn(t.stateNode.containerInfo.firstChild),Ut=t,Ke=!0,on=null,n=Vd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gr(),r===i){t=zn(e,t,n);break e}bt(e,t,r,n)}t=t.child}return t;case 5:return Gd(t),e===null&&Do(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Po(r,i)?s=null:a!==null&&Po(r,a)&&(t.flags|=32),xf(e,t),bt(e,t,s,n),t.child;case 6:return e===null&&Do(t),null;case 13:return wf(e,t,n);case 4:return Pl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Kr(t,null,r,n):bt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:an(r,i),Vu(e,t,r,i,n);case 7:return bt(e,t,t.pendingProps,n),t.child;case 8:return bt(e,t,t.pendingProps.children,n),t.child;case 12:return bt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ve(es,r._currentValue),r._currentValue=s,a!==null)if(cn(a.value,s)){if(a.children===i.children&&!At.current){t=zn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Nn(-1,n&-n),l.tag=2;var g=a.updateQueue;if(g!==null){g=g.shared;var w=g.pending;w===null?l.next=l:(l.next=w.next,w.next=l),g.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Ro(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ie(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Ro(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}bt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Br(t,n),i=qt(i),r=r(i),t.flags|=1,bt(e,t,r,n),t.child;case 14:return r=t.type,i=an(r,t.pendingProps),i=an(r.type,i),Hu(e,t,r,i,n);case 15:return yf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:an(r,i),Ra(e,t),t.tag=1,Mt(r)?(e=!0,Qa(t)):e=!1,Br(t,n),pf(t,r,i),Oo(t,r,i,n),Uo(null,t,r,!0,e,n);case 19:return _f(e,t,n);case 22:return vf(e,t,n)}throw Error(ie(156,t.tag))};function Of(e,t){return cd(e,t)}function y0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,n,r){return new y0(e,t,n,r)}function Hl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v0(e){if(typeof e=="function")return Hl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cl)return 11;if(e===dl)return 14}return 2}function Kn(e,t){var n=e.alternate;return n===null?(n=Qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fa(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")Hl(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Nr:return ur(n.children,i,a,t);case ul:s=8,i|=8;break;case oo:return e=Qt(12,n,t,i|2),e.elementType=oo,e.lanes=a,e;case lo:return e=Qt(13,n,t,i),e.elementType=lo,e.lanes=a,e;case uo:return e=Qt(19,n,t,i),e.elementType=uo,e.lanes=a,e;case Gc:return bs(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hc:s=10;break e;case Yc:s=9;break e;case cl:s=11;break e;case dl:s=14;break e;case Dn:s=16,r=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return t=Qt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function ur(e,t,n,r){return e=Qt(7,e,r,t),e.lanes=n,e}function bs(e,t,n,r){return e=Qt(22,e,r,t),e.elementType=Gc,e.lanes=n,e.stateNode={isHidden:!1},e}function to(e,t,n){return e=Qt(6,e,null,t),e.lanes=n,e}function no(e,t,n){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function x0(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rs(0),this.expirationTimes=Rs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rs(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yl(e,t,n,r,i,a,s,o,l){return e=new x0(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Qt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zl(a),e}function k0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:br,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ff(e){if(!e)return Xn;e=e._reactInternals;e:{if(gr(e)!==e||e.tag!==1)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ie(171))}if(e.tag===1){var n=e.type;if(Mt(n))return Od(e,n,t)}return t}function $f(e,t,n,r,i,a,s,o,l){return e=Yl(n,r,!0,e,i,a,s,o,l),e.context=Ff(null),n=e.current,r=Nt(),i=Gn(n),a=Nn(r,i),a.callback=t??null,Hn(n,a,i),e.current.lanes=i,Ki(e,i,r),Lt(e,r),e}function Ns(e,t,n,r){var i=t.current,a=Nt(),s=Gn(i);return n=Ff(n),t.context===null?t.context=n:t.pendingContext=n,t=Nn(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hn(i,t,s),e!==null&&(un(e,i,s,a),Ma(e,i,s)),s}function cs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gl(e,t){rc(e,t),(e=e.alternate)&&rc(e,t)}function w0(){return null}var Uf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kl(e){this._internalRoot=e}Cs.prototype.render=Kl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ie(409));Ns(e,t,null,null)};Cs.prototype.unmount=Kl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pr(function(){Ns(null,e,null,null)}),t[jn]=null}};function Cs(e){this._internalRoot=e}Cs.prototype.unstable_scheduleHydration=function(e){if(e){var t=yd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<In.length&&t!==0&&t<In[n].priority;n++);In.splice(n,0,e),n===0&&xd(e)}};function Zl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function js(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ic(){}function _0(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var g=cs(s);a.call(g)}}var s=$f(t,r,e,0,null,!1,!1,"",ic);return e._reactRootContainer=s,e[jn]=s.current,Oi(e.nodeType===8?e.parentNode:e),pr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var g=cs(l);o.call(g)}}var l=Yl(e,0,!1,null,null,!1,!1,"",ic);return e._reactRootContainer=l,e[jn]=l.current,Oi(e.nodeType===8?e.parentNode:e),pr(function(){Ns(t,l,n,r)}),l}function Es(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=cs(s);o.call(l)}}Ns(t,s,e,i)}else s=_0(n,t,e,i,r);return cs(s)}md=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yi(t.pendingLanes);n!==0&&(pl(t,n|1),Lt(t,nt()),!(Oe&6)&&(Qr=nt()+500,qn()))}break;case 13:pr(function(){var r=En(e,1);if(r!==null){var i=Nt();un(r,e,1,i)}}),Gl(e,1)}};ml=function(e){if(e.tag===13){var t=En(e,134217728);if(t!==null){var n=Nt();un(t,e,134217728,n)}Gl(e,134217728)}};gd=function(e){if(e.tag===13){var t=Gn(e),n=En(e,t);if(n!==null){var r=Nt();un(n,e,t,r)}Gl(e,t)}};yd=function(){return Ue};vd=function(e,t){var n=Ue;try{return Ue=e,t()}finally{Ue=n}};ko=function(e,t,n){switch(t){case"input":if(ho(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=vs(r);if(!i)throw Error(ie(90));Zc(r),ho(r,i)}}}break;case"textarea":Qc(e,n);break;case"select":t=n.value,t!=null&&Or(e,!!n.multiple,t,!1)}};id=Bl;ad=pr;var S0={usingClientEntryPoint:!1,Events:[Xi,zr,vs,nd,rd,Bl]},pi={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b0={bundleType:pi.bundleType,version:pi.version,rendererPackageName:pi.rendererPackageName,rendererConfig:pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ld(e),e===null?null:e.stateNode},findFiberByHostInstance:pi.findFiberByHostInstance||w0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sa.isDisabled&&Sa.supportsFiber)try{ps=Sa.inject(b0),vn=Sa}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S0;Wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zl(t))throw Error(ie(200));return k0(e,t,null,n)};Wt.createRoot=function(e,t){if(!Zl(e))throw Error(ie(299));var n=!1,r="",i=Uf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Yl(e,1,!1,null,null,n,!1,r,i),e[jn]=t.current,Oi(e.nodeType===8?e.parentNode:e),new Kl(t)};Wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=ld(t),e=e===null?null:e.stateNode,e};Wt.flushSync=function(e){return pr(e)};Wt.hydrate=function(e,t,n){if(!js(t))throw Error(ie(200));return Es(null,e,t,!0,n)};Wt.hydrateRoot=function(e,t,n){if(!Zl(e))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=Uf;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=$f(t,null,e,1,n??null,i,!1,a,s),e[jn]=t.current,Oi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Cs(t)};Wt.render=function(e,t,n){if(!js(t))throw Error(ie(200));return Es(null,e,t,!1,n)};Wt.unmountComponentAtNode=function(e){if(!js(e))throw Error(ie(40));return e._reactRootContainer?(pr(function(){Es(null,null,e,!1,function(){e._reactRootContainer=null,e[jn]=null})}),!0):!1};Wt.unstable_batchedUpdates=Bl;Wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!js(n))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return Es(e,t,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function Bf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bf)}catch(e){console.error(e)}}Bf(),Uc.exports=Wt;var N0=Uc.exports,ac=N0;ao.createRoot=ac.createRoot,ao.hydrateRoot=ac.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ne=(e,t)=>{const n=W.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...g},w)=>W.createElement("svg",{ref:w,...C0,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${j0(e)}`,o].join(" "),...g},[...t.map(([k,v])=>W.createElement(k,v)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=Ne("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=Ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=Ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=Ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=Ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=Ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=Ne("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=Ne("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=Ne("FolderArchive",[["circle",{cx:"15",cy:"19",r:"2",key:"u2pros"}],["path",{d:"M20.9 19.8A2 2 0 0 0 22 18V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h5.1",key:"1jj40k"}],["path",{d:"M15 11v-1",key:"cntcp"}],["path",{d:"M15 17v-2",key:"1279jj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=Ne("Fullscreen",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["rect",{width:"10",height:"8",x:"7",y:"8",rx:"1",key:"vys8me"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Ne("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Ne("GitCommitVertical",[["path",{d:"M12 3v6",key:"1holv5"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 15v6",key:"a9ows0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=Ne("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=Ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=Ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Ne("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=Ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=Ne("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Ne("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Ne("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=Ne("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Ne("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Ne("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Ne("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Ne("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=Ne("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Ne("ScanEye",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M5 12s2.5-5 7-5 7 5 7 5-2.5 5-7 5-7-5-7-5",key:"nhuolu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=Ne("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Ne("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Ne("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=Ne("TrainFront",[["path",{d:"M8 3.1V7a4 4 0 0 0 8 0V3.1",key:"1v71zp"}],["path",{d:"m9 15-1-1",key:"1yrq24"}],["path",{d:"m15 15 1-1",key:"1t0d6s"}],["path",{d:"M9 19c-2.8 0-5-2.2-5-5v-4a8 8 0 0 1 16 0v4c0 2.8-2.2 5-5 5Z",key:"1p0hjs"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m16 19 2 3",key:"xo31yx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=Ne("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=Ne("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Ne("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=Ne("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=Ne("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),G0=({spacing:e,viewBox:t,zoom:n=1,currentTool:r="select",hoverPoint:i=null,gridStyle:a="dots"})=>{const s=Math.floor(t.x/e)*e,o=Math.ceil((t.x+t.width)/e)*e,l=Math.floor(t.y/e)*e,g=Math.ceil((t.y+t.height)/e)*e,w=Math.min(3.5,2*n),k=r==="station"||r==="createLine"||r==="drawPath",v=()=>{if(a==="none")return null;if(a==="dots"){const h=[];for(let y=s;y<=o;y+=e)for(let p=l;p<=g;p+=e)h.push({x:y,y:p,key:`${y}-${p}`});return h.map(y=>{const p=k&&i&&Math.abs(y.x-i.x)<1&&Math.abs(y.y-i.y)<1;return u.jsx("circle",{cx:y.x,cy:y.y,r:p?w*2:w,className:`grid-dot transition-all ${k?"cursor-pointer":""} ${p?"fill-blue-400 dark:fill-blue-500":k?"fill-gray-300 dark:fill-gray-600 hover:fill-blue-400 dark:hover:fill-blue-500":"fill-gray-300 dark:fill-gray-600"}`},y.key)})}if(a==="horizontal"){const h=[];for(let y=l;y<=g;y+=e)h.push(u.jsx("line",{x1:t.x,y1:y,x2:t.x+t.width,y2:y,className:"stroke-gray-300 dark:stroke-gray-600",strokeWidth:Math.min(1,.5*n)},`h-${y}`));return h}if(a==="vertical"){const h=[];for(let y=s;y<=o;y+=e)h.push(u.jsx("line",{x1:y,y1:t.y,x2:y,y2:t.y+t.height,className:"stroke-gray-300 dark:stroke-gray-600",strokeWidth:Math.min(1,.5*n)},`v-${y}`));return h}if(a==="grid"){const h=[];for(let y=l;y<=g;y+=e)h.push(u.jsx("line",{x1:t.x,y1:y,x2:t.x+t.width,y2:y,className:"stroke-gray-300 dark:stroke-gray-600",strokeWidth:Math.min(1,.5*n)},`h-${y}`));for(let y=s;y<=o;y+=e)h.push(u.jsx("line",{x1:y,y1:t.y,x2:y,y2:t.y+t.height,className:"stroke-gray-300 dark:stroke-gray-600",strokeWidth:Math.min(1,.5*n)},`v-${y}`));return h}if(a==="diagonal"){const h=[],y=t.x-e,p=t.x+t.width+e,_=t.y-e,c=t.y+t.height+e,f=_-p,x=c-y,b=Math.floor(f/e)*e,j=Math.ceil(x/e)*e;for(let I=b;I<=j;I+=e){let F=Math.max(y,_-I),S=F+I,$=Math.min(p,c-I),m=$+I;S<_&&(S=_,F=S-I),S>c&&(S=c,F=S-I),m<_&&(m=_,$=m-I),m>c&&(m=c,$=m-I),F<=p&&$>=y&&S<=c&&m>=_&&h.push(u.jsx("line",{x1:F,y1:S,x2:$,y2:m,className:"stroke-gray-300 dark:stroke-gray-600",strokeWidth:Math.min(1,.5*n)},`d1-${I}`))}const E=_+y,P=c+p,M=Math.floor(E/e)*e,T=Math.ceil(P/e)*e;for(let I=M;I<=T;I+=e){let F=Math.max(y,I-c),S=I-F,$=Math.min(p,I-_),m=I-$;S<_&&(S=_,F=I-S),S>c&&(S=c,F=I-S),m<_&&(m=_,$=I-m),m>c&&(m=c,$=I-m),F<=p&&$>=y&&S<=c&&m>=_&&h.push(u.jsx("line",{x1:F,y1:S,x2:$,y2:m,className:"stroke-gray-300 dark:stroke-gray-600",strokeWidth:Math.min(1,.5*n)},`d2-${I}`))}return h}return null};return u.jsxs("g",{children:[u.jsx("rect",{x:t.x,y:t.y,width:t.width,height:t.height,className:"pointer-events-none",style:{fill:"var(--canvas-bg)"}}),v(),k&&i&&u.jsx("circle",{cx:i.x,cy:i.y,r:w*3,className:"fill-blue-400 dark:fill-blue-500 pointer-events-none",opacity:"0.3"})]})},Nc=({station:e,isSelected:t,isDragging:n,isHighlighted:r=!1,isPlaying:i=!1,onClick:a,onMouseDown:s,onTouchStart:o,allStations:l=[]})=>{const v=e.name.length*8.4+10*2,h=24,y=(M,T="top")=>{const I=M.name.length*8.4+20,F=h,S={top:{x:M.x-I/2,y:M.y-18-F},bottom:{x:M.x-I/2,y:M.y+18},left:{x:M.x-I-15,y:M.y-F/2},right:{x:M.x+15,y:M.y-F/2}},$=S[T]||S.top;return{x:$.x,y:$.y,width:I,height:F}},p=(M,T,I,F,S)=>l.some(m=>m.id===e.id?!1:["top","bottom","left","right"].some(oe=>{const U=y(m,oe);return!(M+I+5<U.x||M-5>U.x+U.width||T+F+5<U.y||T-5>U.y+U.height)})),_=[{x:e.x-v/2,y:e.y-18-h,name:"top"},{x:e.x-v/2,y:e.y+18,name:"bottom"},{x:e.x-v-15,y:e.y-h/2,name:"left"},{x:e.x+15,y:e.y-h/2,name:"right"}],c=l.findIndex(M=>M.id===e.id);if(l.filter(M=>Math.abs(M.y-e.y)<10&&M.x!==e.x).length>0){const M=c%2===1;_[0]=M?_[1]:_[0],_.splice(1,1)}let x=_[0];for(const M of _)if(!p(M.x,M.y,v,h,M.name)){x=M;break}const b=x.x,j=x.y,E=b+v/2,P=j+h/2;return u.jsxs("g",{onClick:a,onMouseDown:s,onTouchStart:o,className:n?"cursor-grabbing":"cursor-pointer",children:[r&&u.jsx("circle",{cx:e.x,cy:e.y,r:"16",fill:"none",stroke:"rgba(156, 163, 175, 0.6)",strokeWidth:"3",opacity:"0.8",className:i?"animate-[pulse_1s_ease-in-out_infinite] dark:stroke-white/40":"dark:stroke-white/40"}),u.jsx("circle",{cx:e.x,cy:e.y,r:n?"10":"8",fill:t?"#fbbf24":e.color,stroke:r?"rgba(156, 163, 175, 0.8)":"white",strokeWidth:r?"3":"2",className:"transition-all hover:r-10 dark:[stroke:rgba(255,255,255,0.5)]"}),u.jsx("circle",{cx:e.x,cy:e.y,r:"3",fill:"white"}),u.jsx("rect",{x:b,y:j,width:v,height:h,rx:h/2,className:"fill-white dark:fill-gray-700 pointer-events-none",stroke:e.color,strokeWidth:"1.5"}),u.jsx("text",{x:E,y:P,textAnchor:"middle",dominantBaseline:"middle",className:"font-semibold fill-gray-800 dark:fill-gray-200 pointer-events-none select-none",style:{fontSize:"14px"},children:e.name})]})};function _r(e){return function(){return e}}const el=Math.PI,tl=2*el,ir=1e-6,K0=tl-ir;function Hf(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Z0(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Hf;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class X0{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Hf:Z0(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,g=i-n,w=s-t,k=o-n,v=w*w+k*k;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>ir)if(!(Math.abs(k*l-g*w)>ir)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,y=i-o,p=l*l+g*g,_=h*h+y*y,c=Math.sqrt(p),f=Math.sqrt(v),x=a*Math.tan((el-Math.acos((p+v-_)/(2*c*f)))/2),b=x/f,j=x/c;Math.abs(b-1)>ir&&this._append`L${t+b*w},${n+b*k}`,this._append`A${a},${a},0,0,${+(k*h>w*y)},${this._x1=t+j*l},${this._y1=n+j*g}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),g=t+o,w=n+l,k=1^s,v=s?i-a:a-i;this._x1===null?this._append`M${g},${w}`:(Math.abs(this._x1-g)>ir||Math.abs(this._y1-w)>ir)&&this._append`L${g},${w}`,r&&(v<0&&(v=v%tl+tl),v>K0?this._append`A${r},${r},0,1,${k},${t-o},${n-l}A${r},${r},0,1,${k},${this._x1=g},${this._y1=w}`:v>ir&&this._append`A${r},${r},0,${+(v>=el)},${k},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Q0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new X0(t)}function J0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Yf(e){this._context=e}Yf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Gf(e){return new Yf(e)}function q0(e){return e[0]}function em(e){return e[1]}function Cc(e,t){var n=_r(!0),r=null,i=Gf,a=null,s=Q0(o);e=typeof e=="function"?e:e===void 0?q0:_r(e),t=typeof t=="function"?t:t===void 0?em:_r(t);function o(l){var g,w=(l=J0(l)).length,k,v=!1,h;for(r==null&&(a=i(h=s())),g=0;g<=w;++g)!(g<w&&n(k=l[g],g,l))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+e(k,g,l),+t(k,g,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:_r(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:_r(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:_r(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function jc(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Kf(e,t){this._context=e,this._k=(1-t)/6}Kf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:jc(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:jc(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const tm=function e(t){function n(r){return new Kf(r,t)}return n.tension=function(r){return e(+r)},n}(0),ro=({line:e,stations:t,lineStyle:n="smooth",onClick:r,isEditing:i=!1,isGhost:a=!1,ghostPoints:s=null,color:o=null})=>{const l=s||e.pathPoints||e.stations.map(v=>t.find(h=>h.id===v)).filter(Boolean);if(l.length<2)return null;const w=(()=>{if(n==="direct")return Cc().x(h=>h.x).y(h=>h.y).curve(Gf)(l);if(n==="minimal"){let v=`M ${l[0].x} ${l[0].y}`;for(let h=1;h<l.length;h++){const y=l[h-1],p=l[h],_=p.x-y.x,c=p.y-y.y,f=h>1?l[h-2]:null,x=h<l.length-1?l[h+1]:null;if(Math.abs(_)>5&&Math.abs(c)>5){const j=_>0?1:-1,E=c>0?1:-1;let P=Math.abs(_)>Math.abs(c);if(f){const T=y.x-f.x,I=y.y-f.y;Math.abs(T)>Math.abs(I)?P=!1:Math.abs(I)>Math.abs(T)&&(P=!0)}if(x){const T=x.x-p.x,I=x.y-p.y;Math.abs(I)>Math.abs(T)*1.5?P=!0:Math.abs(T)>Math.abs(I)*1.5&&(P=!1)}const M=.6;if(P){const T=y.x+_*M;v+=` L ${T-15*j} ${y.y}`,v+=` Q ${T} ${y.y}, ${T} ${y.y+15*E}`,v+=` L ${T} ${p.y-15*E}`,v+=` Q ${T} ${p.y}, ${T+15*j} ${p.y}`,v+=` L ${p.x} ${p.y}`}else{const T=y.y+c*M;v+=` L ${y.x} ${T-15*E}`,v+=` Q ${y.x} ${T}, ${y.x+15*j} ${T}`,v+=` L ${p.x-15*j} ${T}`,v+=` Q ${p.x} ${T}, ${p.x} ${T+15*E}`,v+=` L ${p.x} ${p.y}`}}else v+=` L ${p.x} ${p.y}`}return v}else return Cc().x(h=>h.x).y(h=>h.y).curve(tm.tension(-1))(l)})(),k=o||(e==null?void 0:e.color)||"#ef4444";return u.jsxs("g",{onClick:r,style:{cursor:r?"pointer":"default"},children:[!a&&u.jsx("path",{d:w,fill:"none",stroke:"transparent",strokeWidth:"20",strokeLinecap:"round",strokeLinejoin:"round",style:{pointerEvents:r?"stroke":"none"}}),u.jsx("path",{d:w,fill:"none",stroke:k,strokeWidth:a?"3":i?"6":"4",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:a?"5,5":"none",opacity:a?"0.5":i?"1":"0.8",style:{pointerEvents:"none"}})]})},Ir={en:{appTitle:"Train Line",selectTool:"Select",addStationTool:"Add Station",createTrainLineTool:"Create Train Line",drawPathTool:"Draw Path",resetToDefault:"Reset to Default",switchToLightMode:"Switch to Light Mode",switchToDarkMode:"Switch to Dark Mode",apiKeySet:"API Key Set",setApiKey:"Set API Key",zoom:"Zoom",lineStyle:"Line Style",lineStyleDirect:"Direct Path",lineStyleMinimal:"Path with Corners",lineStyleSmooth:"Smooth Path",gridStyle:"Grid Style",gridStyleNone:"None",gridStyleDots:"Dots",gridStyleHorizontal:"Horizontal Lines",gridStyleVertical:"Vertical Lines",gridStyleGrid:"Grid Lines",gridStyleDiagonal:"Diagonal Lines",canvasStyle:"Canvas Style",undo:"Undo",redo:"Redo",showStationNumbers:"Show Numbers",hideStationNumbers:"Hide Numbers",clickGridToAddStation:"Click on grid to add station",clickToAddStations:"Click grid points to add stations. Right-click to finish.",clickToDrawPath:"Click grid points to draw path. Right-click to finish.",tapToAddStations:'Tap grid points to add stations. Tap "Finish" when done.',tapToDrawPath:'Tap grid points to draw path. Tap "Finish" when done.',finishLine:"Finish Line",populateStations:"Populate Stations",centerView:"Center View",clickPresetToLoad:"Click any preset to load it onto the map",showPresets:"Presets",showAnnouncements:"Announcements",hideMenu:"Hide",editStation:"Edit Station",editLine:"Edit Line",editor:"Editor",name:"Name",color:"Color",delete:"Delete",trainLinePresets:"Train Line Presets",loadPresetHint:"Load a preset to get started",stations:"stations",active:"Active","Simple Demo":"Simple Demo","Yamanote Line":"Yamanote Line","Chuo Line":"Chuo Line","Ginza Line":"Ginza Line","Taiyokei Line":"Taiyōkei Line","Solar Express":"Solar Express",Japan:"Japan","Solar System":"Solar System",Misc:"Misc","A simple 4-station demo route":"Misc","Solar System train line from Mercury to Pluto in Japanese":"Solar System","Solar System train line from Mercury to Pluto in English":"Solar System","Four stations in a simple loop. Good for testing the announcement system.":"Four stations in a simple loop. Good for testing the announcement system.","Tokyo's circular line with 21 stations. Connects major areas around central Tokyo.":"Tokyo's circular line with 21 stations. Connects major areas around central Tokyo.","East-west line through central Tokyo. Orange trains connect Tokyo Station to western suburbs.":"East-west line through central Tokyo. Orange trains connect Tokyo Station to western suburbs.","Tokyo's oldest subway line from 1927. Runs from Shibuya to Asakusa through Ginza and Ueno.":"Tokyo's oldest subway line from 1927. Runs from Shibuya to Asakusa through Ginza and Ueno.","Solar system route with Japanese announcements. Stations from Mercury to Pluto.":"Solar system route with Japanese announcements. Stations from Mercury to Pluto.","Solar system route with English announcements. Stations from Mercury to Pluto.":"Solar system route with English announcements. Stations from Mercury to Pluto.",announcements:"Announcements",generateAnnouncement:"Generate Announcement",setApiKeyToGenerate:"Set API key to generate announcements",addStationsFirst:"Add stations to the map first",noAnnouncementsYet:"No announcements yet",createFirstAnnouncement:"Create stations and generate your first announcement",audioQueue:"Queue",audioControlPanel:"Audio Control Panel",displayAudioCaptions:"Display audio captions",selectLine:"Select a line to manage announcements",noLinesYet:"No train lines created yet",createLineFirst:"Create a train line to add announcements",stationAnnouncement:"Station",betweenStations:"Between Stations",uploadAudio:"Upload",generateAudio:"Generate",selectPreset:"Preset",noAudioAssigned:"No audio assigned",playAudio:"Play",removeAudio:"Remove",audioTypePreset:"Preset",audioTypeUpload:"Uploaded",audioTypeGenerated:"AI Voice",presetArrival:"We are now arriving at {station}. Please prepare to exit.",presetDeparture:"This train is departing from {station}. Next stop: [Next Station Name].",presetTransfer:"Transfer here for other lines. This is {station}.",presetInformation:"Welcome to {station}. Please mind the gap between the train and the platform.",presetLive:"Attention passengers. Live announcement for {station}.",presetWarning:"Attention. Important safety announcement for {station}.",presetCentralStation:"Now arriving at {station}, the central station. Transfer available for all lines.",playAll:"Play All",stopPlayback:"Stop",previousStation:"Previous Station",nextStation:"Next Station",playPause:"Play/Pause",transcription:"Captions",playAllSequence:"Play All",cycleSpeed:"Cycle Speed",toggleVolume:"Toggle Volume",mute:"Mute",unmute:"Unmute",stationOf:"Station {current} of {total}",elevenLabsApiKey:"ElevenLabs API Key",apiKeyDescription:"Enter your ElevenLabs API key. It will be stored in your browser session only and cleared when you close the browser.",apiKeyPlaceholder:"sk_...",saveKey:"Save Key",cancel:"Cancel",close:"Close",getApiKeyFrom:"Get your API key from",station:"Station",stationNamePresets:["Tokyo","Osaka","Kyoto","Nagoya","Kobe","Fukuoka","Sapporo","Yokohama","Sendai","Hiroshima","Kanazawa","Nagano","Shinjuku","Shibuya","Ikebukuro","Shinagawa","Ueno","Akihabara","London","Paris","Berlin","Madrid","Rome","Amsterdam","New York","Los Angeles","Chicago","Boston","Seattle","San Francisco","Seoul","Beijing","Shanghai","Hong Kong","Taipei","Bangkok","Singapore","Sydney","Melbourne","Toronto","Vancouver","Mexico City","São Paulo","Buenos Aires","Moscow","Istanbul","Dubai","Mumbai","Delhi","Central","North","South","East","West","Northeast","Northwest","Southeast","Southwest","Station Front","City Hall","University","Hospital","Airport","Harbor","Park","Stadium","Convention Center","Museum","Platform A","Platform B","Platform C","Junction","Terminal","Express Stop","Local Stop","Transfer","Interchange","Depot","Yard"],lineNamePresets:["Express Line","Local Line","Rapid Line","Limited Express","Main Line","Branch Line","Loop Line","Circle Line","Metro Line","Subway Line","Commuter Line","Regional Line","Red Line","Blue Line","Green Line","Yellow Line","Orange Line","Purple Line","Pink Line","Brown Line","Silver Line","Gold Line","North Line","South Line","East Line","West Line","Downtown Line","Uptown Line","Crosstown Line","Harbor Line","Mountain Line","Coastal Line","River Line","Valley Line"],createLoopLine:"Create Loop Line",selectLoopStation:"Select which station to use",firstStation:"First station",lastStation:"Last station",stationTypes:"Station Types",centralStation:"Central Station",arrival:"Arrival",departure:"Departure",transfer:"Transfer",information:"Information",live:"Live",warning:"Warning",general:"General",misc:"Misc",chime:"Chime",music:"Music",ambience:"Ambience"},ja:{appTitle:"路線図",selectTool:"選択",addStationTool:"駅を追加",createTrainLineTool:"路線を作成",drawPathTool:"パスを描く",resetToDefault:"デフォルトにリセット",switchToLightMode:"ライトモードに切り替え",switchToDarkMode:"ダークモードに切り替え",apiKeySet:"APIキー設定済み",setApiKey:"APIキーを設定",zoom:"ズーム",lineStyle:"路線スタイル",lineStyleDirect:"直線パス",lineStyleMinimal:"コーナー付きパス",lineStyleSmooth:"スムーズパス",gridStyle:"グリッドスタイル",gridStyleNone:"なし",gridStyleDots:"ドット",gridStyleHorizontal:"横線",gridStyleVertical:"縦線",gridStyleGrid:"グリッド線",gridStyleDiagonal:"対角線",canvasStyle:"キャンバススタイル",undo:"元に戻す",redo:"やり直す",showStationNumbers:"番号を表示",hideStationNumbers:"番号を非表示",clickGridToAddStation:"グリッドをクリックして駅を追加",clickToAddStations:"グリッドポイントをクリックして駅を追加。右クリックで完了。",clickToDrawPath:"グリッドポイントをクリックしてパスを描く。右クリックで完了。",tapToAddStations:"グリッドポイントをタップして駅を追加。完了したら「完了」をタップ。",tapToDrawPath:"グリッドポイントをタップしてパスを描く。完了したら「完了」をタップ。",finishLine:"路線を完了",populateStations:"駅を配置",centerView:"ビューを中央に",clickPresetToLoad:"プリセットをクリックしてマップに読み込む",showPresets:"プリセット",showAnnouncements:"アナウンス",hideMenu:"非表示",editStation:"駅を編集",editLine:"路線を編集",editor:"エディター",name:"名前",color:"色",delete:"削除",trainLinePresets:"路線プリセット",loadPresetHint:"プリセットを読み込んで開始",stations:"駅",active:"アクティブ","Simple Demo":"シンプルデモ","Yamanote Line":"山手線","Chuo Line":"中央線","Ginza Line":"銀座線","Taiyokei Line":"太陽系線","Solar Express":"ソーラーエクスプレス",Japan:"日本","Solar System":"太陽系",Misc:"その他","A simple 4-station demo route":"その他","Solar System train line from Mercury to Pluto in Japanese":"太陽系","Solar System train line from Mercury to Pluto in English":"太陽系","Four stations in a simple loop. Good for testing the announcement system.":"シンプルなループ状の4駅。アナウンスシステムのテスト用。","Tokyo's circular line with 21 stations. Connects major areas around central Tokyo.":"東京の環状線。21駅で中心部の主要エリアを結ぶ。","East-west line through central Tokyo. Orange trains connect Tokyo Station to western suburbs.":"東京中心部を東西に走る路線。オレンジ色の車両で東京駅から西部郊外へ。","Tokyo's oldest subway line from 1927. Runs from Shibuya to Asakusa through Ginza and Ueno.":"1927年開業の東京最古の地下鉄。渋谷から浅草まで銀座・上野経由。","Solar system route with Japanese announcements. Stations from Mercury to Pluto.":"太陽系ルート（日本語アナウンス）。水星から冥王星まで。","Solar system route with English announcements. Stations from Mercury to Pluto.":"太陽系ルート（英語アナウンス）。水星から冥王星まで。",announcements:"アナウンス",generateAnnouncement:"アナウンスを生成",setApiKeyToGenerate:"APIキーを設定してアナウンスを生成",addStationsFirst:"最初に駅をマップに追加",noAnnouncementsYet:"まだアナウンスがありません",createFirstAnnouncement:"駅を作成して最初のアナウンスを生成",audioQueue:"キュー",audioControlPanel:"オーディオコントロールパネル",displayAudioCaptions:"音声字幕を表示",selectLine:"路線を選択してアナウンスを管理",noLinesYet:"まだ路線が作成されていません",createLineFirst:"路線を作成してアナウンスを追加",stationAnnouncement:"駅",betweenStations:"駅間",uploadAudio:"アップロード",generateAudio:"生成",selectPreset:"プリセット",noAudioAssigned:"オーディオ未割り当て",playAudio:"再生",removeAudio:"削除",audioTypePreset:"プリセット",audioTypeUpload:"アップロード済み",audioTypeGenerated:"AI音声",presetArrival:"まもなく、{station}、{station}です。出口は右側です。",presetDeparture:"{station}を発車いたします。次は、[次の駅名]です。",presetTransfer:"お乗り換えの方は、{station}です。",presetInformation:"{station}にご到着です。足元にご注意ください。",presetLive:"お客様にお知らせいたします。{station}からのご案内です。",presetWarning:"ご注意ください。{station}からの重要なお知らせです。",presetCentralStation:"まもなく、{station}、{station}です。各線にお乗り換えいただけます。",playAll:"すべて再生",stopPlayback:"停止",previousStation:"前の駅",nextStation:"次の駅",playPause:"再生/一時停止",transcription:"車内放送原稿",playAllSequence:"すべて再生",cycleSpeed:"速度切替",toggleVolume:"音量切替",mute:"ミュート",unmute:"ミュート解除",stationOf:"駅 {current} / {total}",elevenLabsApiKey:"ElevenLabs APIキー",apiKeyDescription:"ElevenLabs APIキーを入力してください。ブラウザセッションにのみ保存され、ブラウザを閉じるとクリアされます。",apiKeyPlaceholder:"sk_...",saveKey:"キーを保存",cancel:"キャンセル",close:"閉じる",getApiKeyFrom:"APIキーを取得：",station:"駅",stationNamePresets:["東京","大阪","京都","名古屋","神戸","福岡","札幌","横浜","仙台","広島","金沢","長野","新宿","渋谷","池袋","品川","上野","秋葉原","ロンドン","パリ","ベルリン","マドリード","ローマ","アムステルダム","ニューヨーク","ロサンゼルス","シカゴ","ボストン","シアトル","サンフランシスコ","ソウル","北京","上海","香港","台北","バンコク","シンガポール","シドニー","メルボルン","トロント","バンクーバー","メキシコシティ","サンパウロ","ブエノスアイレス","モスクワ","イスタンブール","ドバイ","ムンバイ","デリー","中央","北","南","東","西","北東","北西","南東","南西","駅前","本町","市役所","大学","病院","空港","港","公園","スタジアム","国際展示場","博物館","一番線","二番線","三番線","ジャンクション","ターミナル","急行停車駅","各駅停車","乗換","インターチェンジ","車庫","操車場"],lineNamePresets:["急行線","各駅停車線","快速線","特急線","本線","支線","環状線","ループ線","地下鉄線","メトロ線","通勤線","地方線","赤線","青線","緑線","黄線","オレンジ線","紫線","ピンク線","茶線","銀線","金線","北線","南線","東線","西線","都心線","郊外線","横断線","港線","山岳線","海岸線","川沿い線","渓谷線"],createLoopLine:"ループ路線を作成",selectLoopStation:"使用する駅を選択",firstStation:"最初の駅",lastStation:"最後の駅",stationTypes:"駅種別",centralStation:"主要駅",arrival:"到着",departure:"発車",transfer:"乗換",information:"案内",live:"肉声放送",warning:"警告",general:"一般",misc:"その他",chime:"チャイム",music:"音楽",ambience:"環境音"}},Ec=[{code:"en",name:"English",flag:"🇬🇧"},{code:"ja",name:"日本語",flag:"🇯🇵"}],ti=e=>({t:n=>{var r;return((r=Ir[e])==null?void 0:r[n])||Ir.en[n]||n}}),nm=({station:e,line:t,lines:n=[],stations:r=[],onUpdateStation:i,onUpdateLine:a,onDeleteStation:s,onDeleteLine:o,onClose:l,language:g="en",setStationsAndLines:w})=>{var oe;const{t:k}=ti(g),[v,h]=W.useState(!1),[y,p]=W.useState(!1),[_,c]=W.useState(!1),[f,x]=W.useState(!1),b=e?(oe=n.find(U=>{var V;return(V=U.stations)==null?void 0:V.includes(e.id)}))==null?void 0:oe.id:null;b&&n.find(U=>U.id===b);const j=(t==null?void 0:t.id)||b,E=n.find(U=>U.id===j),P=U=>{if(e&&i){const V={...e,name:U.target.value};i(V)}},M=U=>{if(e&&i){const V={...e,color:U};i(V)}},T=U=>{if(E&&a){const V={...E,name:U.target.value};a(V)}},I=U=>{if(E){const V={...E,color:U},O=n.map(q=>q.id===V.id?V:q);if(V.stations&&w){const q=r.map(R=>V.stations.includes(R.id)?{...R,color:U}:R);w(q,O)}else a&&a(V,!0)}},F=(U,V)=>{V?M(U.target.value):I(U.target.value)},S=U=>{var q,R;U?(c(!0),setTimeout(()=>c(!1),200)):(x(!0),setTimeout(()=>x(!1),200));const V=U?((q=Ir[g])==null?void 0:q.stationNamePresets)||Ir.en.stationNamePresets:((R=Ir[g])==null?void 0:R.lineNamePresets)||Ir.en.lineNamePresets,O=V[Math.floor(Math.random()*V.length)];if(U){if(e&&i){const A={...e,name:O};i(A)}}else if(E&&a){const A={...E,name:O};a(A)}},$=U=>{U?(h(!0),setTimeout(()=>h(!1),200)):(p(!0),setTimeout(()=>p(!1),200));const V=Math.floor(Math.random()*360),O=Math.floor(Math.random()*60)+20,q=Math.floor(Math.random()*60)+20,A=((he,ee,ne)=>{ee/=100,ne/=100;const Ce=ee*Math.min(ne,1-ne),De=je=>{const Ae=(je+he/30)%12,me=ne-Ce*Math.max(Math.min(Ae-3,9-Ae,1),-1);return Math.round(255*me).toString(16).padStart(2,"0")};return`#${De(0)}${De(8)}${De(4)}`})(V,O,q);U?M(A):I(A)},m=(U,V,O,q,R,A,he)=>{const ee=U===k("editStation");return u.jsxs("div",{className:"p-3 rounded-lg border border-transparent",style:{backgroundColor:"var(--btn-unselected-bg)"},children:[u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 text-sm flex items-center gap-2",children:[U,A&&u.jsx("button",{onClick:()=>A(he),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",title:k("delete"),children:u.jsx(V0,{size:14})})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1 block",children:k("name")}),u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx("input",{type:"text",value:V,onChange:q,className:"flex-1 px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),u.jsx("button",{onClick:()=>S(ee),className:"flex-shrink-0 w-[34px] h-[34px] flex items-center justify-center rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors shadow-sm",title:"Randomize name",children:u.jsx(kc,{size:16,className:`text-gray-700 dark:text-gray-300 transition-transform ${ee&&_||!ee&&f?"animate-shuffle":""}`})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2 block",children:k("color")}),u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx("label",{className:"relative flex-1 h-[34px] rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer overflow-hidden shadow-sm hover:shadow-md transition-shadow",style:{backgroundColor:O},children:u.jsx("input",{type:"color",value:O,onChange:ne=>F(ne,ee),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})}),u.jsx("button",{onClick:()=>$(ee),className:"flex-shrink-0 w-[34px] h-[34px] flex items-center justify-center rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors shadow-sm",title:"Randomize color",children:u.jsx(kc,{size:16,className:`text-gray-700 dark:text-gray-300 transition-transform ${ee&&v||!ee&&y?"animate-shuffle":""}`})})]})]})]})]})},G=e?r.find(U=>U.id===e.id)||e:null;return u.jsxs("div",{className:"absolute top-4 right-4 bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 w-72 z-10 max-h-[calc(100vh-2rem)] overflow-y-auto",children:[u.jsxs("div",{className:"space-y-3",style:{"--editor-section-bg":"var(--btn-unselected-bg)"},children:[G&&m(k("editStation"),G.name,G.color,P,M,s,G.id),E&&m(k("editLine"),E.name,E.color,T,I,t?o:null,E.id)]}),u.jsx("button",{onClick:l,className:"w-full px-3 py-2 mt-4 bg-transparent hover:bg-gray-50 dark:hover:bg-gray-700/50 text-gray-600 dark:text-gray-300 rounded-lg transition-colors text-sm border border-gray-300 dark:border-gray-600",children:k("close")})]})},io={english:["Central Station","North Station","South Station","East Station","West Station","Downtown","Midtown","Uptown","Riverside","Hillside","Park View","Garden Plaza","Market Square","City Center","Town Hall","University","Hospital","Airport","Harbor","Bridge","Highland","Lakeside","Woodland","Meadow","Summit","Valley","Bay View","Oceanside","Sunset","Sunrise","Liberty","Victory","Union","Grand","Royal"],japanese:["東京","新宿","渋谷","池袋","上野","品川","横浜","大宮","千葉","川崎","中野","吉祥寺","立川","八王子","町田","新橋","有楽町","秋葉原","神田","浅草","目黒","恵比寿","五反田","大崎","田町","原宿","代々木","高田馬場","新大久保","鶯谷","日暮里","西日暮里","駒込","巣鴨","大塚"],generic:["Station A","Station B","Station C","Station D","Station E","Station F","Station G","Station H","Station I","Station J","Station K","Station L","Station M","Station N","Station O","Station P","Station Q","Station R","Station S","Station T","Station U","Station V","Station W","Station X","Station Y","Station Z"]},Ca=(e,t="en",n=null)=>{const r=new Set(e.map(a=>a.name));let i=io.generic;t==="ja"?i=io.japanese:t==="en"&&(i=io.english);for(const a of i)if(!r.has(a))return a;return`Station ${e.length+1}`},rm=()=>"/Train-Announcement-Creator/",Zf=e=>`${rm()}audio/presets/${e}`.replace(/\/\//g,"/"),im=()=>["shinjuku1bansen-jihatu.mp3","shinjuku1bansen-sekkin.mp3","shinjuku1bansen-totyaku.mp3","Taioykei Mercury JP.mp3","Taioykei Dep Mercury JP.mp3","Taioykei Venus JP.mp3","Taioykei Dep Venus JP.mp3","Taioykei Earth JP.mp3","Taioykei Dep Earth JP.mp3","Taioykei Mars JP.mp3","Taioykei Dep Mars JP.mp3","Taioykei Jupiter JP.mp3","Taioykei Dep Jupiter JP.mp3","Taioykei Saturn JP.mp3","Taioykei Dep Saturn JP.mp3","Taioykei Uranus JP.mp3","Taioykei Dep Uranus JP.mp3","Taioykei Neptune JP.mp3","Taioykei Dep Neptune JP.mp3","Taioykei Pluto JP.mp3","Taioykei Mercury EN.mp3","Taioykei Dep Mercury EN.mp3","Taioykei Venus EN.mp3","Taioykei Dep Venus EN.mp3","Taioykei Earth EN.mp3","Taioykei Dep Earth EN.mp3","Taioykei Mars EN.mp3","Taioykei Dep Mars EN.mp3","Taioykei Jupiter EN.mp3","Taioykei Dep Jupiter EN.mp3","Taioykei Saturn EN.mp3","Taioykei Dep Saturn EN.mp3","Taioykei Uranus EN.mp3","Taioykei Dep Uranus EN.mp3","Taioykei Neptune EN.mp3","Taioykei Dep Neptune EN.mp3","Taioykei Pluto EN.mp3"].map((t,n)=>({id:`preset-${n}`,name:t.replace(".mp3",""),path:Zf(t),index:n}));function ja(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xf={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,a){function s(g,w){if(!i[g]){if(!r[g]){var k=typeof ja=="function"&&ja;if(!w&&k)return k(g,!0);if(o)return o(g,!0);var v=new Error("Cannot find module '"+g+"'");throw v.code="MODULE_NOT_FOUND",v}var h=i[g]={exports:{}};r[g][0].call(h.exports,function(y){var p=r[g][1][y];return s(p||y)},h,h.exports,n,r,i,a)}return i[g].exports}for(var o=typeof ja=="function"&&ja,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(n,r,i){var a=n("./utils"),s=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var g,w,k,v,h,y,p,_=[],c=0,f=l.length,x=f,b=a.getTypeOf(l)!=="string";c<l.length;)x=f-c,k=b?(g=l[c++],w=c<f?l[c++]:0,c<f?l[c++]:0):(g=l.charCodeAt(c++),w=c<f?l.charCodeAt(c++):0,c<f?l.charCodeAt(c++):0),v=g>>2,h=(3&g)<<4|w>>4,y=1<x?(15&w)<<2|k>>6:64,p=2<x?63&k:64,_.push(o.charAt(v)+o.charAt(h)+o.charAt(y)+o.charAt(p));return _.join("")},i.decode=function(l){var g,w,k,v,h,y,p=0,_=0,c="data:";if(l.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var f,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&x--,l.charAt(l.length-2)===o.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=s.uint8array?new Uint8Array(0|x):new Array(0|x);p<l.length;)g=o.indexOf(l.charAt(p++))<<2|(v=o.indexOf(l.charAt(p++)))>>4,w=(15&v)<<4|(h=o.indexOf(l.charAt(p++)))>>2,k=(3&h)<<6|(y=o.indexOf(l.charAt(p++))),f[_++]=g,h!==64&&(f[_++]=w),y!==64&&(f[_++]=k);return f}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),s=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function g(w,k,v,h,y){this.compressedSize=w,this.uncompressedSize=k,this.crc32=v,this.compression=h,this.compressedContent=y}g.prototype={getContentWorker:function(){var w=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),k=this;return w.on("end",function(){if(this.streamInfo.data_length!==k.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(w,k,v){return w.pipe(new o).pipe(new l("uncompressedSize")).pipe(k.compressWorker(v)).pipe(new l("compressedSize")).withStreamInfo("compression",k)},r.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),s=function(){for(var o,l=[],g=0;g<256;g++){o=g;for(var w=0;w<8;w++)o=1&o?3988292384^o>>>1:o>>>1;l[g]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(g,w,k,v){var h=s,y=v+k;g^=-1;for(var p=v;p<y;p++)g=g>>>8^h[255&(g^w[p])];return-1^g}(0|l,o,o.length,0):function(g,w,k,v){var h=s,y=v+k;g^=-1;for(var p=v;p<y;p++)g=g>>>8^h[255&(g^w.charCodeAt(p))];return-1^g}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),g=a?"uint8array":"array";function w(k,v){l.call(this,"FlateWorker/"+k),this._pako=null,this._pakoAction=k,this._pakoOptions=v,this.meta={}}i.magic="\b\0",o.inherits(w,l),w.prototype.processChunk=function(k){this.meta=k.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(g,k.data),!1)},w.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var k=this;this._pako.onData=function(v){k.push({data:v,meta:k.meta})}},i.compressWorker=function(k){return new w("Deflate",k)},i.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(h,y){var p,_="";for(p=0;p<y;p++)_+=String.fromCharCode(255&h),h>>>=8;return _}function s(h,y,p,_,c,f){var x,b,j=h.file,E=h.compression,P=f!==g.utf8encode,M=o.transformTo("string",f(j.name)),T=o.transformTo("string",g.utf8encode(j.name)),I=j.comment,F=o.transformTo("string",f(I)),S=o.transformTo("string",g.utf8encode(I)),$=T.length!==j.name.length,m=S.length!==I.length,G="",oe="",U="",V=j.dir,O=j.date,q={crc32:0,compressedSize:0,uncompressedSize:0};y&&!p||(q.crc32=h.crc32,q.compressedSize=h.compressedSize,q.uncompressedSize=h.uncompressedSize);var R=0;y&&(R|=8),P||!$&&!m||(R|=2048);var A=0,he=0;V&&(A|=16),c==="UNIX"?(he=798,A|=function(ne,Ce){var De=ne;return ne||(De=Ce?16893:33204),(65535&De)<<16}(j.unixPermissions,V)):(he=20,A|=function(ne){return 63&(ne||0)}(j.dosPermissions)),x=O.getUTCHours(),x<<=6,x|=O.getUTCMinutes(),x<<=5,x|=O.getUTCSeconds()/2,b=O.getUTCFullYear()-1980,b<<=4,b|=O.getUTCMonth()+1,b<<=5,b|=O.getUTCDate(),$&&(oe=a(1,1)+a(w(M),4)+T,G+="up"+a(oe.length,2)+oe),m&&(U=a(1,1)+a(w(F),4)+S,G+="uc"+a(U.length,2)+U);var ee="";return ee+=`
\0`,ee+=a(R,2),ee+=E.magic,ee+=a(x,2),ee+=a(b,2),ee+=a(q.crc32,4),ee+=a(q.compressedSize,4),ee+=a(q.uncompressedSize,4),ee+=a(M.length,2),ee+=a(G.length,2),{fileRecord:k.LOCAL_FILE_HEADER+ee+M+G,dirRecord:k.CENTRAL_FILE_HEADER+a(he,2)+ee+a(F.length,2)+"\0\0\0\0"+a(A,4)+a(_,4)+M+G+F}}var o=n("../utils"),l=n("../stream/GenericWorker"),g=n("../utf8"),w=n("../crc32"),k=n("../signature");function v(h,y,p,_){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=p,this.encodeFileName=_,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(v,l),v.prototype.push=function(h){var y=h.meta.percent||0,p=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:p?(y+100*(p-_-1))/p:100}}))},v.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var y=this.streamFiles&&!h.file.dir;if(y){var p=s(h,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(h){this.accumulate=!1;var y=this.streamFiles&&!h.file.dir,p=s(h,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),y)this.push({data:function(_){return k.DATA_DESCRIPTOR+a(_.crc32,4)+a(_.compressedSize,4)+a(_.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var h=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var p=this.bytesWritten-h,_=function(c,f,x,b,j){var E=o.transformTo("string",j(b));return k.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(c,2)+a(c,2)+a(f,4)+a(x,4)+a(E.length,2)+E}(this.dirRecords.length,p,h,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(h){this._sources.push(h);var y=this;return h.on("data",function(p){y.processChunk(p)}),h.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),h.on("error",function(p){y.error(p)}),this},v.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(h){var y=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var p=0;p<y.length;p++)try{y[p].error(h)}catch{}return!0},v.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,y=0;y<h.length;y++)h[y].lock()},r.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(o,l,g){var w=new s(l.streamFiles,g,l.platform,l.encodeFileName),k=0;try{o.forEach(function(v,h){k++;var y=function(f,x){var b=f||x,j=a[b];if(!j)throw new Error(b+" is not a valid compression method !");return j}(h.options.compression,l.compression),p=h.options.compressionOptions||l.compressionOptions||{},_=h.dir,c=h.date;h._compressWorker(y,p).withStreamInfo("file",{name:v,dir:_,date:c,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(w)}),w.entriesCount=k}catch(v){w.error(v)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),s=n("./external"),o=n("./utf8"),l=n("./zipEntries"),g=n("./stream/Crc32Probe"),w=n("./nodejsUtils");function k(v){return new s.Promise(function(h,y){var p=v.decompressed.getContentWorker().pipe(new g);p.on("error",function(_){y(_)}).on("end",function(){p.streamInfo.crc32!==v.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(v,h){var y=this;return h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),w.isNode&&w.isStream(v)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",v,!0,h.optimizedBinaryString,h.base64).then(function(p){var _=new l(h);return _.load(p),_}).then(function(p){var _=[s.Promise.resolve(p)],c=p.files;if(h.checkCRC32)for(var f=0;f<c.length;f++)_.push(k(c[f]));return s.Promise.all(_)}).then(function(p){for(var _=p.shift(),c=_.files,f=0;f<c.length;f++){var x=c[f],b=x.fileNameStr,j=a.resolve(x.fileNameStr);y.file(j,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:h.createFolders}),x.dir||(y.file(j).unsafeOriginalName=b)}return _.zipComment.length&&(y.comment=_.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),s=n("../stream/GenericWorker");function o(l,g){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(g)}a.inherits(o,s),o.prototype._bindStream=function(l){var g=this;(this._stream=l).pause(),l.on("data",function(w){g.push({data:w,meta:{percent:0}})}).on("error",function(w){g.isPaused?this.generatedError=w:g.error(w)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function s(o,l,g){a.call(this,l),this._helper=o;var w=this;o.on("data",function(k,v){w.push(k)||w._helper.pause(),g&&g(v)}).on("error",function(k){w.emit("error",k)}).on("end",function(){w.push(null)})}n("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(j,E,P){var M,T=o.getTypeOf(E),I=o.extend(P||{},w);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(j=c(j)),I.createFolders&&(M=_(j))&&f.call(this,M,!0);var F=T==="string"&&I.binary===!1&&I.base64===!1;P&&P.binary!==void 0||(I.binary=!F),(E instanceof k&&E.uncompressedSize===0||I.dir||!E||E.length===0)&&(I.base64=!1,I.binary=!0,E="",I.compression="STORE",T="string");var S=null;S=E instanceof k||E instanceof l?E:y.isNode&&y.isStream(E)?new p(j,E):o.prepareContent(j,E,I.binary,I.optimizedBinaryString,I.base64);var $=new v(j,S,I);this.files[j]=$}var s=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),g=n("./stream/StreamHelper"),w=n("./defaults"),k=n("./compressedObject"),v=n("./zipObject"),h=n("./generate"),y=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),_=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var E=j.lastIndexOf("/");return 0<E?j.substring(0,E):""},c=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},f=function(j,E){return E=E!==void 0?E:w.createFolders,j=c(j),this.files[j]||a.call(this,j,null,{dir:!0,createFolders:E}),this.files[j]};function x(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var E,P,M;for(E in this.files)M=this.files[E],(P=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&j(P,M)},filter:function(j){var E=[];return this.forEach(function(P,M){j(P,M)&&E.push(M)}),E},file:function(j,E,P){if(arguments.length!==1)return j=this.root+j,a.call(this,j,E,P),this;if(x(j)){var M=j;return this.filter(function(I,F){return!F.dir&&M.test(I)})}var T=this.files[this.root+j];return T&&!T.dir?T:null},folder:function(j){if(!j)return this;if(x(j))return this.filter(function(T,I){return I.dir&&j.test(T)});var E=this.root+j,P=f.call(this,E),M=this.clone();return M.root=P.name,M},remove:function(j){j=this.root+j;var E=this.files[j];if(E||(j.slice(-1)!=="/"&&(j+="/"),E=this.files[j]),E&&!E.dir)delete this.files[j];else for(var P=this.filter(function(T,I){return I.name.slice(0,j.length)===j}),M=0;M<P.length;M++)delete this.files[P[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var E,P={};try{if((P=o.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");o.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var M=P.comment||this.comment||"";E=h.generateWorker(this,P,M)}catch(T){(E=new l("error")).error(T)}return new g(E,P.type||"string",P.mimeType)},generateAsync:function(j,E){return this.generateInternalStream(j).accumulate(E)},generateNodeStream:function(j,E){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(E)}};r.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),g=o.charCodeAt(1),w=o.charCodeAt(2),k=o.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===l&&this.data[v+1]===g&&this.data[v+2]===w&&this.data[v+3]===k)return v-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),g=o.charCodeAt(1),w=o.charCodeAt(2),k=o.charCodeAt(3),v=this.readData(4);return l===v[0]&&g===v[1]&&w===v[2]&&k===v[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,g=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)g=(g<<8)+this.byteAt(l);return this.index+=o,g},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),s=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),g=n("./NodeBufferReader"),w=n("./Uint8ArrayReader");r.exports=function(k){var v=a.getTypeOf(k);return a.checkSupport(v),v!=="string"||s.uint8array?v==="nodebuffer"?new g(k):s.uint8array?new w(a.transformTo("uint8array",k)):new o(a.transformTo("array",k)):new l(k)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),s=n("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),s=n("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(w){g.dataIsReady=!0,g.data=w,g.max=w&&w.length||0,g.type=a.getTypeOf(w),g.isPaused||g._tickAndRepeat()},function(w){g.error(w)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,g);break;case"uint8array":l=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":l=this.data.slice(this.index,g)}return this.index=g,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),s=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),g=n("../support"),w=n("../external"),k=null;if(g.nodestream)try{k=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(y,p){return new w.Promise(function(_,c){var f=[],x=y._internalType,b=y._outputType,j=y._mimeType;y.on("data",function(E,P){f.push(E),p&&p(P)}).on("error",function(E){f=[],c(E)}).on("end",function(){try{var E=function(P,M,T){switch(P){case"blob":return a.newBlob(a.transformTo("arraybuffer",M),T);case"base64":return l.encode(M);default:return a.transformTo(P,M)}}(b,function(P,M){var T,I=0,F=null,S=0;for(T=0;T<M.length;T++)S+=M[T].length;switch(P){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(F=new Uint8Array(S),T=0;T<M.length;T++)F.set(M[T],I),I+=M[T].length;return F;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+P+"'")}}(x,f),j);_(E)}catch(P){c(P)}f=[]}).resume()})}function h(y,p,_){var c=p;switch(p){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=p,this._mimeType=_,a.checkSupport(c),this._worker=y.pipe(new s(c)),y.lock()}catch(f){this._worker=new o("error"),this._worker.error(f)}}h.prototype={accumulate:function(y){return v(this,y)},on:function(y,p){var _=this;return y==="data"?this._worker.on(y,function(c){p.call(_,c.data,c.meta)}):this._worker.on(y,function(){a.delay(p,arguments,_)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new k(this,{objectMode:this._outputType!=="nodebuffer"},y)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),s=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),g=new Array(256),w=0;w<256;w++)g[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;g[254]=g[254]=1;function k(){l.call(this,"utf-8 decode"),this.leftOver=null}function v(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return s.nodebuffer?o.newBufferFrom(h,"utf-8"):function(y){var p,_,c,f,x,b=y.length,j=0;for(f=0;f<b;f++)(64512&(_=y.charCodeAt(f)))==55296&&f+1<b&&(64512&(c=y.charCodeAt(f+1)))==56320&&(_=65536+(_-55296<<10)+(c-56320),f++),j+=_<128?1:_<2048?2:_<65536?3:4;for(p=s.uint8array?new Uint8Array(j):new Array(j),f=x=0;x<j;f++)(64512&(_=y.charCodeAt(f)))==55296&&f+1<b&&(64512&(c=y.charCodeAt(f+1)))==56320&&(_=65536+(_-55296<<10)+(c-56320),f++),_<128?p[x++]=_:(_<2048?p[x++]=192|_>>>6:(_<65536?p[x++]=224|_>>>12:(p[x++]=240|_>>>18,p[x++]=128|_>>>12&63),p[x++]=128|_>>>6&63),p[x++]=128|63&_);return p}(h)},i.utf8decode=function(h){return s.nodebuffer?a.transformTo("nodebuffer",h).toString("utf-8"):function(y){var p,_,c,f,x=y.length,b=new Array(2*x);for(p=_=0;p<x;)if((c=y[p++])<128)b[_++]=c;else if(4<(f=g[c]))b[_++]=65533,p+=f-1;else{for(c&=f===2?31:f===3?15:7;1<f&&p<x;)c=c<<6|63&y[p++],f--;1<f?b[_++]=65533:c<65536?b[_++]=c:(c-=65536,b[_++]=55296|c>>10&1023,b[_++]=56320|1023&c)}return b.length!==_&&(b.subarray?b=b.subarray(0,_):b.length=_),a.applyFromCharCode(b)}(h=a.transformTo(s.uint8array?"uint8array":"array",h))},a.inherits(k,l),k.prototype.processChunk=function(h){var y=a.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var p=y;(y=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),y.set(p,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var _=function(f,x){var b;for((x=x||f.length)>f.length&&(x=f.length),b=x-1;0<=b&&(192&f[b])==128;)b--;return b<0||b===0?x:b+g[f[b]]>x?b:x}(y),c=y;_!==y.length&&(s.uint8array?(c=y.subarray(0,_),this.leftOver=y.subarray(_,y.length)):(c=y.slice(0,_),this.leftOver=y.slice(_,y.length))),this.push({data:i.utf8decode(c),meta:h.meta})},k.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=k,a.inherits(v,l),v.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),s=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function g(p){return p}function w(p,_){for(var c=0;c<p.length;++c)_[c]=255&p.charCodeAt(c);return _}n("setimmediate"),i.newBlob=function(p,_){i.checkSupport("blob");try{return new Blob([p],{type:_})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(p),c.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var k={stringifyByChunk:function(p,_,c){var f=[],x=0,b=p.length;if(b<=c)return String.fromCharCode.apply(null,p);for(;x<b;)_==="array"||_==="nodebuffer"?f.push(String.fromCharCode.apply(null,p.slice(x,Math.min(x+c,b)))):f.push(String.fromCharCode.apply(null,p.subarray(x,Math.min(x+c,b)))),x+=c;return f.join("")},stringifyByChar:function(p){for(var _="",c=0;c<p.length;c++)_+=String.fromCharCode(p[c]);return _},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function v(p){var _=65536,c=i.getTypeOf(p),f=!0;if(c==="uint8array"?f=k.applyCanBeUsed.uint8array:c==="nodebuffer"&&(f=k.applyCanBeUsed.nodebuffer),f)for(;1<_;)try{return k.stringifyByChunk(p,c,_)}catch{_=Math.floor(_/2)}return k.stringifyByChar(p)}function h(p,_){for(var c=0;c<p.length;c++)_[c]=p[c];return _}i.applyFromCharCode=v;var y={};y.string={string:g,array:function(p){return w(p,new Array(p.length))},arraybuffer:function(p){return y.string.uint8array(p).buffer},uint8array:function(p){return w(p,new Uint8Array(p.length))},nodebuffer:function(p){return w(p,o.allocBuffer(p.length))}},y.array={string:v,array:g,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(p)}},y.arraybuffer={string:function(p){return v(new Uint8Array(p))},array:function(p){return h(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:g,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(new Uint8Array(p))}},y.uint8array={string:v,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:g,nodebuffer:function(p){return o.newBufferFrom(p)}},y.nodebuffer={string:v,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return y.nodebuffer.uint8array(p).buffer},uint8array:function(p){return h(p,new Uint8Array(p.length))},nodebuffer:g},i.transformTo=function(p,_){if(_=_||"",!p)return _;i.checkSupport(p);var c=i.getTypeOf(_);return y[c][p](_)},i.resolve=function(p){for(var _=p.split("/"),c=[],f=0;f<_.length;f++){var x=_[f];x==="."||x===""&&f!==0&&f!==_.length-1||(x===".."?c.pop():c.push(x))}return c.join("/")},i.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(p)?"nodebuffer":a.uint8array&&p instanceof Uint8Array?"uint8array":a.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(p){if(!a[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var _,c,f="";for(c=0;c<(p||"").length;c++)f+="\\x"+((_=p.charCodeAt(c))<16?"0":"")+_.toString(16).toUpperCase();return f},i.delay=function(p,_,c){setImmediate(function(){p.apply(c||null,_||[])})},i.inherits=function(p,_){function c(){}c.prototype=_.prototype,p.prototype=new c},i.extend=function(){var p,_,c={};for(p=0;p<arguments.length;p++)for(_ in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],_)&&c[_]===void 0&&(c[_]=arguments[p][_]);return c},i.prepareContent=function(p,_,c,f,x){return l.Promise.resolve(_).then(function(b){return a.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1)&&typeof FileReader<"u"?new l.Promise(function(j,E){var P=new FileReader;P.onload=function(M){j(M.target.result)},P.onerror=function(M){E(M.target.error)},P.readAsArrayBuffer(b)}):b}).then(function(b){var j=i.getTypeOf(b);return j?(j==="arraybuffer"?b=i.transformTo("uint8array",b):j==="string"&&(x?b=s.decode(b):c&&f!==!0&&(b=function(E){return w(E,a.uint8array?new Uint8Array(E.length):new Array(E.length))}(b))),b):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./signature"),l=n("./zipEntry"),g=n("./support");function w(k){this.files=[],this.loadOptions=k}w.prototype={checkSignature:function(k){if(!this.reader.readAndCheckSignature(k)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(v)+", expected "+s.pretty(k)+")")}},isSignature:function(k,v){var h=this.reader.index;this.reader.setIndex(k);var y=this.reader.readString(4)===v;return this.reader.setIndex(h),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var k=this.reader.readData(this.zipCommentLength),v=g.uint8array?"uint8array":"array",h=s.transformTo(v,k);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var k,v,h,y=this.zip64EndOfCentralSize-44;0<y;)k=this.reader.readInt(2),v=this.reader.readInt(4),h=this.reader.readData(v),this.zip64ExtensibleData[k]={id:k,length:v,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var k,v;for(k=0;k<this.files.length;k++)v=this.files[k],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var k;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(k=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(k);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var k=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(k<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(k);var v=k;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(k=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(k),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var y=v-h;if(0<y)this.isSignature(v,o.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(k){this.reader=a(k)},load:function(k){this.prepareReader(k),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),g=n("./utf8"),w=n("./compressions"),k=n("./support");function v(h,y){this.options=h,this.loadOptions=y}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var y,p;if(h.skip(22),this.fileNameLength=h.readInt(2),p=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(_){for(var c in w)if(Object.prototype.hasOwnProperty.call(w,c)&&w[c].magic===_)return w[c];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,y,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var y=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(y),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var y,p,_,c=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<c;)y=h.readInt(2),p=h.readInt(2),_=h.readData(p),this.extraFields[y]={id:y,length:p,value:_};h.setIndex(c)},handleUTF8:function(){var h=k.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var p=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var c=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var y=a(h.value);return y.readInt(1)!==1||l(this.fileName)!==y.readInt(4)?null:g.utf8decode(y.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var y=a(h.value);return y.readInt(1)!==1||l(this.fileComment)!==y.readInt(4)?null:g.utf8decode(y.readData(h.length-5))}return null}},r.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(y,p,_){this.name=y,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=p,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),g=n("./compressedObject"),w=n("./stream/GenericWorker");a.prototype={internalStream:function(y){var p=null,_="string";try{if(!y)throw new Error("No output type specified.");var c=(_=y.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),p=this._decompressWorker();var f=!this._dataBinary;f&&!c&&(p=p.pipe(new l.Utf8EncodeWorker)),!f&&c&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(x){(p=new w("error")).error(x)}return new s(p,_,"")},async:function(y,p){return this.internalStream(y).accumulate(p)},nodeStream:function(y,p){return this.internalStream(y||"nodebuffer").toNodejsStream(p)},_compressWorker:function(y,p){if(this._data instanceof g&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new l.Utf8EncodeWorker)),g.createWorkerFrom(_,y,p)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof w?this._data:new o(this._data)}};for(var k=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<k.length;h++)a.prototype[k[h]]=v;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var g=0,w=new l(y),k=a.document.createTextNode("");w.observe(k,{characterData:!0}),s=function(){k.data=g=++g%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var p=a.document.createElement("script");p.onreadystatechange=function(){y(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},a.document.documentElement.appendChild(p)}:function(){setTimeout(y,0)};else{var v=new a.MessageChannel;v.port1.onmessage=y,s=function(){v.port2.postMessage(0)}}var h=[];function y(){var p,_;o=!0;for(var c=h.length;c;){for(_=h,h=[],p=-1;++p<c;)_[p]();c=h.length}o=!1}r.exports=function(p){h.push(p)!==1||o||s()}}).call(this,typeof sa<"u"?sa:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function s(){}var o={},l=["REJECTED"],g=["FULFILLED"],w=["PENDING"];function k(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,c!==s&&p(this,c)}function v(c,f,x){this.promise=c,typeof f=="function"&&(this.onFulfilled=f,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function h(c,f,x){a(function(){var b;try{b=f(x)}catch(j){return o.reject(c,j)}b===c?o.reject(c,new TypeError("Cannot resolve promise with itself")):o.resolve(c,b)})}function y(c){var f=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof f=="function")return function(){f.apply(c,arguments)}}function p(c,f){var x=!1;function b(P){x||(x=!0,o.reject(c,P))}function j(P){x||(x=!0,o.resolve(c,P))}var E=_(function(){f(j,b)});E.status==="error"&&b(E.value)}function _(c,f){var x={};try{x.value=c(f),x.status="success"}catch(b){x.status="error",x.value=b}return x}(r.exports=k).prototype.finally=function(c){if(typeof c!="function")return this;var f=this.constructor;return this.then(function(x){return f.resolve(c()).then(function(){return x})},function(x){return f.resolve(c()).then(function(){throw x})})},k.prototype.catch=function(c){return this.then(null,c)},k.prototype.then=function(c,f){if(typeof c!="function"&&this.state===g||typeof f!="function"&&this.state===l)return this;var x=new this.constructor(s);return this.state!==w?h(x,this.state===g?c:f,this.outcome):this.queue.push(new v(x,c,f)),x},v.prototype.callFulfilled=function(c){o.resolve(this.promise,c)},v.prototype.otherCallFulfilled=function(c){h(this.promise,this.onFulfilled,c)},v.prototype.callRejected=function(c){o.reject(this.promise,c)},v.prototype.otherCallRejected=function(c){h(this.promise,this.onRejected,c)},o.resolve=function(c,f){var x=_(y,f);if(x.status==="error")return o.reject(c,x.value);var b=x.value;if(b)p(c,b);else{c.state=g,c.outcome=f;for(var j=-1,E=c.queue.length;++j<E;)c.queue[j].callFulfilled(f)}return c},o.reject=function(c,f){c.state=l,c.outcome=f;for(var x=-1,b=c.queue.length;++x<b;)c.queue[x].callRejected(f);return c},k.resolve=function(c){return c instanceof this?c:o.resolve(new this(s),c)},k.reject=function(c){var f=new this(s);return o.reject(f,c)},k.all=function(c){var f=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=c.length,b=!1;if(!x)return this.resolve([]);for(var j=new Array(x),E=0,P=-1,M=new this(s);++P<x;)T(c[P],P);return M;function T(I,F){f.resolve(I).then(function(S){j[F]=S,++E!==x||b||(b=!0,o.resolve(M,j))},function(S){b||(b=!0,o.reject(M,S))})}},k.race=function(c){var f=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=c.length,b=!1;if(!x)return this.resolve([]);for(var j=-1,E=new this(s);++j<x;)P=c[j],f.resolve(P).then(function(M){b||(b=!0,o.resolve(E,M))},function(M){b||(b=!0,o.reject(E,M))});var P;return E}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),g=n("./zlib/zstream"),w=Object.prototype.toString,k=0,v=-1,h=0,y=8;function p(c){if(!(this instanceof p))return new p(c);this.options=s.assign({level:v,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},c||{});var f=this.options;f.raw&&0<f.windowBits?f.windowBits=-f.windowBits:f.gzip&&0<f.windowBits&&f.windowBits<16&&(f.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var x=a.deflateInit2(this.strm,f.level,f.method,f.windowBits,f.memLevel,f.strategy);if(x!==k)throw new Error(l[x]);if(f.header&&a.deflateSetHeader(this.strm,f.header),f.dictionary){var b;if(b=typeof f.dictionary=="string"?o.string2buf(f.dictionary):w.call(f.dictionary)==="[object ArrayBuffer]"?new Uint8Array(f.dictionary):f.dictionary,(x=a.deflateSetDictionary(this.strm,b))!==k)throw new Error(l[x]);this._dict_set=!0}}function _(c,f){var x=new p(f);if(x.push(c,!0),x.err)throw x.msg||l[x.err];return x.result}p.prototype.push=function(c,f){var x,b,j=this.strm,E=this.options.chunkSize;if(this.ended)return!1;b=f===~~f?f:f===!0?4:0,typeof c=="string"?j.input=o.string2buf(c):w.call(c)==="[object ArrayBuffer]"?j.input=new Uint8Array(c):j.input=c,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new s.Buf8(E),j.next_out=0,j.avail_out=E),(x=a.deflate(j,b))!==1&&x!==k)return this.onEnd(x),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||b!==4&&b!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(j.output,j.next_out))):this.onData(s.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&x!==1);return b===4?(x=a.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===k):b!==2||(this.onEnd(k),!(j.avail_out=0))},p.prototype.onData=function(c){this.chunks.push(c)},p.prototype.onEnd=function(c){c===k&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},i.Deflate=p,i.deflate=_,i.deflateRaw=function(c,f){return(f=f||{}).raw=!0,_(c,f)},i.gzip=function(c,f){return(f=f||{}).gzip=!0,_(c,f)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),g=n("./zlib/messages"),w=n("./zlib/zstream"),k=n("./zlib/gzheader"),v=Object.prototype.toString;function h(p){if(!(this instanceof h))return new h(p);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},p||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||p&&p.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&!(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var c=a.inflateInit2(this.strm,_.windowBits);if(c!==l.Z_OK)throw new Error(g[c]);this.header=new k,a.inflateGetHeader(this.strm,this.header)}function y(p,_){var c=new h(_);if(c.push(p,!0),c.err)throw c.msg||g[c.err];return c.result}h.prototype.push=function(p,_){var c,f,x,b,j,E,P=this.strm,M=this.options.chunkSize,T=this.options.dictionary,I=!1;if(this.ended)return!1;f=_===~~_?_:_===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?P.input=o.binstring2buf(p):v.call(p)==="[object ArrayBuffer]"?P.input=new Uint8Array(p):P.input=p,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new s.Buf8(M),P.next_out=0,P.avail_out=M),(c=a.inflate(P,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&T&&(E=typeof T=="string"?o.string2buf(T):v.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,c=a.inflateSetDictionary(this.strm,E)),c===l.Z_BUF_ERROR&&I===!0&&(c=l.Z_OK,I=!1),c!==l.Z_STREAM_END&&c!==l.Z_OK)return this.onEnd(c),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&c!==l.Z_STREAM_END&&(P.avail_in!==0||f!==l.Z_FINISH&&f!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=o.utf8border(P.output,P.next_out),b=P.next_out-x,j=o.buf2string(P.output,x),P.next_out=b,P.avail_out=M-b,b&&s.arraySet(P.output,P.output,x,b,0),this.onData(j)):this.onData(s.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(I=!0)}while((0<P.avail_in||P.avail_out===0)&&c!==l.Z_STREAM_END);return c===l.Z_STREAM_END&&(f=l.Z_FINISH),f===l.Z_FINISH?(c=a.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===l.Z_OK):f!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(P.avail_out=0))},h.prototype.onData=function(p){this.chunks.push(p)},h.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Inflate=h,i.inflate=y,i.inflateRaw=function(p,_){return(_=_||{}).raw=!0,y(p,_)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var w=g.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var k in w)w.hasOwnProperty(k)&&(l[k]=w[k])}}return l},i.shrinkBuf=function(l,g){return l.length===g?l:l.subarray?l.subarray(0,g):(l.length=g,l)};var s={arraySet:function(l,g,w,k,v){if(g.subarray&&l.subarray)l.set(g.subarray(w,w+k),v);else for(var h=0;h<k;h++)l[v+h]=g[w+h]},flattenChunks:function(l){var g,w,k,v,h,y;for(g=k=0,w=l.length;g<w;g++)k+=l[g].length;for(y=new Uint8Array(k),g=v=0,w=l.length;g<w;g++)h=l[g],y.set(h,v),v+=h.length;return y}},o={arraySet:function(l,g,w,k,v){for(var h=0;h<k;h++)l[v+h]=g[w+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),g=0;g<256;g++)l[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function w(k,v){if(v<65537&&(k.subarray&&o||!k.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(k,v));for(var h="",y=0;y<v;y++)h+=String.fromCharCode(k[y]);return h}l[254]=l[254]=1,i.string2buf=function(k){var v,h,y,p,_,c=k.length,f=0;for(p=0;p<c;p++)(64512&(h=k.charCodeAt(p)))==55296&&p+1<c&&(64512&(y=k.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),p++),f+=h<128?1:h<2048?2:h<65536?3:4;for(v=new a.Buf8(f),p=_=0;_<f;p++)(64512&(h=k.charCodeAt(p)))==55296&&p+1<c&&(64512&(y=k.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),p++),h<128?v[_++]=h:(h<2048?v[_++]=192|h>>>6:(h<65536?v[_++]=224|h>>>12:(v[_++]=240|h>>>18,v[_++]=128|h>>>12&63),v[_++]=128|h>>>6&63),v[_++]=128|63&h);return v},i.buf2binstring=function(k){return w(k,k.length)},i.binstring2buf=function(k){for(var v=new a.Buf8(k.length),h=0,y=v.length;h<y;h++)v[h]=k.charCodeAt(h);return v},i.buf2string=function(k,v){var h,y,p,_,c=v||k.length,f=new Array(2*c);for(h=y=0;h<c;)if((p=k[h++])<128)f[y++]=p;else if(4<(_=l[p]))f[y++]=65533,h+=_-1;else{for(p&=_===2?31:_===3?15:7;1<_&&h<c;)p=p<<6|63&k[h++],_--;1<_?f[y++]=65533:p<65536?f[y++]=p:(p-=65536,f[y++]=55296|p>>10&1023,f[y++]=56320|1023&p)}return w(f,y)},i.utf8border=function(k,v){var h;for((v=v||k.length)>k.length&&(v=k.length),h=v-1;0<=h&&(192&k[h])==128;)h--;return h<0||h===0?v:h+l[k[h]]>v?h:v}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,s,o,l){for(var g=65535&a|0,w=a>>>16&65535|0,k=0;o!==0;){for(o-=k=2e3<o?2e3:o;w=w+(g=g+s[l++]|0)|0,--k;);g%=65521,w%=65521}return g|w<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var g=0;g<8;g++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();r.exports=function(s,o,l,g){var w=a,k=g+l;s^=-1;for(var v=g;v<k;v++)s=s>>>8^w[255&(s^o[v])];return-1^s}},{}],46:[function(n,r,i){var a,s=n("../utils/common"),o=n("./trees"),l=n("./adler32"),g=n("./crc32"),w=n("./messages"),k=0,v=4,h=0,y=-2,p=-1,_=4,c=2,f=8,x=9,b=286,j=30,E=19,P=2*b+1,M=15,T=3,I=258,F=I+T+1,S=42,$=113,m=1,G=2,oe=3,U=4;function V(d,Z){return d.msg=w[Z],Z}function O(d){return(d<<1)-(4<d?9:0)}function q(d){for(var Z=d.length;0<=--Z;)d[Z]=0}function R(d){var Z=d.state,H=Z.pending;H>d.avail_out&&(H=d.avail_out),H!==0&&(s.arraySet(d.output,Z.pending_buf,Z.pending_out,H,d.next_out),d.next_out+=H,Z.pending_out+=H,d.total_out+=H,d.avail_out-=H,Z.pending-=H,Z.pending===0&&(Z.pending_out=0))}function A(d,Z){o._tr_flush_block(d,0<=d.block_start?d.block_start:-1,d.strstart-d.block_start,Z),d.block_start=d.strstart,R(d.strm)}function he(d,Z){d.pending_buf[d.pending++]=Z}function ee(d,Z){d.pending_buf[d.pending++]=Z>>>8&255,d.pending_buf[d.pending++]=255&Z}function ne(d,Z){var H,C,N=d.max_chain_length,L=d.strstart,X=d.prev_length,J=d.nice_match,B=d.strstart>d.w_size-F?d.strstart-(d.w_size-F):0,re=d.window,de=d.w_mask,ae=d.prev,ye=d.strstart+I,Re=re[L+X-1],Se=re[L+X];d.prev_length>=d.good_match&&(N>>=2),J>d.lookahead&&(J=d.lookahead);do if(re[(H=Z)+X]===Se&&re[H+X-1]===Re&&re[H]===re[L]&&re[++H]===re[L+1]){L+=2,H++;do;while(re[++L]===re[++H]&&re[++L]===re[++H]&&re[++L]===re[++H]&&re[++L]===re[++H]&&re[++L]===re[++H]&&re[++L]===re[++H]&&re[++L]===re[++H]&&re[++L]===re[++H]&&L<ye);if(C=I-(ye-L),L=ye-I,X<C){if(d.match_start=Z,J<=(X=C))break;Re=re[L+X-1],Se=re[L+X]}}while((Z=ae[Z&de])>B&&--N!=0);return X<=d.lookahead?X:d.lookahead}function Ce(d){var Z,H,C,N,L,X,J,B,re,de,ae=d.w_size;do{if(N=d.window_size-d.lookahead-d.strstart,d.strstart>=ae+(ae-F)){for(s.arraySet(d.window,d.window,ae,ae,0),d.match_start-=ae,d.strstart-=ae,d.block_start-=ae,Z=H=d.hash_size;C=d.head[--Z],d.head[Z]=ae<=C?C-ae:0,--H;);for(Z=H=ae;C=d.prev[--Z],d.prev[Z]=ae<=C?C-ae:0,--H;);N+=ae}if(d.strm.avail_in===0)break;if(X=d.strm,J=d.window,B=d.strstart+d.lookahead,re=N,de=void 0,de=X.avail_in,re<de&&(de=re),H=de===0?0:(X.avail_in-=de,s.arraySet(J,X.input,X.next_in,de,B),X.state.wrap===1?X.adler=l(X.adler,J,de,B):X.state.wrap===2&&(X.adler=g(X.adler,J,de,B)),X.next_in+=de,X.total_in+=de,de),d.lookahead+=H,d.lookahead+d.insert>=T)for(L=d.strstart-d.insert,d.ins_h=d.window[L],d.ins_h=(d.ins_h<<d.hash_shift^d.window[L+1])&d.hash_mask;d.insert&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[L+T-1])&d.hash_mask,d.prev[L&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=L,L++,d.insert--,!(d.lookahead+d.insert<T)););}while(d.lookahead<F&&d.strm.avail_in!==0)}function De(d,Z){for(var H,C;;){if(d.lookahead<F){if(Ce(d),d.lookahead<F&&Z===k)return m;if(d.lookahead===0)break}if(H=0,d.lookahead>=T&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+T-1])&d.hash_mask,H=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),H!==0&&d.strstart-H<=d.w_size-F&&(d.match_length=ne(d,H)),d.match_length>=T)if(C=o._tr_tally(d,d.strstart-d.match_start,d.match_length-T),d.lookahead-=d.match_length,d.match_length<=d.max_lazy_match&&d.lookahead>=T){for(d.match_length--;d.strstart++,d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+T-1])&d.hash_mask,H=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart,--d.match_length!=0;);d.strstart++}else d.strstart+=d.match_length,d.match_length=0,d.ins_h=d.window[d.strstart],d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+1])&d.hash_mask;else C=o._tr_tally(d,0,d.window[d.strstart]),d.lookahead--,d.strstart++;if(C&&(A(d,!1),d.strm.avail_out===0))return m}return d.insert=d.strstart<T-1?d.strstart:T-1,Z===v?(A(d,!0),d.strm.avail_out===0?oe:U):d.last_lit&&(A(d,!1),d.strm.avail_out===0)?m:G}function je(d,Z){for(var H,C,N;;){if(d.lookahead<F){if(Ce(d),d.lookahead<F&&Z===k)return m;if(d.lookahead===0)break}if(H=0,d.lookahead>=T&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+T-1])&d.hash_mask,H=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),d.prev_length=d.match_length,d.prev_match=d.match_start,d.match_length=T-1,H!==0&&d.prev_length<d.max_lazy_match&&d.strstart-H<=d.w_size-F&&(d.match_length=ne(d,H),d.match_length<=5&&(d.strategy===1||d.match_length===T&&4096<d.strstart-d.match_start)&&(d.match_length=T-1)),d.prev_length>=T&&d.match_length<=d.prev_length){for(N=d.strstart+d.lookahead-T,C=o._tr_tally(d,d.strstart-1-d.prev_match,d.prev_length-T),d.lookahead-=d.prev_length-1,d.prev_length-=2;++d.strstart<=N&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+T-1])&d.hash_mask,H=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),--d.prev_length!=0;);if(d.match_available=0,d.match_length=T-1,d.strstart++,C&&(A(d,!1),d.strm.avail_out===0))return m}else if(d.match_available){if((C=o._tr_tally(d,0,d.window[d.strstart-1]))&&A(d,!1),d.strstart++,d.lookahead--,d.strm.avail_out===0)return m}else d.match_available=1,d.strstart++,d.lookahead--}return d.match_available&&(C=o._tr_tally(d,0,d.window[d.strstart-1]),d.match_available=0),d.insert=d.strstart<T-1?d.strstart:T-1,Z===v?(A(d,!0),d.strm.avail_out===0?oe:U):d.last_lit&&(A(d,!1),d.strm.avail_out===0)?m:G}function Ae(d,Z,H,C,N){this.good_length=d,this.max_lazy=Z,this.nice_length=H,this.max_chain=C,this.func=N}function me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=f,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*P),this.dyn_dtree=new s.Buf16(2*(2*j+1)),this.bl_tree=new s.Buf16(2*(2*E+1)),q(this.dyn_ltree),q(this.dyn_dtree),q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(M+1),this.heap=new s.Buf16(2*b+1),q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*b+1),q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Me(d){var Z;return d&&d.state?(d.total_in=d.total_out=0,d.data_type=c,(Z=d.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?S:$,d.adler=Z.wrap===2?0:1,Z.last_flush=k,o._tr_init(Z),h):V(d,y)}function Be(d){var Z=Me(d);return Z===h&&function(H){H.window_size=2*H.w_size,q(H.head),H.max_lazy_match=a[H.level].max_lazy,H.good_match=a[H.level].good_length,H.nice_match=a[H.level].nice_length,H.max_chain_length=a[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=T-1,H.match_available=0,H.ins_h=0}(d.state),Z}function He(d,Z,H,C,N,L){if(!d)return y;var X=1;if(Z===p&&(Z=6),C<0?(X=0,C=-C):15<C&&(X=2,C-=16),N<1||x<N||H!==f||C<8||15<C||Z<0||9<Z||L<0||_<L)return V(d,y);C===8&&(C=9);var J=new me;return(d.state=J).strm=d,J.wrap=X,J.gzhead=null,J.w_bits=C,J.w_size=1<<J.w_bits,J.w_mask=J.w_size-1,J.hash_bits=N+7,J.hash_size=1<<J.hash_bits,J.hash_mask=J.hash_size-1,J.hash_shift=~~((J.hash_bits+T-1)/T),J.window=new s.Buf8(2*J.w_size),J.head=new s.Buf16(J.hash_size),J.prev=new s.Buf16(J.w_size),J.lit_bufsize=1<<N+6,J.pending_buf_size=4*J.lit_bufsize,J.pending_buf=new s.Buf8(J.pending_buf_size),J.d_buf=1*J.lit_bufsize,J.l_buf=3*J.lit_bufsize,J.level=Z,J.strategy=L,J.method=H,Be(d)}a=[new Ae(0,0,0,0,function(d,Z){var H=65535;for(H>d.pending_buf_size-5&&(H=d.pending_buf_size-5);;){if(d.lookahead<=1){if(Ce(d),d.lookahead===0&&Z===k)return m;if(d.lookahead===0)break}d.strstart+=d.lookahead,d.lookahead=0;var C=d.block_start+H;if((d.strstart===0||d.strstart>=C)&&(d.lookahead=d.strstart-C,d.strstart=C,A(d,!1),d.strm.avail_out===0)||d.strstart-d.block_start>=d.w_size-F&&(A(d,!1),d.strm.avail_out===0))return m}return d.insert=0,Z===v?(A(d,!0),d.strm.avail_out===0?oe:U):(d.strstart>d.block_start&&(A(d,!1),d.strm.avail_out),m)}),new Ae(4,4,8,4,De),new Ae(4,5,16,8,De),new Ae(4,6,32,32,De),new Ae(4,4,16,16,je),new Ae(8,16,32,32,je),new Ae(8,16,128,128,je),new Ae(8,32,128,256,je),new Ae(32,128,258,1024,je),new Ae(32,258,258,4096,je)],i.deflateInit=function(d,Z){return He(d,Z,f,15,8,0)},i.deflateInit2=He,i.deflateReset=Be,i.deflateResetKeep=Me,i.deflateSetHeader=function(d,Z){return d&&d.state?d.state.wrap!==2?y:(d.state.gzhead=Z,h):y},i.deflate=function(d,Z){var H,C,N,L;if(!d||!d.state||5<Z||Z<0)return d?V(d,y):y;if(C=d.state,!d.output||!d.input&&d.avail_in!==0||C.status===666&&Z!==v)return V(d,d.avail_out===0?-5:y);if(C.strm=d,H=C.last_flush,C.last_flush=Z,C.status===S)if(C.wrap===2)d.adler=0,he(C,31),he(C,139),he(C,8),C.gzhead?(he(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),he(C,255&C.gzhead.time),he(C,C.gzhead.time>>8&255),he(C,C.gzhead.time>>16&255),he(C,C.gzhead.time>>24&255),he(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),he(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(he(C,255&C.gzhead.extra.length),he(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(d.adler=g(d.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(he(C,0),he(C,0),he(C,0),he(C,0),he(C,0),he(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),he(C,3),C.status=$);else{var X=f+(C.w_bits-8<<4)<<8;X|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(X|=32),X+=31-X%31,C.status=$,ee(C,X),C.strstart!==0&&(ee(C,d.adler>>>16),ee(C,65535&d.adler)),d.adler=1}if(C.status===69)if(C.gzhead.extra){for(N=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>N&&(d.adler=g(d.adler,C.pending_buf,C.pending-N,N)),R(d),N=C.pending,C.pending!==C.pending_buf_size));)he(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>N&&(d.adler=g(d.adler,C.pending_buf,C.pending-N,N)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){N=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>N&&(d.adler=g(d.adler,C.pending_buf,C.pending-N,N)),R(d),N=C.pending,C.pending===C.pending_buf_size)){L=1;break}L=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,he(C,L)}while(L!==0);C.gzhead.hcrc&&C.pending>N&&(d.adler=g(d.adler,C.pending_buf,C.pending-N,N)),L===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){N=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>N&&(d.adler=g(d.adler,C.pending_buf,C.pending-N,N)),R(d),N=C.pending,C.pending===C.pending_buf_size)){L=1;break}L=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,he(C,L)}while(L!==0);C.gzhead.hcrc&&C.pending>N&&(d.adler=g(d.adler,C.pending_buf,C.pending-N,N)),L===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&R(d),C.pending+2<=C.pending_buf_size&&(he(C,255&d.adler),he(C,d.adler>>8&255),d.adler=0,C.status=$)):C.status=$),C.pending!==0){if(R(d),d.avail_out===0)return C.last_flush=-1,h}else if(d.avail_in===0&&O(Z)<=O(H)&&Z!==v)return V(d,-5);if(C.status===666&&d.avail_in!==0)return V(d,-5);if(d.avail_in!==0||C.lookahead!==0||Z!==k&&C.status!==666){var J=C.strategy===2?function(B,re){for(var de;;){if(B.lookahead===0&&(Ce(B),B.lookahead===0)){if(re===k)return m;break}if(B.match_length=0,de=o._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,de&&(A(B,!1),B.strm.avail_out===0))return m}return B.insert=0,re===v?(A(B,!0),B.strm.avail_out===0?oe:U):B.last_lit&&(A(B,!1),B.strm.avail_out===0)?m:G}(C,Z):C.strategy===3?function(B,re){for(var de,ae,ye,Re,Se=B.window;;){if(B.lookahead<=I){if(Ce(B),B.lookahead<=I&&re===k)return m;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=T&&0<B.strstart&&(ae=Se[ye=B.strstart-1])===Se[++ye]&&ae===Se[++ye]&&ae===Se[++ye]){Re=B.strstart+I;do;while(ae===Se[++ye]&&ae===Se[++ye]&&ae===Se[++ye]&&ae===Se[++ye]&&ae===Se[++ye]&&ae===Se[++ye]&&ae===Se[++ye]&&ae===Se[++ye]&&ye<Re);B.match_length=I-(Re-ye),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=T?(de=o._tr_tally(B,1,B.match_length-T),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(de=o._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),de&&(A(B,!1),B.strm.avail_out===0))return m}return B.insert=0,re===v?(A(B,!0),B.strm.avail_out===0?oe:U):B.last_lit&&(A(B,!1),B.strm.avail_out===0)?m:G}(C,Z):a[C.level].func(C,Z);if(J!==oe&&J!==U||(C.status=666),J===m||J===oe)return d.avail_out===0&&(C.last_flush=-1),h;if(J===G&&(Z===1?o._tr_align(C):Z!==5&&(o._tr_stored_block(C,0,0,!1),Z===3&&(q(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),R(d),d.avail_out===0))return C.last_flush=-1,h}return Z!==v?h:C.wrap<=0?1:(C.wrap===2?(he(C,255&d.adler),he(C,d.adler>>8&255),he(C,d.adler>>16&255),he(C,d.adler>>24&255),he(C,255&d.total_in),he(C,d.total_in>>8&255),he(C,d.total_in>>16&255),he(C,d.total_in>>24&255)):(ee(C,d.adler>>>16),ee(C,65535&d.adler)),R(d),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?h:1)},i.deflateEnd=function(d){var Z;return d&&d.state?(Z=d.state.status)!==S&&Z!==69&&Z!==73&&Z!==91&&Z!==103&&Z!==$&&Z!==666?V(d,y):(d.state=null,Z===$?V(d,-3):h):y},i.deflateSetDictionary=function(d,Z){var H,C,N,L,X,J,B,re,de=Z.length;if(!d||!d.state||(L=(H=d.state).wrap)===2||L===1&&H.status!==S||H.lookahead)return y;for(L===1&&(d.adler=l(d.adler,Z,de,0)),H.wrap=0,de>=H.w_size&&(L===0&&(q(H.head),H.strstart=0,H.block_start=0,H.insert=0),re=new s.Buf8(H.w_size),s.arraySet(re,Z,de-H.w_size,H.w_size,0),Z=re,de=H.w_size),X=d.avail_in,J=d.next_in,B=d.input,d.avail_in=de,d.next_in=0,d.input=Z,Ce(H);H.lookahead>=T;){for(C=H.strstart,N=H.lookahead-(T-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[C+T-1])&H.hash_mask,H.prev[C&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=C,C++,--N;);H.strstart=C,H.lookahead=T-1,Ce(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=T-1,H.match_available=0,d.next_in=J,d.input=B,d.avail_in=X,H.wrap=L,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,s){var o,l,g,w,k,v,h,y,p,_,c,f,x,b,j,E,P,M,T,I,F,S,$,m,G;o=a.state,l=a.next_in,m=a.input,g=l+(a.avail_in-5),w=a.next_out,G=a.output,k=w-(s-a.avail_out),v=w+(a.avail_out-257),h=o.dmax,y=o.wsize,p=o.whave,_=o.wnext,c=o.window,f=o.hold,x=o.bits,b=o.lencode,j=o.distcode,E=(1<<o.lenbits)-1,P=(1<<o.distbits)-1;e:do{x<15&&(f+=m[l++]<<x,x+=8,f+=m[l++]<<x,x+=8),M=b[f&E];t:for(;;){if(f>>>=T=M>>>24,x-=T,(T=M>>>16&255)===0)G[w++]=65535&M;else{if(!(16&T)){if(!(64&T)){M=b[(65535&M)+(f&(1<<T)-1)];continue t}if(32&T){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}I=65535&M,(T&=15)&&(x<T&&(f+=m[l++]<<x,x+=8),I+=f&(1<<T)-1,f>>>=T,x-=T),x<15&&(f+=m[l++]<<x,x+=8,f+=m[l++]<<x,x+=8),M=j[f&P];n:for(;;){if(f>>>=T=M>>>24,x-=T,!(16&(T=M>>>16&255))){if(!(64&T)){M=j[(65535&M)+(f&(1<<T)-1)];continue n}a.msg="invalid distance code",o.mode=30;break e}if(F=65535&M,x<(T&=15)&&(f+=m[l++]<<x,(x+=8)<T&&(f+=m[l++]<<x,x+=8)),h<(F+=f&(1<<T)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(f>>>=T,x-=T,(T=w-k)<F){if(p<(T=F-T)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if($=c,(S=0)===_){if(S+=y-T,T<I){for(I-=T;G[w++]=c[S++],--T;);S=w-F,$=G}}else if(_<T){if(S+=y+_-T,(T-=_)<I){for(I-=T;G[w++]=c[S++],--T;);if(S=0,_<I){for(I-=T=_;G[w++]=c[S++],--T;);S=w-F,$=G}}}else if(S+=_-T,T<I){for(I-=T;G[w++]=c[S++],--T;);S=w-F,$=G}for(;2<I;)G[w++]=$[S++],G[w++]=$[S++],G[w++]=$[S++],I-=3;I&&(G[w++]=$[S++],1<I&&(G[w++]=$[S++]))}else{for(S=w-F;G[w++]=G[S++],G[w++]=G[S++],G[w++]=G[S++],2<(I-=3););I&&(G[w++]=G[S++],1<I&&(G[w++]=G[S++]))}break}}break}}while(l<g&&w<v);l-=I=x>>3,f&=(1<<(x-=I<<3))-1,a.next_in=l,a.next_out=w,a.avail_in=l<g?g-l+5:5-(l-g),a.avail_out=w<v?v-w+257:257-(w-v),o.hold=f,o.bits=x}},{}],49:[function(n,r,i){var a=n("../utils/common"),s=n("./adler32"),o=n("./crc32"),l=n("./inffast"),g=n("./inftrees"),w=1,k=2,v=0,h=-2,y=1,p=852,_=592;function c(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(S){var $;return S&&S.state?($=S.state,S.total_in=S.total_out=$.total=0,S.msg="",$.wrap&&(S.adler=1&$.wrap),$.mode=y,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new a.Buf32(p),$.distcode=$.distdyn=new a.Buf32(_),$.sane=1,$.back=-1,v):h}function b(S){var $;return S&&S.state?(($=S.state).wsize=0,$.whave=0,$.wnext=0,x(S)):h}function j(S,$){var m,G;return S&&S.state?(G=S.state,$<0?(m=0,$=-$):(m=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?h:(G.window!==null&&G.wbits!==$&&(G.window=null),G.wrap=m,G.wbits=$,b(S))):h}function E(S,$){var m,G;return S?(G=new f,(S.state=G).window=null,(m=j(S,$))!==v&&(S.state=null),m):h}var P,M,T=!0;function I(S){if(T){var $;for(P=new a.Buf32(512),M=new a.Buf32(32),$=0;$<144;)S.lens[$++]=8;for(;$<256;)S.lens[$++]=9;for(;$<280;)S.lens[$++]=7;for(;$<288;)S.lens[$++]=8;for(g(w,S.lens,0,288,P,0,S.work,{bits:9}),$=0;$<32;)S.lens[$++]=5;g(k,S.lens,0,32,M,0,S.work,{bits:5}),T=!1}S.lencode=P,S.lenbits=9,S.distcode=M,S.distbits=5}function F(S,$,m,G){var oe,U=S.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new a.Buf8(U.wsize)),G>=U.wsize?(a.arraySet(U.window,$,m-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(G<(oe=U.wsize-U.wnext)&&(oe=G),a.arraySet(U.window,$,m-G,oe,U.wnext),(G-=oe)?(a.arraySet(U.window,$,m-G,G,0),U.wnext=G,U.whave=U.wsize):(U.wnext+=oe,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=oe))),0}i.inflateReset=b,i.inflateReset2=j,i.inflateResetKeep=x,i.inflateInit=function(S){return E(S,15)},i.inflateInit2=E,i.inflate=function(S,$){var m,G,oe,U,V,O,q,R,A,he,ee,ne,Ce,De,je,Ae,me,Me,Be,He,d,Z,H,C,N=0,L=new a.Buf8(4),X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return h;(m=S.state).mode===12&&(m.mode=13),V=S.next_out,oe=S.output,q=S.avail_out,U=S.next_in,G=S.input,O=S.avail_in,R=m.hold,A=m.bits,he=O,ee=q,Z=v;e:for(;;)switch(m.mode){case y:if(m.wrap===0){m.mode=13;break}for(;A<16;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}if(2&m.wrap&&R===35615){L[m.check=0]=255&R,L[1]=R>>>8&255,m.check=o(m.check,L,2,0),A=R=0,m.mode=2;break}if(m.flags=0,m.head&&(m.head.done=!1),!(1&m.wrap)||(((255&R)<<8)+(R>>8))%31){S.msg="incorrect header check",m.mode=30;break}if((15&R)!=8){S.msg="unknown compression method",m.mode=30;break}if(A-=4,d=8+(15&(R>>>=4)),m.wbits===0)m.wbits=d;else if(d>m.wbits){S.msg="invalid window size",m.mode=30;break}m.dmax=1<<d,S.adler=m.check=1,m.mode=512&R?10:12,A=R=0;break;case 2:for(;A<16;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}if(m.flags=R,(255&m.flags)!=8){S.msg="unknown compression method",m.mode=30;break}if(57344&m.flags){S.msg="unknown header flags set",m.mode=30;break}m.head&&(m.head.text=R>>8&1),512&m.flags&&(L[0]=255&R,L[1]=R>>>8&255,m.check=o(m.check,L,2,0)),A=R=0,m.mode=3;case 3:for(;A<32;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}m.head&&(m.head.time=R),512&m.flags&&(L[0]=255&R,L[1]=R>>>8&255,L[2]=R>>>16&255,L[3]=R>>>24&255,m.check=o(m.check,L,4,0)),A=R=0,m.mode=4;case 4:for(;A<16;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}m.head&&(m.head.xflags=255&R,m.head.os=R>>8),512&m.flags&&(L[0]=255&R,L[1]=R>>>8&255,m.check=o(m.check,L,2,0)),A=R=0,m.mode=5;case 5:if(1024&m.flags){for(;A<16;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}m.length=R,m.head&&(m.head.extra_len=R),512&m.flags&&(L[0]=255&R,L[1]=R>>>8&255,m.check=o(m.check,L,2,0)),A=R=0}else m.head&&(m.head.extra=null);m.mode=6;case 6:if(1024&m.flags&&(O<(ne=m.length)&&(ne=O),ne&&(m.head&&(d=m.head.extra_len-m.length,m.head.extra||(m.head.extra=new Array(m.head.extra_len)),a.arraySet(m.head.extra,G,U,ne,d)),512&m.flags&&(m.check=o(m.check,G,ne,U)),O-=ne,U+=ne,m.length-=ne),m.length))break e;m.length=0,m.mode=7;case 7:if(2048&m.flags){if(O===0)break e;for(ne=0;d=G[U+ne++],m.head&&d&&m.length<65536&&(m.head.name+=String.fromCharCode(d)),d&&ne<O;);if(512&m.flags&&(m.check=o(m.check,G,ne,U)),O-=ne,U+=ne,d)break e}else m.head&&(m.head.name=null);m.length=0,m.mode=8;case 8:if(4096&m.flags){if(O===0)break e;for(ne=0;d=G[U+ne++],m.head&&d&&m.length<65536&&(m.head.comment+=String.fromCharCode(d)),d&&ne<O;);if(512&m.flags&&(m.check=o(m.check,G,ne,U)),O-=ne,U+=ne,d)break e}else m.head&&(m.head.comment=null);m.mode=9;case 9:if(512&m.flags){for(;A<16;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}if(R!==(65535&m.check)){S.msg="header crc mismatch",m.mode=30;break}A=R=0}m.head&&(m.head.hcrc=m.flags>>9&1,m.head.done=!0),S.adler=m.check=0,m.mode=12;break;case 10:for(;A<32;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}S.adler=m.check=c(R),A=R=0,m.mode=11;case 11:if(m.havedict===0)return S.next_out=V,S.avail_out=q,S.next_in=U,S.avail_in=O,m.hold=R,m.bits=A,2;S.adler=m.check=1,m.mode=12;case 12:if($===5||$===6)break e;case 13:if(m.last){R>>>=7&A,A-=7&A,m.mode=27;break}for(;A<3;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}switch(m.last=1&R,A-=1,3&(R>>>=1)){case 0:m.mode=14;break;case 1:if(I(m),m.mode=20,$!==6)break;R>>>=2,A-=2;break e;case 2:m.mode=17;break;case 3:S.msg="invalid block type",m.mode=30}R>>>=2,A-=2;break;case 14:for(R>>>=7&A,A-=7&A;A<32;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}if((65535&R)!=(R>>>16^65535)){S.msg="invalid stored block lengths",m.mode=30;break}if(m.length=65535&R,A=R=0,m.mode=15,$===6)break e;case 15:m.mode=16;case 16:if(ne=m.length){if(O<ne&&(ne=O),q<ne&&(ne=q),ne===0)break e;a.arraySet(oe,G,U,ne,V),O-=ne,U+=ne,q-=ne,V+=ne,m.length-=ne;break}m.mode=12;break;case 17:for(;A<14;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}if(m.nlen=257+(31&R),R>>>=5,A-=5,m.ndist=1+(31&R),R>>>=5,A-=5,m.ncode=4+(15&R),R>>>=4,A-=4,286<m.nlen||30<m.ndist){S.msg="too many length or distance symbols",m.mode=30;break}m.have=0,m.mode=18;case 18:for(;m.have<m.ncode;){for(;A<3;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}m.lens[X[m.have++]]=7&R,R>>>=3,A-=3}for(;m.have<19;)m.lens[X[m.have++]]=0;if(m.lencode=m.lendyn,m.lenbits=7,H={bits:m.lenbits},Z=g(0,m.lens,0,19,m.lencode,0,m.work,H),m.lenbits=H.bits,Z){S.msg="invalid code lengths set",m.mode=30;break}m.have=0,m.mode=19;case 19:for(;m.have<m.nlen+m.ndist;){for(;Ae=(N=m.lencode[R&(1<<m.lenbits)-1])>>>16&255,me=65535&N,!((je=N>>>24)<=A);){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}if(me<16)R>>>=je,A-=je,m.lens[m.have++]=me;else{if(me===16){for(C=je+2;A<C;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}if(R>>>=je,A-=je,m.have===0){S.msg="invalid bit length repeat",m.mode=30;break}d=m.lens[m.have-1],ne=3+(3&R),R>>>=2,A-=2}else if(me===17){for(C=je+3;A<C;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}A-=je,d=0,ne=3+(7&(R>>>=je)),R>>>=3,A-=3}else{for(C=je+7;A<C;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}A-=je,d=0,ne=11+(127&(R>>>=je)),R>>>=7,A-=7}if(m.have+ne>m.nlen+m.ndist){S.msg="invalid bit length repeat",m.mode=30;break}for(;ne--;)m.lens[m.have++]=d}}if(m.mode===30)break;if(m.lens[256]===0){S.msg="invalid code -- missing end-of-block",m.mode=30;break}if(m.lenbits=9,H={bits:m.lenbits},Z=g(w,m.lens,0,m.nlen,m.lencode,0,m.work,H),m.lenbits=H.bits,Z){S.msg="invalid literal/lengths set",m.mode=30;break}if(m.distbits=6,m.distcode=m.distdyn,H={bits:m.distbits},Z=g(k,m.lens,m.nlen,m.ndist,m.distcode,0,m.work,H),m.distbits=H.bits,Z){S.msg="invalid distances set",m.mode=30;break}if(m.mode=20,$===6)break e;case 20:m.mode=21;case 21:if(6<=O&&258<=q){S.next_out=V,S.avail_out=q,S.next_in=U,S.avail_in=O,m.hold=R,m.bits=A,l(S,ee),V=S.next_out,oe=S.output,q=S.avail_out,U=S.next_in,G=S.input,O=S.avail_in,R=m.hold,A=m.bits,m.mode===12&&(m.back=-1);break}for(m.back=0;Ae=(N=m.lencode[R&(1<<m.lenbits)-1])>>>16&255,me=65535&N,!((je=N>>>24)<=A);){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}if(Ae&&!(240&Ae)){for(Me=je,Be=Ae,He=me;Ae=(N=m.lencode[He+((R&(1<<Me+Be)-1)>>Me)])>>>16&255,me=65535&N,!(Me+(je=N>>>24)<=A);){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}R>>>=Me,A-=Me,m.back+=Me}if(R>>>=je,A-=je,m.back+=je,m.length=me,Ae===0){m.mode=26;break}if(32&Ae){m.back=-1,m.mode=12;break}if(64&Ae){S.msg="invalid literal/length code",m.mode=30;break}m.extra=15&Ae,m.mode=22;case 22:if(m.extra){for(C=m.extra;A<C;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}m.length+=R&(1<<m.extra)-1,R>>>=m.extra,A-=m.extra,m.back+=m.extra}m.was=m.length,m.mode=23;case 23:for(;Ae=(N=m.distcode[R&(1<<m.distbits)-1])>>>16&255,me=65535&N,!((je=N>>>24)<=A);){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}if(!(240&Ae)){for(Me=je,Be=Ae,He=me;Ae=(N=m.distcode[He+((R&(1<<Me+Be)-1)>>Me)])>>>16&255,me=65535&N,!(Me+(je=N>>>24)<=A);){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}R>>>=Me,A-=Me,m.back+=Me}if(R>>>=je,A-=je,m.back+=je,64&Ae){S.msg="invalid distance code",m.mode=30;break}m.offset=me,m.extra=15&Ae,m.mode=24;case 24:if(m.extra){for(C=m.extra;A<C;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}m.offset+=R&(1<<m.extra)-1,R>>>=m.extra,A-=m.extra,m.back+=m.extra}if(m.offset>m.dmax){S.msg="invalid distance too far back",m.mode=30;break}m.mode=25;case 25:if(q===0)break e;if(ne=ee-q,m.offset>ne){if((ne=m.offset-ne)>m.whave&&m.sane){S.msg="invalid distance too far back",m.mode=30;break}Ce=ne>m.wnext?(ne-=m.wnext,m.wsize-ne):m.wnext-ne,ne>m.length&&(ne=m.length),De=m.window}else De=oe,Ce=V-m.offset,ne=m.length;for(q<ne&&(ne=q),q-=ne,m.length-=ne;oe[V++]=De[Ce++],--ne;);m.length===0&&(m.mode=21);break;case 26:if(q===0)break e;oe[V++]=m.length,q--,m.mode=21;break;case 27:if(m.wrap){for(;A<32;){if(O===0)break e;O--,R|=G[U++]<<A,A+=8}if(ee-=q,S.total_out+=ee,m.total+=ee,ee&&(S.adler=m.check=m.flags?o(m.check,oe,ee,V-ee):s(m.check,oe,ee,V-ee)),ee=q,(m.flags?R:c(R))!==m.check){S.msg="incorrect data check",m.mode=30;break}A=R=0}m.mode=28;case 28:if(m.wrap&&m.flags){for(;A<32;){if(O===0)break e;O--,R+=G[U++]<<A,A+=8}if(R!==(4294967295&m.total)){S.msg="incorrect length check",m.mode=30;break}A=R=0}m.mode=29;case 29:Z=1;break e;case 30:Z=-3;break e;case 31:return-4;case 32:default:return h}return S.next_out=V,S.avail_out=q,S.next_in=U,S.avail_in=O,m.hold=R,m.bits=A,(m.wsize||ee!==S.avail_out&&m.mode<30&&(m.mode<27||$!==4))&&F(S,S.output,S.next_out,ee-S.avail_out)?(m.mode=31,-4):(he-=S.avail_in,ee-=S.avail_out,S.total_in+=he,S.total_out+=ee,m.total+=ee,m.wrap&&ee&&(S.adler=m.check=m.flags?o(m.check,oe,ee,S.next_out-ee):s(m.check,oe,ee,S.next_out-ee)),S.data_type=m.bits+(m.last?64:0)+(m.mode===12?128:0)+(m.mode===20||m.mode===15?256:0),(he==0&&ee===0||$===4)&&Z===v&&(Z=-5),Z)},i.inflateEnd=function(S){if(!S||!S.state)return h;var $=S.state;return $.window&&($.window=null),S.state=null,v},i.inflateGetHeader=function(S,$){var m;return S&&S.state&&2&(m=S.state).wrap?((m.head=$).done=!1,v):h},i.inflateSetDictionary=function(S,$){var m,G=$.length;return S&&S.state?(m=S.state).wrap!==0&&m.mode!==11?h:m.mode===11&&s(1,$,G,0)!==m.check?-3:F(S,$,G,G)?(m.mode=31,-4):(m.havedict=1,v):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(w,k,v,h,y,p,_,c){var f,x,b,j,E,P,M,T,I,F=c.bits,S=0,$=0,m=0,G=0,oe=0,U=0,V=0,O=0,q=0,R=0,A=null,he=0,ee=new a.Buf16(16),ne=new a.Buf16(16),Ce=null,De=0;for(S=0;S<=15;S++)ee[S]=0;for($=0;$<h;$++)ee[k[v+$]]++;for(oe=F,G=15;1<=G&&ee[G]===0;G--);if(G<oe&&(oe=G),G===0)return y[p++]=20971520,y[p++]=20971520,c.bits=1,0;for(m=1;m<G&&ee[m]===0;m++);for(oe<m&&(oe=m),S=O=1;S<=15;S++)if(O<<=1,(O-=ee[S])<0)return-1;if(0<O&&(w===0||G!==1))return-1;for(ne[1]=0,S=1;S<15;S++)ne[S+1]=ne[S]+ee[S];for($=0;$<h;$++)k[v+$]!==0&&(_[ne[k[v+$]]++]=$);if(P=w===0?(A=Ce=_,19):w===1?(A=s,he-=257,Ce=o,De-=257,256):(A=l,Ce=g,-1),S=m,E=p,V=$=R=0,b=-1,j=(q=1<<(U=oe))-1,w===1&&852<q||w===2&&592<q)return 1;for(;;){for(M=S-V,I=_[$]<P?(T=0,_[$]):_[$]>P?(T=Ce[De+_[$]],A[he+_[$]]):(T=96,0),f=1<<S-V,m=x=1<<U;y[E+(R>>V)+(x-=f)]=M<<24|T<<16|I|0,x!==0;);for(f=1<<S-1;R&f;)f>>=1;if(f!==0?(R&=f-1,R+=f):R=0,$++,--ee[S]==0){if(S===G)break;S=k[v+_[$]]}if(oe<S&&(R&j)!==b){for(V===0&&(V=oe),E+=m,O=1<<(U=S-V);U+V<G&&!((O-=ee[U+V])<=0);)U++,O<<=1;if(q+=1<<U,w===1&&852<q||w===2&&592<q)return 1;y[b=R&j]=oe<<24|U<<16|E-p|0}}return R!==0&&(y[E+R]=S-V<<24|64<<16|0),c.bits=oe,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),s=0,o=1;function l(N){for(var L=N.length;0<=--L;)N[L]=0}var g=0,w=29,k=256,v=k+1+w,h=30,y=19,p=2*v+1,_=15,c=16,f=7,x=256,b=16,j=17,E=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(2*(v+2));l(F);var S=new Array(2*h);l(S);var $=new Array(512);l($);var m=new Array(256);l(m);var G=new Array(w);l(G);var oe,U,V,O=new Array(h);function q(N,L,X,J,B){this.static_tree=N,this.extra_bits=L,this.extra_base=X,this.elems=J,this.max_length=B,this.has_stree=N&&N.length}function R(N,L){this.dyn_tree=N,this.max_code=0,this.stat_desc=L}function A(N){return N<256?$[N]:$[256+(N>>>7)]}function he(N,L){N.pending_buf[N.pending++]=255&L,N.pending_buf[N.pending++]=L>>>8&255}function ee(N,L,X){N.bi_valid>c-X?(N.bi_buf|=L<<N.bi_valid&65535,he(N,N.bi_buf),N.bi_buf=L>>c-N.bi_valid,N.bi_valid+=X-c):(N.bi_buf|=L<<N.bi_valid&65535,N.bi_valid+=X)}function ne(N,L,X){ee(N,X[2*L],X[2*L+1])}function Ce(N,L){for(var X=0;X|=1&N,N>>>=1,X<<=1,0<--L;);return X>>>1}function De(N,L,X){var J,B,re=new Array(_+1),de=0;for(J=1;J<=_;J++)re[J]=de=de+X[J-1]<<1;for(B=0;B<=L;B++){var ae=N[2*B+1];ae!==0&&(N[2*B]=Ce(re[ae]++,ae))}}function je(N){var L;for(L=0;L<v;L++)N.dyn_ltree[2*L]=0;for(L=0;L<h;L++)N.dyn_dtree[2*L]=0;for(L=0;L<y;L++)N.bl_tree[2*L]=0;N.dyn_ltree[2*x]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function Ae(N){8<N.bi_valid?he(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function me(N,L,X,J){var B=2*L,re=2*X;return N[B]<N[re]||N[B]===N[re]&&J[L]<=J[X]}function Me(N,L,X){for(var J=N.heap[X],B=X<<1;B<=N.heap_len&&(B<N.heap_len&&me(L,N.heap[B+1],N.heap[B],N.depth)&&B++,!me(L,J,N.heap[B],N.depth));)N.heap[X]=N.heap[B],X=B,B<<=1;N.heap[X]=J}function Be(N,L,X){var J,B,re,de,ae=0;if(N.last_lit!==0)for(;J=N.pending_buf[N.d_buf+2*ae]<<8|N.pending_buf[N.d_buf+2*ae+1],B=N.pending_buf[N.l_buf+ae],ae++,J===0?ne(N,B,L):(ne(N,(re=m[B])+k+1,L),(de=P[re])!==0&&ee(N,B-=G[re],de),ne(N,re=A(--J),X),(de=M[re])!==0&&ee(N,J-=O[re],de)),ae<N.last_lit;);ne(N,x,L)}function He(N,L){var X,J,B,re=L.dyn_tree,de=L.stat_desc.static_tree,ae=L.stat_desc.has_stree,ye=L.stat_desc.elems,Re=-1;for(N.heap_len=0,N.heap_max=p,X=0;X<ye;X++)re[2*X]!==0?(N.heap[++N.heap_len]=Re=X,N.depth[X]=0):re[2*X+1]=0;for(;N.heap_len<2;)re[2*(B=N.heap[++N.heap_len]=Re<2?++Re:0)]=1,N.depth[B]=0,N.opt_len--,ae&&(N.static_len-=de[2*B+1]);for(L.max_code=Re,X=N.heap_len>>1;1<=X;X--)Me(N,re,X);for(B=ye;X=N.heap[1],N.heap[1]=N.heap[N.heap_len--],Me(N,re,1),J=N.heap[1],N.heap[--N.heap_max]=X,N.heap[--N.heap_max]=J,re[2*B]=re[2*X]+re[2*J],N.depth[B]=(N.depth[X]>=N.depth[J]?N.depth[X]:N.depth[J])+1,re[2*X+1]=re[2*J+1]=B,N.heap[1]=B++,Me(N,re,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],function(Se,We){var lt,le,Je,Fe,tn,ht,qe=We.dyn_tree,dn=We.max_code,Ht=We.stat_desc.static_tree,Tn=We.stat_desc.has_stree,xe=We.stat_desc.extra_bits,fn=We.stat_desc.extra_base,be=We.stat_desc.max_length,$e=0;for(Fe=0;Fe<=_;Fe++)Se.bl_count[Fe]=0;for(qe[2*Se.heap[Se.heap_max]+1]=0,lt=Se.heap_max+1;lt<p;lt++)be<(Fe=qe[2*qe[2*(le=Se.heap[lt])+1]+1]+1)&&(Fe=be,$e++),qe[2*le+1]=Fe,dn<le||(Se.bl_count[Fe]++,tn=0,fn<=le&&(tn=xe[le-fn]),ht=qe[2*le],Se.opt_len+=ht*(Fe+tn),Tn&&(Se.static_len+=ht*(Ht[2*le+1]+tn)));if($e!==0){do{for(Fe=be-1;Se.bl_count[Fe]===0;)Fe--;Se.bl_count[Fe]--,Se.bl_count[Fe+1]+=2,Se.bl_count[be]--,$e-=2}while(0<$e);for(Fe=be;Fe!==0;Fe--)for(le=Se.bl_count[Fe];le!==0;)dn<(Je=Se.heap[--lt])||(qe[2*Je+1]!==Fe&&(Se.opt_len+=(Fe-qe[2*Je+1])*qe[2*Je],qe[2*Je+1]=Fe),le--)}}(N,L),De(re,Re,N.bl_count)}function d(N,L,X){var J,B,re=-1,de=L[1],ae=0,ye=7,Re=4;for(de===0&&(ye=138,Re=3),L[2*(X+1)+1]=65535,J=0;J<=X;J++)B=de,de=L[2*(J+1)+1],++ae<ye&&B===de||(ae<Re?N.bl_tree[2*B]+=ae:B!==0?(B!==re&&N.bl_tree[2*B]++,N.bl_tree[2*b]++):ae<=10?N.bl_tree[2*j]++:N.bl_tree[2*E]++,re=B,Re=(ae=0)===de?(ye=138,3):B===de?(ye=6,3):(ye=7,4))}function Z(N,L,X){var J,B,re=-1,de=L[1],ae=0,ye=7,Re=4;for(de===0&&(ye=138,Re=3),J=0;J<=X;J++)if(B=de,de=L[2*(J+1)+1],!(++ae<ye&&B===de)){if(ae<Re)for(;ne(N,B,N.bl_tree),--ae!=0;);else B!==0?(B!==re&&(ne(N,B,N.bl_tree),ae--),ne(N,b,N.bl_tree),ee(N,ae-3,2)):ae<=10?(ne(N,j,N.bl_tree),ee(N,ae-3,3)):(ne(N,E,N.bl_tree),ee(N,ae-11,7));re=B,Re=(ae=0)===de?(ye=138,3):B===de?(ye=6,3):(ye=7,4)}}l(O);var H=!1;function C(N,L,X,J){ee(N,(g<<1)+(J?1:0),3),function(B,re,de,ae){Ae(B),he(B,de),he(B,~de),a.arraySet(B.pending_buf,B.window,re,de,B.pending),B.pending+=de}(N,L,X)}i._tr_init=function(N){H||(function(){var L,X,J,B,re,de=new Array(_+1);for(B=J=0;B<w-1;B++)for(G[B]=J,L=0;L<1<<P[B];L++)m[J++]=B;for(m[J-1]=B,B=re=0;B<16;B++)for(O[B]=re,L=0;L<1<<M[B];L++)$[re++]=B;for(re>>=7;B<h;B++)for(O[B]=re<<7,L=0;L<1<<M[B]-7;L++)$[256+re++]=B;for(X=0;X<=_;X++)de[X]=0;for(L=0;L<=143;)F[2*L+1]=8,L++,de[8]++;for(;L<=255;)F[2*L+1]=9,L++,de[9]++;for(;L<=279;)F[2*L+1]=7,L++,de[7]++;for(;L<=287;)F[2*L+1]=8,L++,de[8]++;for(De(F,v+1,de),L=0;L<h;L++)S[2*L+1]=5,S[2*L]=Ce(L,5);oe=new q(F,P,k+1,v,_),U=new q(S,M,0,h,_),V=new q(new Array(0),T,0,y,f)}(),H=!0),N.l_desc=new R(N.dyn_ltree,oe),N.d_desc=new R(N.dyn_dtree,U),N.bl_desc=new R(N.bl_tree,V),N.bi_buf=0,N.bi_valid=0,je(N)},i._tr_stored_block=C,i._tr_flush_block=function(N,L,X,J){var B,re,de=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=function(ae){var ye,Re=4093624447;for(ye=0;ye<=31;ye++,Re>>>=1)if(1&Re&&ae.dyn_ltree[2*ye]!==0)return s;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return o;for(ye=32;ye<k;ye++)if(ae.dyn_ltree[2*ye]!==0)return o;return s}(N)),He(N,N.l_desc),He(N,N.d_desc),de=function(ae){var ye;for(d(ae,ae.dyn_ltree,ae.l_desc.max_code),d(ae,ae.dyn_dtree,ae.d_desc.max_code),He(ae,ae.bl_desc),ye=y-1;3<=ye&&ae.bl_tree[2*I[ye]+1]===0;ye--);return ae.opt_len+=3*(ye+1)+5+5+4,ye}(N),B=N.opt_len+3+7>>>3,(re=N.static_len+3+7>>>3)<=B&&(B=re)):B=re=X+5,X+4<=B&&L!==-1?C(N,L,X,J):N.strategy===4||re===B?(ee(N,2+(J?1:0),3),Be(N,F,S)):(ee(N,4+(J?1:0),3),function(ae,ye,Re,Se){var We;for(ee(ae,ye-257,5),ee(ae,Re-1,5),ee(ae,Se-4,4),We=0;We<Se;We++)ee(ae,ae.bl_tree[2*I[We]+1],3);Z(ae,ae.dyn_ltree,ye-1),Z(ae,ae.dyn_dtree,Re-1)}(N,N.l_desc.max_code+1,N.d_desc.max_code+1,de+1),Be(N,N.dyn_ltree,N.dyn_dtree)),je(N),J&&Ae(N)},i._tr_tally=function(N,L,X){return N.pending_buf[N.d_buf+2*N.last_lit]=L>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&L,N.pending_buf[N.l_buf+N.last_lit]=255&X,N.last_lit++,L===0?N.dyn_ltree[2*X]++:(N.matches++,L--,N.dyn_ltree[2*(m[X]+k+1)]++,N.dyn_dtree[2*A(L)]++),N.last_lit===N.lit_bufsize-1},i._tr_align=function(N){ee(N,2,3),ne(N,x,F),function(L){L.bi_valid===16?(he(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):8<=L.bi_valid&&(L.pending_buf[L.pending++]=255&L.bi_buf,L.bi_buf>>=8,L.bi_valid-=8)}(N)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(s,o){if(!s.setImmediate){var l,g,w,k,v=1,h={},y=!1,p=s.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(s);_=_&&_.setTimeout?_:s,l={}.toString.call(s.process)==="[object process]"?function(b){process.nextTick(function(){f(b)})}:function(){if(s.postMessage&&!s.importScripts){var b=!0,j=s.onmessage;return s.onmessage=function(){b=!1},s.postMessage("","*"),s.onmessage=j,b}}()?(k="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",x,!1):s.attachEvent("onmessage",x),function(b){s.postMessage(k+b,"*")}):s.MessageChannel?((w=new MessageChannel).port1.onmessage=function(b){f(b.data)},function(b){w.port2.postMessage(b)}):p&&"onreadystatechange"in p.createElement("script")?(g=p.documentElement,function(b){var j=p.createElement("script");j.onreadystatechange=function(){f(b),j.onreadystatechange=null,g.removeChild(j),j=null},g.appendChild(j)}):function(b){setTimeout(f,0,b)},_.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var j=new Array(arguments.length-1),E=0;E<j.length;E++)j[E]=arguments[E+1];var P={callback:b,args:j};return h[v]=P,l(v),v++},_.clearImmediate=c}function c(b){delete h[b]}function f(b){if(y)setTimeout(f,0,b);else{var j=h[b];if(j){y=!0;try{(function(E){var P=E.callback,M=E.args;switch(M.length){case 0:P();break;case 1:P(M[0]);break;case 2:P(M[0],M[1]);break;case 3:P(M[0],M[1],M[2]);break;default:P.apply(o,M)}})(j)}finally{c(b),y=!1}}}}function x(b){b.source===s&&typeof b.data=="string"&&b.data.indexOf(k)===0&&f(+b.data.slice(k.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof sa<"u"?sa:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Xf);var am=Xf.exports;const sm=zc(am),Qf=()=>u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:"flex-shrink-0",children:[u.jsx("rect",{x:"1",y:"5",width:"2",height:"4",fill:"currentColor",className:"animate-sound-wave",style:{animationDelay:"0ms"}}),u.jsx("rect",{x:"4",y:"3",width:"2",height:"8",fill:"currentColor",className:"animate-sound-wave",style:{animationDelay:"150ms"}}),u.jsx("rect",{x:"7",y:"2",width:"2",height:"10",fill:"currentColor",className:"animate-sound-wave",style:{animationDelay:"300ms"}}),u.jsx("rect",{x:"10",y:"4",width:"2",height:"6",fill:"currentColor",className:"animate-sound-wave",style:{animationDelay:"450ms"}})]}),Sr="flex items-center justify-center p-1.5 rounded-lg transition-colors bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",om=({stations:e,lines:t,announcements:n,setAnnouncements:r,audioAssignments:i,setAudioAssignments:a,announcementTypes:s,setAnnouncementTypes:o,betweenSegments:l,setBetweenSegments:g,uploadedAudios:w,setUploadedAudios:k,generatedAudioHistory:v,setGeneratedAudioHistory:h,apiKey:y,language:p="en",isMobile:_,onClose:c,onStationSelect:f,selectedStationId:x,showStationNumbers:b=!1,onPlayingStationChange:j,showTranscription:E=!1,setShowTranscription:P,setCurrentTranscription:M,selectedLineId:T,setSelectedLineId:I})=>{var ra;const{t:F}=ti(p),[S,$]=W.useState(null),[m,G]=W.useState(!1),[oe,U]=W.useState(!1),[V,O]=W.useState({}),[q,R]=W.useState(null),[A,he]=W.useState("text-to-speech"),[ee,ne]=W.useState(""),[Ce,De]=W.useState("21m00Tcm4TlvDq8ikWAM"),je=W.useMemo(()=>[{id:"21m00Tcm4TlvDq8ikWAM",name:"Rachel",preview:"/src/assets/audio/presets/Rachel preview.mp3"},{id:"sRYzP8TwEiiqAWebdYPJ",name:"Hatakekohei",preview:"/src/assets/audio/presets/Hatakekohei preview.mp3"},{id:"EkK5I93UQWFDigLMpZcX",name:"James"},{id:"RILOU7YmBhvwJGDGjNmP",name:"Jane"},{id:"cgSgspJ2msm6clMCkdW9",name:"Jessica"},{id:"FGY2WhTYpPnrIDTdsKH5",name:"Laura"},{id:"x70vRnQBMBu4FAYhjJbO",name:"Nathan"}],[]),[Ae,me]=W.useState(null),[Me,Be]=W.useState(!1),He=W.useRef(null),d=W.useRef(null),[Z,H]=W.useState(!1),[C,N]=W.useState(1),[L,X]=W.useState(1),[J,B]=W.useState(!1),[re,de]=W.useState(!1),[ae,ye]=W.useState(!1),[Re,Se]=W.useState(null),[We,lt]=W.useState({}),[le,Je]=W.useState({}),[Fe,tn]=W.useState(0),[ht,qe]=W.useState(0),[dn,Ht]=W.useState(!1),Tn=W.useRef({}),xe=W.useRef(null),fn=W.useRef({}),be=W.useRef(null),$e=W.useRef(null),ue=W.useRef(!1);W.useEffect(()=>{ue.current=m},[m]),W.useEffect(()=>{if(j&&S){const z=S.match(/^station-(.+)$/);z?j(z[1],!oe):j(null,!1)}else j&&j(null,!1)},[S,oe,j]),W.useEffect(()=>{if(S&&!oe){const z=S.match(/^station-(.+)$/);z&&f?f(z[1]):S.startsWith("between")&&f&&f(null)}},[S,oe,f]),W.useEffect(()=>{if(M)if(S&&!oe){const z=i[S];M((z==null?void 0:z.transcription)||"")}else M("")},[S,oe,i,M]),W.useEffect(()=>{xe.current&&(xe.current.pause(),xe.current=null),$(null),U(!1),G(!1),be.current&&(clearInterval(be.current),be.current=null),$e.current&&(clearInterval($e.current),$e.current=null)},[e,t]),W.useEffect(()=>{t.length>0&&(!T||!t.find(z=>z.id===T))&&I(t[0].id)},[t,T]),W.useEffect(()=>{const z=K=>{Object.keys(V).every(fe=>{const ge=fn.current[fe];return!ge||!ge.contains(K.target)})&&O({}),Me&&d.current&&!d.current.contains(K.target)&&Be(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[V,Me]);const ke=W.useMemo(()=>t.find(z=>z.id===T),[t,T]),_e=W.useMemo(()=>ke?ke.stations.map(z=>e.find(K=>K.id===z)).filter(Boolean).filter((z,K,Y)=>K===Y.length-1&&Y.length>1?z.id!==Y[0].id:!0):[],[ke,e]),wt=(ke==null?void 0:ke.color)||"#ef4444",Yt=W.useMemo(()=>im(),[]),An=W.useCallback(z=>t.filter(K=>K.stations.includes(z)),[t]),_t=(z,K)=>{if(K)try{const Y=new Audio(K);Y.preload="metadata",Y.addEventListener("loadedmetadata",()=>{const fe=Math.ceil(Y.duration);fe&&!isNaN(fe)&&lt(ge=>({...ge,[z]:fe}))}),Y.addEventListener("error",fe=>{console.warn(`Could not load audio metadata for ${z}:`,K),lt(ge=>({...ge,[z]:30}))}),Y.load()}catch(Y){console.warn(`Error creating audio for ${z}:`,Y),lt(fe=>({...fe,[z]:30}))}},Gt=z=>{if(z<60)return`${z}s`;const K=Math.floor(z/60),Y=z%60;return Y>0?`${K}m ${Y}s`:`${K}m`},rt=W.useCallback(()=>{const z=[];return _e.forEach((K,Y)=>{var ge,Te;const fe=`station-${K.id}`;if((ge=i[fe])!=null&&ge.url&&z.push(fe),Y<_e.length-1){const we=`between-${K.id}-${_e[Y+1].id}`;(Te=i[we])!=null&&Te.url&&z.push(we);const ze=l[we];Array.isArray(ze)&&ze.forEach(Ie=>{var et;(et=i[Ie])!=null&&et.url&&z.push(Ie)})}}),z},[_e,i,l]),ut=()=>{let z=0;return rt().forEach(Y=>{We[Y]&&(z+=We[Y])}),z},Dt=()=>{let z=0;const K=rt();for(let Y=0;Y<ht&&Y<K.length;Y++){const fe=K[Y];We[fe]&&(z+=We[fe])}return K[ht]&&xe.current&&!xe.current.paused&&(z+=Math.ceil(xe.current.currentTime)),z},nn=()=>ut()-Dt();W.useEffect(()=>{if(_e.length>0&&T){const z={},K=new Set;_e.forEach((fe,ge)=>{K.add(`station-${fe.id}`),ge<_e.length-1&&K.add(`between-${fe.id}-${_e[ge+1].id}`)});const Y={};Object.keys(i).forEach(fe=>{K.has(fe)&&(Y[fe]=i[fe])}),_e.forEach((fe,ge)=>{const Te=ge*2,we=`station-${fe.id}`;if(Y[we])z[we]=Y[we],Y[we].url&&_t(we,Y[we].url);else{const ze=Yt[Te%Yt.length];z[we]={type:"preset",url:ze.path,name:ze.name},_t(we,ze.path)}if(ge<_e.length-1){const ze=`between-${fe.id}-${_e[ge+1].id}`;if(Y[ze])z[ze]=Y[ze],Y[ze].url&&_t(ze,Y[ze].url);else{const Ie=Yt[(Te+1)%Yt.length];z[ze]={type:"preset",url:Ie.path,name:Ie.name},_t(ze,Ie.path)}}}),a(z)}},[T,_e.length]);const ni=W.useCallback((z,K="station",Y=null)=>{switch(s[z]||K){case"station":return u.jsx(ds,{size:14,style:Y?{color:Y}:{},className:Y?"":"text-blue-500"});case"centralStation":return u.jsx(uc,{size:14,style:Y?{color:Y}:{},className:Y?"":"text-purple-500"});case"arrival":return u.jsx(oc,{size:14,className:"text-green-500"});case"departure":return u.jsx(wc,{size:14,className:"text-orange-500"});case"transfer":return u.jsx(ki,{size:14,className:"text-purple-500"});case"information":return u.jsx(qo,{size:14,className:"text-cyan-500"});case"live":return u.jsx(hc,{size:14,className:"text-pink-500"});case"warning":return u.jsx(sc,{size:14,className:"text-red-500"});case"chime":return u.jsx(lc,{size:14,className:"text-yellow-500"});case"music":return u.jsx(gc,{size:14,className:"text-pink-500"});case"ambience":return u.jsx(vc,{size:14,className:"text-indigo-500"});case"general":default:return u.jsx(ki,{size:14,className:"text-gray-400"})}},[s]),Ji=W.useCallback((z,K="general")=>{switch(s[z]||K){case"station":return F("station");case"centralStation":return F("centralStation");case"arrival":return F("arrival");case"departure":return F("departure");case"transfer":return F("transfer");case"information":return F("information");case"live":return F("live");case"warning":return F("warning");case"chime":return F("chime");case"music":return F("music");case"ambience":return F("ambience");case"general":default:return F("general")}},[s,F]),yr=z=>{const Y=An(z).map(Te=>Te.color);if(Y.length===0)return u.jsx("div",{className:"relative z-10 w-4 h-4 rounded-full bg-gray-400 dark:bg-gray-500 border-[3px] border-gray-200 dark:border-gray-700"});if(Y.length===1)return u.jsx("div",{className:"relative z-10 w-4 h-4 rounded-full border-[3px]",style:{backgroundColor:Y[0],borderColor:Y[0]}});const fe=360/Y.length,ge=Y.map((Te,we)=>{const ze=we*fe,Ie=(we+1)*fe;return`${Te} ${ze}deg ${Ie}deg`}).join(", ");return u.jsx("div",{className:"relative z-10 w-4 h-4 rounded-full",style:{background:`conic-gradient(${ge})`,padding:"3px"},children:u.jsx("div",{className:"w-full h-full rounded-full",style:{backgroundColor:Y[0]}})})},qi=z=>{f&&f(z)},St=(z,K)=>{o(Y=>({...Y,[z]:K}))},ri=z=>{const K=`${z}-segment-${Date.now()}`;g(Y=>({...Y,[z]:[...Y[z]||[],K]}))},ea=(z,K)=>{g(Y=>({...Y,[z]:(Y[z]||[]).filter(fe=>fe!==K)})),a(Y=>{const fe={...Y};return delete fe[K],fe})},ta=z=>{a(K=>{var fe,ge;const Y={...K};return(fe=Y[z])!=null&&fe.url&&((ge=Y[z])==null?void 0:ge.type)==="upload"&&URL.revokeObjectURL(Y[z].url),delete Y[z],Y})},D=(z,K)=>{const Y=K.target.files[0];if(Y&&Y.type.startsWith("audio/")){const fe=URL.createObjectURL(Y),ge={id:`upload-${Date.now()}`,name:Y.name,url:fe};k(Te=>[...Te,ge]),a(Te=>({...Te,[z]:{type:"upload",url:fe,name:Y.name}})),_t(z,fe),O({})}},Q=W.useCallback((z,K)=>{if(!z)return"";if(z.type==="preset")return z.name;if(z.type==="upload")return`${F("audioTypeUpload")}: ${z.name}`;if(z.type==="generated"){if(!K)return`${z.voiceName||F("audioTypeGenerated")} #1`;const fe=K.split("-").find(Te=>!isNaN(parseInt(Te))),ge=fe?parseInt(fe)+1:1;return`${z.voiceName||F("audioTypeGenerated")} #${ge}`}return z.name},[F]),te=W.useCallback((z,K)=>{const Y=s[z];if(["chime","music","ambience"].includes(Y))return"";switch(Y){case"arrival":return F("presetArrival").replaceAll("{station}",K);case"departure":return F("presetDeparture").replaceAll("{station}",K);case"transfer":return F("presetTransfer").replaceAll("{station}",K);case"information":return F("presetInformation").replaceAll("{station}",K);case"live":return F("presetLive").replaceAll("{station}",K);case"warning":return F("presetWarning").replaceAll("{station}",K);case"centralStation":return F("presetCentralStation").replaceAll("{station}",K);case"station":default:return`${K}`}},[s,F]),ce=W.useCallback(async(z,K)=>{var Y;if(!(!y||!ee.trim()||A!=="text-to-speech")){H(!0);try{const fe=await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${Ce}`,{method:"POST",headers:{"Content-Type":"application/json","xi-api-key":y},body:JSON.stringify({text:ee,model_id:"eleven_multilingual_v2",output_format:"mp3_44100_128"})});if(fe.ok){const ge=await fe.blob(),Te=URL.createObjectURL(ge),we={url:Te,name:`AI: ${ee.substring(0,30)}${ee.length>30?"...":""}`,type:"generated",text:ee,voice:Ce,voiceName:((Y=je.find(ze=>ze.id===Ce))==null?void 0:Y.name)||"Unknown",timestamp:Date.now()};h(ze=>({...ze,[z]:[...ze[z]||[],we]})),a(ze=>({...ze,[z]:we})),_t(z,Te)}else{console.error("Failed to generate audio:",fe.status);const ge=await fe.text();console.error("Error details:",ge),alert("Failed to generate audio. Please check your API key and try again.")}}catch(fe){console.error("Error generating audio:",fe),alert("Error generating audio. Please try again.")}finally{H(!1)}}},[y,ee,Ce,A,_t]),ve=(z,K)=>{const Y=K.path||K.url;a(fe=>({...fe,[z]:{type:"preset",url:Y,name:K.name}})),_t(z,Y),O({})},Ee=z=>{O(K=>({...K,[z]:!K[z]})),R(null)},Pe=(z,K="")=>{R(z),O({});const Y=te(z,K);ne(Y)},Et=z=>{const K=i[z];if(K!=null&&K.url)if(S===z&&!oe)xe.current&&xe.current.pause(),be.current&&(clearInterval(be.current),be.current=null),$e.current&&(clearInterval($e.current),$e.current=null),U(!0),G(!1);else if(S===z&&oe)xe.current&&(xe.current.play(),U(!1),be.current=setInterval(()=>{if(xe.current&&!xe.current.paused){const Y=Math.ceil(xe.current.duration-xe.current.currentTime);Je(fe=>({...fe,[z]:Y}))}},100));else{m&&(G(!1),$e.current&&(clearInterval($e.current),$e.current=null)),xe.current&&xe.current.pause(),be.current&&clearInterval(be.current),S&&Je(Te=>{const we={...Te};return delete we[S],we}),$(z),U(!1);const Y=new Audio(K.url);xe.current=Y,Y.playbackRate=C,Y.volume=J?0:L;const ge=rt().indexOf(z);ge!==-1&&qe(ge),be.current=setInterval(()=>{if(Y&&!Y.paused){const Te=Math.ceil(Y.duration-Y.currentTime);Je(we=>({...we,[z]:Te}))}},100),Y.onended=()=>{$(null),U(!1),xe.current=null,be.current&&(clearInterval(be.current),be.current=null),Je(Te=>{const we={...Te};return delete we[z],we})},Y.onerror=Te=>{console.error("Audio playback error:",Te),$(null),U(!1),xe.current=null,be.current&&(clearInterval(be.current),be.current=null)},Y.play().catch(Te=>{console.error("Failed to play audio:",Te),$(null),U(!1),xe.current=null,be.current&&(clearInterval(be.current),be.current=null)})}},ct=z=>{N(z),xe.current&&(xe.current.playbackRate=z)},at=()=>{if(m)G(!1),U(!0),xe.current&&xe.current.pause(),$e.current&&(clearInterval($e.current),$e.current=null),be.current&&(clearInterval(be.current),be.current=null);else{const z=rt();if(z.length===0)return;be.current&&(clearInterval(be.current),be.current=null),oe&&S&&xe.current?(G(!0),U(!1),xe.current.play().then(()=>{Ot(),be.current=setInterval(()=>{if(xe.current&&!xe.current.paused){const K=Math.ceil(xe.current.duration-xe.current.currentTime);Je(Y=>({...Y,[S]:K}))}},100)}).catch(K=>{console.error("Failed to resume audio:",K),G(!1),U(!0)})):!S||!z.includes(S)?(xe.current&&(xe.current.pause(),xe.current=null),qe(0),G(!0),U(!1),setTimeout(()=>ii(0),0)):(G(!0),U(!1),Ot())}},Rt=()=>{const z=rt();if(z.length!==0)if(S&&Je(K=>{const Y={...K};return delete Y[S],Y}),U(!1),m){const K=ht>0?ht-1:z.length-1;qe(K),ii(K)}else{const K=ht>0?ht-1:z.length-1;qe(K),$(z[K])}},It=()=>{const z=rt();if(z.length!==0)if(S&&Je(K=>{const Y={...K};return delete Y[S],Y}),U(!1),m){const K=(ht+1)%z.length;qe(K),ii(K)}else{const K=(ht+1)%z.length;qe(K),$(z[K])}},Ot=()=>{$e.current&&clearInterval($e.current),$e.current=setInterval(()=>{tn(Date.now())},500)},ii=async z=>{const K=rt();if(!(z>=K.length)){xe.current&&(xe.current.pause(),xe.current=null),be.current&&(clearInterval(be.current),be.current=null),Ot(),U(!1);for(let Y=z;Y<K.length&&ue.current;Y++){const fe=K[Y],ge=i[fe];ge!=null&&ge.url&&(qe(Y),$(fe),await new Promise(Te=>{const we=new Audio(ge.url);xe.current=we,we.playbackRate=C,we.volume=J?0:L,be.current=setInterval(()=>{if(we&&!we.paused){const ze=Math.ceil(we.duration-we.currentTime);Je(Ie=>({...Ie,[fe]:ze}))}},100),we.onended=()=>{be.current&&(clearInterval(be.current),be.current=null),Je(ze=>{const Ie={...ze};return delete Ie[fe],Ie}),Te()},we.onerror=ze=>{console.error("Audio playback error:",ze),be.current&&(clearInterval(be.current),be.current=null),Te()},we.play().catch(ze=>{console.error("Failed to play audio:",ze),be.current&&(clearInterval(be.current),be.current=null),Te()})}))}G(!1),U(!1),$(null),qe(0),xe.current=null,$e.current&&(clearInterval($e.current),$e.current=null)}};W.useEffect(()=>()=>{$e.current&&clearInterval($e.current)},[]);const hn=(z,K,Y=null,fe=0,ge=!1,Te=null)=>{var aa;const we=i[z],Ie=S===z&&!oe,et=!z.startsWith("between")&&!ge,Kt=et&&Y&&Y===x,vr=V[z],er=q===z,pn=V[`${z}-type`],ia=z.startsWith("between")||ge?"general":"station",tr=Ie||Kt&&!Ie;return u.jsx("div",{className:`rounded-lg transition-all overflow-visible ${tr?"card-selected":"card-unselected"}`,onClick:()=>{et&&Y&&qi(Y)},children:u.jsxs("div",{className:"p-2",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-5 flex items-center justify-center flex-shrink-0",children:b&&et?u.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400",children:fe/2+1}):u.jsxs("div",{className:"relative",ref:se=>fn.current[`${z}-type`]=se,children:[u.jsx("button",{onClick:se=>{se.stopPropagation(),Ee(`${z}-type`)},className:"flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-600 rounded p-0.5 transition-colors",children:ni(z,ia,et?wt:null)}),pn&&u.jsx("div",{className:"absolute left-0 top-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 py-1 min-w-[160px]",children:et?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider pointer-events-none",children:F("stationTypes")}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"station"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(ds,{size:14,className:"text-blue-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("station")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"centralStation"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(uc,{size:14,className:"text-purple-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("centralStation")})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider pointer-events-none",children:F("announcements")}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"general"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(ki,{size:14,className:"text-gray-400"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("general")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"arrival"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(oc,{size:14,className:"text-green-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("arrival")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"departure"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(wc,{size:14,className:"text-orange-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("departure")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"transfer"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(ki,{size:14,className:"text-purple-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("transfer")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"information"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(qo,{size:14,className:"text-cyan-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("information")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"live"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(hc,{size:14,className:"text-pink-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("live")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"warning"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(sc,{size:14,className:"text-red-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("warning")})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),u.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider pointer-events-none",children:F("misc")}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"chime"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(lc,{size:14,className:"text-yellow-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("chime")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"music"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(gc,{size:14,className:"text-pink-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("music")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"ambience"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(vc,{size:14,className:"text-indigo-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("ambience")})]})]})})]})}),u.jsx("span",{className:"font-medium text-sm text-gray-800 dark:text-gray-200 flex-shrink-0",children:K}),(ge&&Te||!et&&!ge&&we)&&u.jsx("button",{onClick:se=>{se.stopPropagation(),ge&&Te?ea(Te,z):ta(z)},className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/20 rounded transition-colors flex-shrink-0",title:"Remove segment",children:u.jsx(Vr,{size:12,className:"text-red-500"})})]}),we&&We[z]&&u.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 flex-shrink-0 font-medium",children:le[z]!==void 0?Gt(le[z]):Gt(We[z])})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-5 flex items-center justify-center flex-shrink-0",children:Ie&&u.jsx("div",{className:"flex items-center gap-1 px-1.5 py-0.5 bg-blue-500 text-white rounded",children:u.jsx(Qf,{})})}),u.jsxs("div",{className:"flex-1 relative",ref:se=>fn.current[z]=se,children:[u.jsx("input",{ref:se=>Tn.current[z]=se,type:"file",accept:"audio/*",onChange:se=>D(z,se),className:"hidden"}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),Ee(z)},className:"w-full flex items-center justify-between gap-2 px-2 py-1.5 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 rounded border border-gray-200 dark:border-gray-600 transition-colors text-xs",children:[u.jsx("span",{className:"truncate text-gray-700 dark:text-gray-300",children:we?Q(we,z):"Select audio..."}),vr?u.jsx(Rr,{size:14,className:"flex-shrink-0 text-gray-500"}):u.jsx(xi,{size:14,className:"flex-shrink-0 text-gray-500"})]}),vr&&u.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:[u.jsxs("button",{onClick:se=>{var zt;se.stopPropagation(),(zt=Tn.current[z])==null||zt.click()},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm text-gray-700 dark:text-gray-300 border-b border-gray-100 dark:border-gray-700",children:[u.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"+"}),u.jsx("span",{children:"Upload Audio"})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),Pe(z,K)},disabled:!y,className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm text-gray-700 dark:text-gray-300 border-b border-gray-100 dark:border-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"+"}),u.jsx("span",{children:"Generate with AI"})]}),u.jsxs("div",{className:"py-1",children:[w.map(se=>u.jsx("button",{onClick:zt=>{zt.stopPropagation(),ve(z,{path:se.url,name:se.name})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm text-gray-700 dark:text-gray-300",children:u.jsx("span",{className:"truncate",children:se.name})},se.id)),Yt.map(se=>u.jsx("button",{onClick:zt=>{zt.stopPropagation(),ve(z,se)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm text-gray-700 dark:text-gray-300",children:u.jsx("span",{className:"truncate",children:se.name})},se.id))]})]})]}),we&&u.jsx("button",{onClick:se=>{se.stopPropagation(),Et(z)},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors flex-shrink-0",title:F("playAudio"),children:Ie?u.jsx(ba,{size:14,className:"text-blue-500"}):u.jsx(Na,{size:14,className:"text-gray-600 dark:text-gray-400"})})]}),er&&u.jsxs("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 max-w-full overflow-visible",children:[u.jsx("p",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"AI Generation"}),u.jsxs("div",{className:"space-y-2 mb-3",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"generationType",value:"text-to-speech",checked:A==="text-to-speech",onChange:se=>he(se.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Text-to-Speech"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-not-allowed opacity-50",children:[u.jsx("input",{type:"radio",name:"generationType",value:"sound-effects",disabled:!0,className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Sound Effects (Coming Soon)"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-not-allowed opacity-50",children:[u.jsx("input",{type:"radio",name:"generationType",value:"music",disabled:!0,className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Music (Coming Soon)"})]})]}),A==="text-to-speech"&&u.jsxs("div",{className:"space-y-3 max-w-full",children:[u.jsxs("div",{className:"relative",ref:d,children:[u.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1 block",children:"Voice"}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),Be(!Me)},className:"w-full flex items-center justify-between gap-2 px-2 py-1.5 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 rounded border border-gray-200 dark:border-gray-600 transition-colors text-xs",children:[u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:((aa=je.find(se=>se.id===Ce))==null?void 0:aa.name)||"Select voice..."}),Me?u.jsx(Rr,{size:14,className:"flex-shrink-0 text-gray-500"}):u.jsx(xi,{size:14,className:"flex-shrink-0 text-gray-500"})]}),Me&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-[100] overflow-hidden",children:je.map(se=>{const zt=Ce===se.id,ai=Ae===se.id;return u.jsxs("button",{onClick:Mn=>{Mn.stopPropagation(),!Mn.target.closest(".preview-button")&&(De(se.id),Be(!1))},className:`w-full flex items-center gap-2 px-3 py-1.5 border-b border-gray-100 dark:border-gray-700 last:border-b-0 text-left text-xs ${zt?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,children:[u.jsx("span",{className:"flex-1 text-gray-700 dark:text-gray-300",children:se.name}),u.jsx("span",{className:"preview-button p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors flex-shrink-0",onClick:Mn=>{var xr;Mn.stopPropagation(),ai?((xr=He.current)==null||xr.pause(),me(null)):He.current&&(He.current.src=se.preview,He.current.play(),me(se.id))},title:`Preview ${se.name}`,children:ai?u.jsx(ba,{size:14,className:"text-blue-500"}):u.jsx(Na,{size:14,className:"text-gray-600 dark:text-gray-400"})})]},se.id)})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1 block",children:"Text"}),u.jsx("textarea",{value:ee,onChange:se=>ne(se.target.value),placeholder:"Enter the text to convert to speech...",className:"w-full px-2 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3,onClick:se=>se.stopPropagation()})]}),v[z]&&v[z].length>0&&!Z&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Generated Audio:"}),v[z].map((se,zt)=>{const ai=we&&we.url===se.url,Mn=`${z}-gen-${zt}`,xr=S===Mn,Xl=xr&&!oe;return u.jsx("button",{onClick:si=>{si.stopPropagation(),a(kn=>({...kn,[z]:se}))},className:`w-full p-2 border rounded bg-gray-50 dark:bg-gray-700/50 transition-all text-left ${ai?"border-blue-500 ring-2 ring-blue-500 ring-opacity-50":"border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500"}`,children:u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("p",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium mb-1",children:[se.voiceName," #",zt+1]}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 break-words whitespace-normal",children:se.text})]}),u.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[u.jsx("span",{onClick:si=>{var kn,kr;si.stopPropagation(),xr&&!oe?((kn=xe.current)==null||kn.pause(),U(!0)):xr&&oe?((kr=xe.current)==null||kr.play(),U(!1)):xe.current&&(xe.current.src=se.url,xe.current.load(),xe.current.playbackRate=C,xe.current.volume=J?0:L,xe.current.play().catch(Ps=>{console.error("Error playing audio:",Ps)}),$(Mn),U(!1))},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:Xl?"Pause":"Play",children:Xl?u.jsx(ba,{size:14,className:"text-blue-500"}):u.jsx(Na,{size:14,className:"text-gray-600 dark:text-gray-400"})}),u.jsx("span",{onClick:si=>{si.stopPropagation(),h(kn=>({...kn,[z]:kn[z].filter((kr,Ps)=>Ps!==zt)})),ai&&a(kn=>{const kr={...kn};return delete kr[z],kr})},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"Remove",children:u.jsx(Vr,{size:14,className:"text-gray-700 dark:text-gray-300"})})]})]})},Mn)})]})]}),u.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-blue-200 dark:border-blue-700",children:[u.jsx("button",{onClick:se=>{se.stopPropagation(),ce(z,K)},disabled:Z||!ee.trim(),className:"flex-1 px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Z?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Generating..."})]}):"Generate"}),u.jsx("button",{onClick:se=>{se.stopPropagation(),R(null),ne("")},disabled:Z,className:"px-3 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-sm transition-colors disabled:opacity-50",children:"Cancel"})]})]})]})})},na=async()=>{var z;Ht(!0);try{const K=new sm,Y=rt(),fe=((z=t.find(ze=>ze.id===T))==null?void 0:z.name)||"Train Line";for(let ze=0;ze<Y.length;ze++){const Ie=Y[ze],et=i[Ie];if(et!=null&&et.url)try{const vr=await(await fetch(et.url)).blob(),er=`${String(ze+1).padStart(3,"0")}_${et.transcription||Ie}.mp3`.replace(/[^a-z0-9_\-\.]/gi,"_");K.file(er,vr)}catch(Kt){console.error(`Failed to fetch audio for ${Ie}:`,Kt)}}const ge=await K.generateAsync({type:"blob"}),Te=URL.createObjectURL(ge),we=document.createElement("a");we.href=Te,we.download=`${fe.replace(/[^a-z0-9_\-]/gi,"_")}_audio.zip`,document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(Te)}catch(K){console.error("Failed to export audio:",K),alert("Failed to export audio files. Please try again.")}finally{Ht(!1)}},zs=()=>{var K;const z=document.querySelector(".relative.w-full.h-full svg");if(!z){alert("Canvas not found");return}Ht(!0);try{const Y=z.cloneNode(!0),fe=((K=z.getAttribute("viewBox"))==null?void 0:K.split(" ").map(Number))||[0,0,1200,800];Y.setAttribute("width",fe[2].toString()),Y.setAttribute("height",fe[3].toString()),Y.setAttribute("xmlns","http://www.w3.org/2000/svg");const ge=Y.querySelector("rect.pointer-events-none");ge&&(ge.style.fill="white",ge.removeAttribute("class")),Y.querySelectorAll("text").forEach(pn=>{pn.style.fill="#1f2937",pn.removeAttribute("class")}),Y.querySelectorAll("rect:not(.grid-dot)").forEach(pn=>{pn.classList.contains("pointer-events-none")||(pn.style.fill="white",pn.removeAttribute("class"))});const ze=new XMLSerializer().serializeToString(Y),Ie=document.createElement("canvas"),et=Ie.getContext("2d"),Kt=new window.Image;Ie.width=fe[2],Ie.height=fe[3];const vr=new Blob([ze],{type:"image/svg+xml;charset=utf-8"}),er=URL.createObjectURL(vr);Kt.onload=()=>{et.fillStyle="white",et.fillRect(0,0,Ie.width,Ie.height),et.drawImage(Kt,0,0),Ie.toBlob(pn=>{var se;const ia=URL.createObjectURL(pn),tr=document.createElement("a"),aa=((se=t.find(zt=>zt.id===T))==null?void 0:se.name)||"Train Line";tr.href=ia,tr.download=`${aa.replace(/[^a-z0-9_\-]/gi,"_")}_map.png`,document.body.appendChild(tr),tr.click(),document.body.removeChild(tr),URL.revokeObjectURL(ia),URL.revokeObjectURL(er),Ht(!1)})},Kt.onerror=()=>{URL.revokeObjectURL(er),alert("Failed to export canvas snapshot"),Ht(!1)},Kt.src=er}catch(Y){console.error("Failed to export canvas:",Y),alert("Failed to export canvas snapshot. Please try again."),Ht(!1)}};return u.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800",children:[u.jsx("audio",{ref:He,onEnded:()=>me(null),onPause:()=>me(null)}),u.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[u.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:F("audioControlPanel")}),u.jsxs("div",{className:"flex items-center gap-2",children:[ut()>0&&u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 font-medium",children:Gt(m?nn():ut())}),_&&c&&u.jsx("button",{onClick:c,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:u.jsx(Vr,{size:20,className:"text-gray-600 dark:text-gray-400"})})]})]}),t.length>1&&u.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[u.jsx("button",{onClick:()=>{const z=t.findIndex(Y=>Y.id===T),K=z>0?z-1:t.length-1;I(t[K].id)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Previous line",children:u.jsx(z0,{size:16,className:"text-gray-600 dark:text-gray-400"})}),u.jsx("div",{className:"flex-1 text-center",children:u.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:((ra=t.find(z=>z.id===T))==null?void 0:ra.name)||""})}),u.jsx("button",{onClick:()=>{const z=t.findIndex(Y=>Y.id===T),K=z<t.length-1?z+1:0;I(t[K].id)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Next line",children:u.jsx(P0,{size:16,className:"text-gray-600 dark:text-gray-400"})})]}),_e.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1.5",children:[u.jsxs("button",{onClick:()=>de(!re),className:`${Sr} gap-0.5`,title:F("toggleVolume"),children:[J?u.jsx(bc,{size:16}):u.jsx(Sc,{size:16}),re?u.jsx(Rr,{size:12,className:"opacity-60"}):u.jsx(xi,{size:12,className:"opacity-60"})]}),u.jsx("button",{onClick:Rt,className:Sr,title:"Previous in Queue",children:u.jsx(B0,{size:16})}),u.jsx("button",{onClick:at,className:"flex items-center justify-center p-2 rounded-lg transition-colors bg-blue-500 hover:bg-blue-600 text-white",title:"Play/Pause Queue",children:m?u.jsx(ba,{size:18}):u.jsx(Na,{size:18})}),u.jsx("button",{onClick:It,className:Sr,title:"Next in Queue",children:u.jsx(W0,{size:16})}),u.jsxs("button",{onClick:()=>ye(!ae),className:`${Sr} gap-0.5 min-w-[44px]`,title:F("cycleSpeed"),children:[u.jsxs("span",{className:"text-xs font-medium leading-none",children:[C,"x"]}),ae?u.jsx(Rr,{size:12,className:"opacity-60"}):u.jsx(xi,{size:12,className:"opacity-60"})]}),P&&u.jsx("button",{onClick:()=>P(!E),className:`flex items-center justify-center p-1.5 rounded-lg transition-colors ${E?"btn-selected":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:F("displayAudioCaptions"),children:u.jsx(L0,{size:16})})]}),u.jsxs("div",{className:"mb-1.5 px-2 py-1.5 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[u.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[F("audioQueue"),": ",ht+1," / ",rt().length]}),u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:Gt(ut())})]}),u.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:u.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-100",style:{width:`${ut()>0?(ut()-nn())/ut()*100:0}%`}})})]}),re&&u.jsxs("div",{className:"mb-1.5 p-2 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Volume"}),u.jsxs("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 min-w-[32px] text-right",children:[Math.round((J?0:L)*100),"%"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{B(!J),xe.current&&(xe.current.volume=J?L:0)},className:Sr,title:F(J?"unmute":"mute"),children:J?u.jsx(bc,{size:16}):u.jsx(Sc,{size:16})}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:J?0:L,onChange:z=>{const K=parseFloat(z.target.value);X(K),K>0&&B(!1),xe.current&&(xe.current.volume=K)},className:"flex-1 h-1.5 bg-gray-300 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer"})]})]}),ae&&u.jsxs("div",{className:"mb-1.5 p-2 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Speed"}),u.jsxs("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 min-w-[40px] text-right",children:[C.toFixed(2),"x"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>ct(1),className:Sr,title:"Reset to 1x",children:u.jsx("span",{className:"text-xs font-medium",children:"1x"})}),u.jsx("input",{type:"range",min:"0.5",max:"4",step:"0.05",value:C,onChange:z=>{const K=parseFloat(z.target.value);ct(K)},className:"flex-1 h-1.5 bg-gray-300 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer"})]})]})]}),!y&&t.length>0&&u.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1.5",children:F("setApiKeyToGenerate")})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:t.length===0?u.jsxs("div",{className:"text-center text-gray-400 dark:text-gray-500 mt-6",children:[u.jsx("p",{children:F("noLinesYet")}),u.jsx("p",{className:"text-sm mt-1.5",children:F("createLineFirst")})]}):_e.length===0?u.jsx("div",{className:"text-center text-gray-400 dark:text-gray-500 mt-6",children:u.jsx("p",{children:F("selectLine")})}):u.jsx("div",{className:"flex gap-2",children:u.jsx("div",{className:"flex-1 min-w-0 overflow-visible",children:_e.map((z,K)=>{var ze;let Y=K*2;const fe=`station-${z.id}`,ge=`between-${z.id}-${(ze=_e[K+1])==null?void 0:ze.id}`,Te=K===_e.length-1,we=K===0;return u.jsxs("div",{children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"relative flex items-center justify-center flex-shrink-0",style:{width:"20px"},children:[!we&&u.jsx("div",{className:"absolute w-0.5 left-1/2 -translate-x-1/2",style:{bottom:"50%",top:0,backgroundColor:wt,opacity:.6}}),!Te&&u.jsx("div",{className:"absolute w-0.5 left-1/2 -translate-x-1/2",style:{top:"50%",bottom:0,backgroundColor:wt,opacity:.6}}),yr(z.id)]}),u.jsx("div",{className:"flex-1 min-w-0",children:hn(fe,z.name,z.id,Y)})]}),K<_e.length-1&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"flex flex-col items-center flex-shrink-0",style:{width:"20px"},children:u.jsx("div",{className:"w-0.5 flex-1",style:{backgroundColor:wt,opacity:.6}})}),u.jsxs("div",{className:"relative flex-1 my-3 pl-8 pr-0",onMouseEnter:()=>Se(ge),onMouseLeave:()=>Se(null),children:[u.jsx("div",{className:"absolute left-3 top-0 bottom-0 w-0.5 border-l-2 border-dashed border-gray-300 dark:border-gray-600"}),Re===ge&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>ri(ge),className:"absolute left-3 -translate-x-1/2 top-0 -translate-y-1/2 p-0.5 bg-white dark:bg-gray-800 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors shadow-sm border border-gray-300 dark:border-gray-600 z-10",title:"Add segment",children:u.jsx($a,{size:12,className:"text-gray-400 hover:text-blue-500 dark:hover:text-blue-400"})}),(l[ge]||[]).map((Ie,et)=>{var Kt;return u.jsx("button",{onClick:()=>ri(ge),className:"absolute left-3 -translate-x-1/2 p-0.5 bg-white dark:bg-gray-800 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors shadow-sm border border-gray-300 dark:border-gray-600 z-10",style:{top:`${(et+1)/((((Kt=l[ge])==null?void 0:Kt.length)||0)+2)*100}%`},title:"Add segment",children:u.jsx($a,{size:12,className:"text-gray-400 hover:text-blue-500 dark:hover:text-blue-400"})},`add-${et}`)}),u.jsx("button",{onClick:()=>ri(ge),className:"absolute left-3 -translate-x-1/2 bottom-0 translate-y-1/2 p-0.5 bg-white dark:bg-gray-800 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors shadow-sm border border-gray-300 dark:border-gray-600 z-10",title:"Add segment",children:u.jsx($a,{size:12,className:"text-gray-400 hover:text-blue-500 dark:hover:text-blue-400"})})]}),u.jsxs("div",{className:"space-y-1.5",children:[hn(ge,Ji(ge,"general"),null,Y+1),(l[ge]||[]).map(Ie=>u.jsx("div",{children:hn(Ie,Ji(Ie,"general"),null,Y+1,!0,ge)},Ie))]})]})]}),Te&&_e.length>1&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"flex-shrink-0",style:{width:"20px"}}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 py-2 px-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700 mt-3",children:[u.jsx(Vf,{size:12,className:"flex-shrink-0"}),u.jsxs("span",{children:["Returns to ",_e[0].name]})]})]})]},`slot-group-${z.id}`)})})})}),_e.length>0&&u.jsx("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex-shrink-0",children:u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400",children:[u.jsx("span",{children:"Download"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:zs,disabled:dn,className:"flex items-center gap-1 px-2 py-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed hover:text-gray-900 dark:hover:text-gray-200",title:"Download canvas as PNG image",children:[u.jsx(F0,{size:12}),u.jsx("span",{children:"Canvas"})]}),u.jsx("div",{className:"h-3 w-px bg-gray-300 dark:bg-gray-600"}),u.jsxs("button",{onClick:na,disabled:dn||rt().filter(z=>{var K;return(K=i[z])==null?void 0:K.url}).length===0,className:"flex items-center gap-1 px-2 py-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed hover:text-gray-900 dark:hover:text-gray-200",title:`Download ${rt().filter(z=>{var K;return(K=i[z])==null?void 0:K.url}).length} audio files as zip`,children:[u.jsx(D0,{size:12}),u.jsx("span",{children:"Audio"})]})]})]})})]})},Jf=W.forwardRef(({stations:e,setStations:t,setStationsNoHistory:n,lines:r,setLines:i,setStationsAndLines:a,currentTool:s,setCurrentTool:o,selectedStations:l,setSelectedStations:g,gridZoom:w=1,onGridZoomChange:k,language:v="en",lineStyle:h="smooth",onLineStyleChange:y,gridStyle:p="dots",onGridStyleChange:_,showStationNumbers:c=!1,isMobile:f=!1,selectedStationId:x=null,playingStationId:b=null,isStationPlaying:j=!1,showTranscription:E=!1,setShowTranscription:P,currentTranscription:M="",selectedLineId:T=null},I)=>{const{t:F}=ti(v),[S,$]=W.useState({x:0,y:0,width:1200,height:800}),[m,G]=W.useState(!1),[oe,U]=W.useState({x:0,y:0}),[V,O]=W.useState(null),[q,R]=W.useState(null),[A,he]=W.useState(null),[ee,ne]=W.useState({x:0,y:0}),[Ce,De]=W.useState(null),[je,Ae]=W.useState(null),[me,Me]=W.useState([]),[Be,He]=W.useState([]),[d,Z]=W.useState("#ef4444"),[H,C]=W.useState(!1),[N,L]=W.useState(!1),[X,J]=W.useState(null),[B,re]=W.useState(null),[de,ae]=W.useState(!1),[ye,Re]=W.useState(null),Se=W.useRef(null),We=W.useRef(null),lt=W.useRef(null),le=30*w,Je=D=>Math.round(D/le)*le;W.useEffect(()=>{const D=e.map(Q=>Q.gridIndexX!==void 0&&Q.gridIndexY!==void 0?{...Q,x:Q.gridIndexX*le,y:Q.gridIndexY*le}:Q);n(D)},[w,le]),W.useEffect(()=>{const D=()=>{if(We.current){const Q=We.current.getBoundingClientRect();$(te=>({...te,width:Q.width||1200,height:Q.height||800}))}};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),W.useEffect(()=>{s!=="createLine"&&Me([]),s!=="drawPath"&&He([])},[s]);const Fe=(D,Q)=>{if(!Se.current)return{x:0,y:0};const te=Se.current.createSVGPoint();te.x=D,te.y=Q;const ce=te.matrixTransform(Se.current.getScreenCTM().inverse());return{x:ce.x,y:ce.y}},tn=()=>{const D=["#ef4444","#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4"],Q=r.length;return D[Q%D.length]},ht=D=>{if(r.length<=1)return null;const Q="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return Q[D%Q.length]},qe=(D,Q,te,ce,ve,Ee)=>{const Pe=ve-te,Et=Ee-ce,ct=Pe*Pe+Et*Et;if(ct===0)return{x:te,y:ce,distance:Math.sqrt((D-te)**2+(Q-ce)**2)};let at=((D-te)*Pe+(Q-ce)*Et)/ct;at=Math.max(0,Math.min(1,at));const Rt=te+at*Pe,It=ce+at*Et,Ot=Math.sqrt((D-Rt)**2+(Q-It)**2);return{x:Rt,y:It,distance:Ot,t:at}},dn=D=>{const Q=le*1;for(const te of r){const ce=te.stations.map(ve=>e.find(Ee=>Ee.id===ve)).filter(Boolean);if(!(ce.length<2))for(let ve=0;ve<ce.length-1;ve++){const Ee=ce[ve],Pe=ce[ve+1];if(qe(D.x,D.y,Ee.x,Ee.y,Pe.x,Pe.y).distance<=Q){const ct=r.map(Rt=>{if(Rt.id===te.id){const It=[...Rt.stations];return It.splice(ve+1,0,D.id),{...Rt,stations:It}}return Rt}),at={...D,color:te.color};return a?a([...e,at],ct):(t([...e,at]),i(ct)),!0}}}return t([...e,D]),!1},Ht=D=>{if(s==="station"){if(D.target.tagName==="circle"&&D.target.classList.contains("grid-dot")){const Q=parseFloat(D.target.getAttribute("cx")),te=parseFloat(D.target.getAttribute("cy")),ce=Math.round(Q/le),ve=Math.round(te/le),Ee={id:`station-${Date.now()}`,gridIndexX:ce,gridIndexY:ve,x:Q,y:te,name:Ca(e,v),color:"#3b82f6"};dn(Ee)}else if(D.target.tagName==="rect"||D.target===Se.current){const Q=Fe(D.clientX,D.clientY),te=Math.round(Q.x/le)*le,ce=Math.round(Q.y/le)*le,ve=Math.round(te/le),Ee=Math.round(ce/le),Pe={id:`station-${Date.now()}`,gridIndexX:ve,gridIndexY:Ee,x:te,y:ce,name:Ca(e,v),color:"#3b82f6"};dn(Pe)}}else if(s==="createLine"){if(D.target.tagName==="circle"&&D.target.classList.contains("grid-dot")){const Q=parseFloat(D.target.getAttribute("cx")),te=parseFloat(D.target.getAttribute("cy")),ce=Math.round(Q/le),ve=Math.round(te/le),Ee={id:`station-${Date.now()}-${me.length}`,gridIndexX:ce,gridIndexY:ve,x:Q,y:te,name:Ca([...e,...me],v),color:d};Me([...me,Ee])}else if(D.target.tagName==="rect"||D.target===Se.current){const Q=Fe(D.clientX,D.clientY),te=Math.round(Q.x/le)*le,ce=Math.round(Q.y/le)*le,ve=Math.round(te/le),Ee=Math.round(ce/le),Pe={id:`station-${Date.now()}-${me.length}`,gridIndexX:ve,gridIndexY:Ee,x:te,y:ce,name:Ca([...e,...me],v),color:d};Me([...me,Pe])}}else if(s==="drawPath"){if(D.target.tagName==="circle"&&D.target.classList.contains("grid-dot")){const Q=parseFloat(D.target.getAttribute("cx")),te=parseFloat(D.target.getAttribute("cy")),ce=Math.round(Q/le),ve=Math.round(te/le);He([...Be,{x:Q,y:te,gridIndexX:ce,gridIndexY:ve}])}else if(D.target.tagName==="rect"||D.target===Se.current){const Q=Fe(D.clientX,D.clientY),te=Math.round(Q.x/le)*le,ce=Math.round(Q.y/le)*le,ve=Math.round(te/le),Ee=Math.round(ce/le);He([...Be,{x:te,y:ce,gridIndexX:ve,gridIndexY:Ee}])}}},Tn=(D,Q)=>{s==="createLine"&&(Q.stopPropagation(),me.length>=2&&me[0].id===D.id||me.length>=1&&me[0].id===D.id?yr(!0):Me([...me,D]))},xe=(D,Q)=>{s==="drawPath"&&(Q.stopPropagation(),He([...Be,{x:D.x,y:D.y,gridIndexX:D.gridIndexX,gridIndexY:D.gridIndexY}]))},fn=(D,Q)=>{Q.stopPropagation(),s==="select"&&O(D)},be=(D,Q)=>{if(s==="select"){Q.stopPropagation();const te=Fe(Q.clientX,Q.clientY);he(D),O(null),R(null),re({...D}),ne({x:te.x-D.x,y:te.y-D.y})}},$e=(D,Q)=>{if(s==="select"&&Q.touches.length===1){Q.stopPropagation();const te=Q.touches[0],ce=Fe(te.clientX,te.clientY);he(D),O(null),R(null),re({...D}),ne({x:ce.x-D.x,y:ce.y-D.y})}},ue=D=>{const Q=e.map(te=>te.id===D.id?D:te);t(Q)},ke=D=>{t(e.filter(te=>te.id!==D));const Q=r.map(te=>({...te,stations:te.stations.filter(ce=>ce!==D)})).filter(te=>te.stations.length>=2);i(Q),O(null)},_e=(D,Q=!1)=>{const te=r.map(ce=>ce.id===D.id?D:ce);if(Q&&D.stations){const ce=e.map(ve=>D.stations.includes(ve.id)?{...ve,color:D.color}:ve);t(ce)}i(te),R(D)},wt=D=>{i(r.filter(Q=>Q.id!==D)),R(null)},Yt=(D,Q)=>{s==="select"&&(Q.stopPropagation(),R(D),O(null))},An=D=>{(D.button===1||D.button===0&&D.shiftKey||D.button===0&&s==="select"&&(D.target.tagName==="rect"||D.target===Se.current))&&(G(!0),U({x:D.clientX,y:D.clientY}),O(null),R(null),D.preventDefault())},_t=D=>{if(D.touches.length===2){D.preventDefault();const Q=D.touches[0],te=D.touches[1],ce=Math.hypot(te.clientX-Q.clientX,te.clientY-Q.clientY);Re(ce),G(!1);return}if(D.touches.length===1){const Q=D.touches[0],te=D.target;s==="select"&&(te.tagName==="rect"||te===Se.current)&&(G(!0),U({x:Q.clientX,y:Q.clientY}),O(null),R(null),D.preventDefault())}},Gt=D=>{if(D.touches.length===2&&ye!==null){D.preventDefault();const Q=D.touches[0],te=D.touches[1],ce=Math.hypot(te.clientX-Q.clientX,te.clientY-Q.clientY),ve=(ce-ye)*.005,Ee=Math.max(.5,Math.min(2,w+ve));k&&k(Ee),Re(ce);return}if(D.touches.length===1){const Q=D.touches[0],te=Fe(Q.clientX,Q.clientY);if(Ae(te),s==="createLine"||s==="drawPath"||s==="station"){const ce=Math.round(te.x/le)*le,ve=Math.round(te.y/le)*le;De({x:ce,y:ve})}else De(null);if(A){D.preventDefault();const ce=Je(te.x-ee.x),ve=Je(te.y-ee.y);n(Ee=>Ee.map(Pe=>Pe.id===A.id?{...Pe,x:ce,y:ve,gridIndexX:Math.round(ce/le),gridIndexY:Math.round(ve/le)}:Pe))}else if(m){D.preventDefault();const ce=(Q.clientX-oe.x)*.5,ve=(Q.clientY-oe.y)*.5;$(Ee=>({...Ee,x:Ee.x-ce,y:Ee.y-ve})),U({x:Q.clientX,y:Q.clientY})}}},rt=()=>{Re(null),nn()},ut=D=>{if(D.shiftKey){D.preventDefault();const Q=-D.deltaY*.001,te=Math.max(.5,Math.min(2,w+Q));k&&k(te)}},Dt=D=>{const Q=Fe(D.clientX,D.clientY);if(Ae(Q),s==="createLine"||s==="drawPath"||s==="station"){const te=Math.round(Q.x/le)*le,ce=Math.round(Q.y/le)*le;De({x:te,y:ce})}else De(null);if(A){const te=Je(Q.x-ee.x),ce=Je(Q.y-ee.y);n(ve=>ve.map(Ee=>Ee.id===A.id?{...Ee,x:te,y:ce,gridIndexX:Math.round(te/le),gridIndexY:Math.round(ce/le)}:Ee))}else if(m){const te=(D.clientX-oe.x)*.5,ce=(D.clientY-oe.y)*.5;$(ve=>({...ve,x:ve.x-te,y:ve.y-ce})),U({x:D.clientX,y:D.clientY})}},nn=()=>{if(A){const D=r.filter(Q=>{const te=Q.stations,ce=te[0],ve=te[te.length-1];return A.id===ce||A.id===ve});for(const Q of D){const te=Q.stations,ce=te[0],ve=te[te.length-1];if(ce===ve||ce===ve)continue;const Ee=e.find(ct=>ct.id===ce),Pe=e.find(ct=>ct.id===ve);if(!Ee||!Pe||Ee.id===Pe.id)continue;if(Math.sqrt(Math.pow(Ee.x-Pe.x,2)+Math.pow(Ee.y-Pe.y,2))<le/2){J({line:Q,firstStation:{...Ee},lastStation:{...Pe},draggedStation:{...A}}),L(!0);return}}t([...e]),re(null)}G(!1),he(null)},ni=D=>{if(!X)return;const{line:Q,firstStation:te,lastStation:ce,draggedStation:ve}=X;if(D==="cancel")B&&n(Ee=>Ee.map(Pe=>Pe.id===ve.id?B:Pe));else{const Ee=D==="first"?te:ce,Pe=D==="first"?ce:te,Et=r.map(at=>{if(at.id===Q.id){const Rt=at.stations.map(It=>It===Pe.id?Ee.id:It);return{...at,stations:Rt}}return at}),ct=e.filter(at=>at.id!==Pe.id);a?a(ct,Et):(t(ct),i(Et))}L(!1),J(null),re(null),he(null)},Ji=D=>{D.preventDefault(),s==="createLine"&&me.length>=2?yr():s==="drawPath"&&Be.length>=2&&qi()},yr=(D=!1)=>{if(me.length>=2){const Q=[...e,...me],te=me.map(ve=>ve.id);D&&te.push(me[0].id);const ce={id:`line-${Date.now()}`,name:`Line ${r.length+1}`,stations:te,color:d,tension:.7};t(Q),i([...r,ce]),Me([]),Z(tn()),o&&o("select")}},qi=()=>{if(Be.length>=2){const D={id:`line-${Date.now()}`,name:`Line ${r.length+1}`,stations:[],pathPoints:Be,color:d,tension:.7};i([...r,D]),He([]),Z(tn()),o&&o("select")}},St=(D=!0)=>{if(e.length===0)return;const Q=e.map(Ot=>Ot.x),te=e.map(Ot=>Ot.y),ce=(Math.min(...Q)+Math.max(...Q))/2,ve=(Math.min(...te)+Math.max(...te))/2,Ee=ce-S.width/2,Pe=ve-S.height/2;if(lt.current&&cancelAnimationFrame(lt.current),!D){$(Ot=>({...Ot,x:Ee,y:Pe}));return}C(!0);const Et=S.x,ct=S.y,at=performance.now(),Rt=600,It=Ot=>{const ii=Ot-at,hn=Math.min(ii/Rt,1),na=hn<.5?4*hn*hn*hn:1-Math.pow(-2*hn+2,3)/2,zs=Et+(Ee-Et)*na,ra=ct+(Pe-ct)*na;$(z=>({...z,x:zs,y:ra})),hn<1?lt.current=requestAnimationFrame(It):C(!1)};lt.current=requestAnimationFrame(It)};W.useImperativeHandle(I,()=>({centerView:St})),W.useEffect(()=>()=>{lt.current&&cancelAnimationFrame(lt.current)},[]);const ri=()=>{if(s==="createLine"&&me.length>0&&Ce){const D=[...me,Ce];return u.jsx(ro,{line:{stations:[],color:d},stations:[],lineStyle:h,isGhost:!0,ghostPoints:D,color:d})}if(s==="drawPath"&&Be.length>0&&Ce){const D=[...Be,Ce];return u.jsx(ro,{line:{stations:[],color:d},stations:[],lineStyle:h,isGhost:!0,ghostPoints:D,color:d})}return null},ea=(D,Q,te)=>{if(!c)return D.name;const ce=ht(te);return ce?r.length>=2?`${ce}${Q+1} ${D.name}`:`${ce}${Q+1}: ${D.name}`:`${Q+1}. ${D.name}`},ta=[...e,...me];return u.jsxs("div",{ref:We,className:"relative w-full h-full bg-gray-50 dark:bg-gray-800",children:[u.jsxs("svg",{ref:Se,viewBox:`${S.x} ${S.y} ${S.width} ${S.height}`,className:"w-full h-full cursor-crosshair",preserveAspectRatio:"xMidYMid slice",onClick:Ht,onMouseDown:An,onMouseMove:Dt,onMouseUp:nn,onMouseLeave:nn,onContextMenu:Ji,onTouchStart:_t,onTouchMove:Gt,onTouchEnd:rt,onWheel:ut,children:[u.jsx(G0,{spacing:le,viewBox:S,zoom:w,currentTool:s,hoverPoint:Ce,gridStyle:p}),r.map((D,Q)=>u.jsx(ro,{line:D,stations:e,lineStyle:h,onClick:te=>Yt(D,te),isEditing:(q==null?void 0:q.id)===D.id},D.id)),ri(),Be.map((D,Q)=>u.jsx("circle",{cx:D.x,cy:D.y,r:"4",fill:d,opacity:"0.7"},`path-point-${Q}`)),e.map((D,Q)=>{const te=r.find(Pe=>Pe.stations.includes(D.id)),ce=te?r.indexOf(te):0,ve=te?te.stations.indexOf(D.id):Q,Ee=s==="createLine"&&me.length>=2&&me[0].id===D.id;return u.jsx(Nc,{station:{...D,name:ea(D,ve,ce)},isSelected:l.some(Pe=>Pe.id===D.id),isDragging:(A==null?void 0:A.id)===D.id,isHighlighted:x===D.id||Ee,isPlaying:b===D.id&&j,onClick:Pe=>{s==="createLine"?Tn(D,Pe):s==="drawPath"?xe(D,Pe):fn(D,Pe)},onMouseDown:Pe=>be(D,Pe),onTouchStart:Pe=>$e(D,Pe),allStations:ta},D.id)}),me.map((D,Q)=>u.jsx(Nc,{station:{...D,name:ea(D,Q,r.length)},isSelected:!1,isDragging:!1,onClick:()=>{},onMouseDown:()=>{},onTouchStart:()=>{},allStations:ta},D.id))]}),(V||q)&&u.jsx(nm,{station:V,line:q,lines:r,stations:e,onUpdateStation:ue,onUpdateLine:_e,onDeleteStation:ke,onDeleteLine:wt,setStationsAndLines:a,onClose:()=>{O(null),R(null)},language:v}),r.length>0&&u.jsx("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:r.map(D=>{const Q=T===D.id&&r.length>1;return u.jsxs("button",{onClick:()=>{(q==null?void 0:q.id)===D.id?R(null):(R(D),O(null))},className:`flex items-center gap-2 px-3 py-2 rounded-lg shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer ${Q?"bg-white dark:bg-gray-800 border border-blue-500":"bg-white dark:bg-gray-800 border border-transparent"}`,children:[u.jsx(ki,{size:16,style:{color:D.color},className:"flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:D.name})]},D.id)})}),E&&M&&u.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 w-full max-w-2xl px-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 px-6 py-3 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 relative",children:[u.jsx("div",{className:"absolute top-3 left-3 flex items-center gap-1 px-1.5 py-0.5 bg-blue-500 text-white rounded",children:u.jsx(Qf,{})}),u.jsx("p",{className:"text-center text-base font-medium text-gray-800 dark:text-gray-200 px-8",children:M})]})}),(s==="station"||s==="createLine"||s==="drawPath")&&u.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 py-2 rounded-lg shadow-md text-sm text-gray-500 dark:text-gray-400 border border-gray-200 dark:border-gray-700 flex items-center gap-2",children:[u.jsx(qo,{size:14,className:"flex-shrink-0"}),u.jsxs("span",{children:[s==="station"&&F("clickGridToAddStation"),s==="createLine"&&me.length===0&&F(f?"tapToAddStations":"clickToAddStations"),s==="createLine"&&me.length>0&&me.length<2&&"Add more stations or right-click to finish",s==="createLine"&&me.length>=2&&"Click first station to create loop, or right-click to finish",s==="drawPath"&&F(f?"tapToDrawPath":"clickToDrawPath")]})]})}),u.jsxs("div",{className:"absolute bottom-4 left-4 flex flex-col gap-3 items-start",children:[de&&u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 px-1",children:F("lineStyle")}),u.jsxs("div",{className:"flex gap-0 border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden shadow-md",style:{backgroundColor:"var(--toolbar-group-bg)"},children:[u.jsx("button",{onClick:()=>y("direct"),className:`flex items-center justify-center w-10 h-10 transition-colors ${h==="direct"?"btn-selected":"btn-unselected"}`,title:F("lineStyleDirect"),children:u.jsx("span",{className:"text-lg font-medium",children:"─"})}),u.jsx("button",{onClick:()=>y("minimal"),className:`flex items-center justify-center w-10 h-10 transition-colors ${h==="minimal"?"btn-selected":"btn-unselected"}`,title:F("lineStyleMinimal"),children:u.jsx("i",{className:"ri-loader-5-fill text-lg"})}),u.jsx("button",{onClick:()=>y("smooth"),className:`flex items-center justify-center w-10 h-10 transition-colors ${h==="smooth"?"btn-selected":"btn-unselected"}`,title:F("lineStyleSmooth"),children:u.jsx("span",{className:"text-xl",children:"∿"})})]})]}),de&&u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 px-1",children:F("gridStyle")}),u.jsxs("div",{className:"flex gap-0 border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden shadow-md",style:{backgroundColor:"var(--toolbar-group-bg)"},children:[u.jsx("button",{onClick:()=>_("none"),className:`flex items-center justify-center w-10 h-10 transition-colors ${p==="none"?"btn-selected":"btn-unselected"}`,title:F("gridStyleNone"),children:u.jsx(Wf,{size:18})}),u.jsx("button",{onClick:()=>_("dots"),className:`flex items-center justify-center w-10 h-10 transition-colors ${p==="dots"?"btn-selected":"btn-unselected"}`,title:F("gridStyleDots"),children:u.jsx(A0,{size:18})}),u.jsx("button",{onClick:()=>_("horizontal"),className:`flex items-center justify-center w-10 h-10 transition-colors ${p==="horizontal"?"btn-selected":"btn-unselected"}`,title:F("gridStyleHorizontal"),children:u.jsx(pc,{size:18})}),u.jsx("button",{onClick:()=>_("vertical"),className:`flex items-center justify-center w-10 h-10 transition-colors ${p==="vertical"?"btn-selected":"btn-unselected"}`,title:F("gridStyleVertical"),children:u.jsx(pc,{size:18,style:{transform:"rotate(90deg)"}})}),u.jsx("button",{onClick:()=>_("grid"),className:`flex items-center justify-center w-10 h-10 transition-colors ${p==="grid"?"btn-selected":"btn-unselected"}`,title:F("gridStyleGrid"),children:u.jsx($a,{size:18})}),u.jsx("button",{onClick:()=>_("diagonal"),className:`flex items-center justify-center w-10 h-10 transition-colors ${p==="diagonal"?"btn-selected":"btn-unselected"}`,title:F("gridStyleDiagonal"),children:u.jsx(Vr,{size:18})})]})]}),u.jsxs("button",{onClick:()=>ae(!de),className:"flex items-center gap-2 bg-white dark:bg-gray-800 px-4 py-2 rounded-lg shadow-md text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors border border-gray-200 dark:border-gray-700",children:[u.jsx(R0,{size:16}),u.jsx("span",{className:"font-medium",children:F("canvasStyle")}),de?u.jsx(Rr,{size:16}):u.jsx(xi,{size:16})]}),u.jsxs("div",{className:"flex gap-3 items-center",children:[u.jsxs("button",{onClick:St,disabled:e.length===0,className:"flex items-center gap-2 bg-white dark:bg-gray-800 px-4 py-2 rounded-lg shadow-md text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed border border-gray-200 dark:border-gray-700",children:[u.jsx(U0,{size:16}),u.jsx("span",{children:F("centerView")})]}),u.jsxs("div",{className:"flex gap-0 rounded-lg overflow-hidden shadow-md border border-gray-200 dark:border-gray-700",children:[u.jsx("button",{onClick:()=>k(Math.max(.5,w-.1)),className:"flex items-center justify-center w-10 h-10 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:F("zoom")+" Out",children:u.jsx(Y0,{size:16})}),u.jsx("button",{onClick:()=>k(Math.min(2,w+.1)),className:"flex items-center justify-center w-10 h-10 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:F("zoom")+" In",children:u.jsx(H0,{size:16})})]})]}),s==="createLine"&&me.length>=2&&u.jsxs("button",{onClick:yr,className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-md text-sm hover:bg-green-600 transition-colors border border-green-500",children:[u.jsx(cc,{size:16}),u.jsx("span",{children:F("finishLine")})]}),s==="drawPath"&&Be.length>=2&&u.jsxs("button",{onClick:qi,className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-md text-sm hover:bg-green-600 transition-colors border border-green-500",children:[u.jsx(cc,{size:16}),u.jsx("span",{children:F("finishLine")})]})]}),N&&X&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 max-w-md w-full mx-4",children:[u.jsx("h3",{className:"text-base font-bold text-gray-800 dark:text-gray-200 mb-2",children:F("createLoopLine")}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:F("selectLoopStation")}),u.jsxs("div",{className:"flex gap-2 mb-3",children:[u.jsx("button",{onClick:()=>ni("first"),className:"flex-1 px-3 py-2 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:X.line.color}}),u.jsx("span",{className:"font-medium text-sm",children:X.firstStation.name})]}),u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:F("firstStation")})]})}),u.jsx("button",{onClick:()=>ni("last"),className:"flex-1 px-3 py-2 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:X.line.color}}),u.jsx("span",{className:"font-medium text-sm",children:X.lastStation.name})]}),u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:F("lastStation")})]})})]}),u.jsx("button",{onClick:()=>ni("cancel"),className:"w-full px-3 py-2 bg-transparent hover:bg-gray-50 dark:hover:bg-gray-700/50 text-gray-600 dark:text-gray-300 rounded-lg transition-colors text-sm border border-gray-300 dark:border-gray-600",children:F("cancel")})]})})]})});Jf.displayName="MapEditor";const lm=({currentTool:e,onToolChange:t,onShowApiKey:n,hasApiKey:r,isDarkMode:i,onToggleDarkMode:a,gridZoom:s,onGridZoomChange:o,onReset:l,language:g,onLanguageChange:w,lineStyle:k,onLineStyleChange:v,onUndo:h,onRedo:y,canUndo:p,canRedo:_,isMobile:c,showMobileHeader:f,onToggleMobileHeader:x,showStationNumbers:b,onToggleStationNumbers:j})=>{var F;const{t:E}=ti(g),[P,M]=W.useState(!1),T=W.useRef(null),I=[{id:"select",icon:mc,label:E("selectTool")},{id:"station",icon:ds,label:E("addStationTool")},{id:"createLine",icon:dc,label:E("createTrainLineTool")},{id:"drawPath",icon:yc,label:E("drawPathTool")}];return W.useEffect(()=>{const S=$=>{T.current&&!T.current.contains($.target)&&M(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]),u.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-2 md:px-4 py-2 md:py-3 transition-colors",children:[u.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>window.location.reload(),className:"text-xl font-bold text-gray-800 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 transition-all duration-200 hover:scale-105 cursor-pointer",title:"Refresh page",children:E("appTitle")}),u.jsxs("div",{className:"flex gap-0 border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden",style:{backgroundColor:"var(--toolbar-group-bg)"},children:[u.jsxs("button",{onClick:()=>t("select"),className:`flex items-center gap-2 px-4 py-2 transition-colors ${e==="select"?"btn-selected":"btn-unselected"}`,children:[u.jsx(mc,{size:18}),u.jsx("span",{className:"text-sm font-medium",children:E("selectTool")})]}),u.jsxs("button",{onClick:()=>t("createLine"),className:`flex items-center gap-2 px-4 py-2 transition-colors ${e==="createLine"?"btn-selected":"btn-unselected"}`,children:[u.jsx(dc,{size:18}),u.jsx("span",{className:"text-sm font-medium",children:E("createTrainLineTool")})]}),(e==="createLine"||e==="station"||e==="drawPath")&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>t("station"),className:`flex items-center gap-2 px-4 py-2 transition-colors ${e==="station"?"btn-selected":"btn-unselected"}`,children:[u.jsx(ds,{size:18}),u.jsx("span",{className:"text-sm font-medium",children:E("addStationTool")})]}),u.jsxs("button",{onClick:()=>t("drawPath"),className:`flex items-center gap-2 px-4 py-2 transition-colors ${e==="drawPath"?"btn-selected":"btn-unselected"}`,children:[u.jsx(yc,{size:18}),u.jsx("span",{className:"text-sm font-medium",children:E("drawPathTool")})]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:j,className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${b?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:E(b?"hideStationNumbers":"showStationNumbers"),children:u.jsx(O0,{size:18})}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:h,disabled:!p,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-40 disabled:cursor-not-allowed",title:E("undo"),children:u.jsx(_c,{size:18})}),u.jsx("button",{onClick:y,disabled:!_,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-40 disabled:cursor-not-allowed",title:E("redo"),children:u.jsx(xc,{size:18})})]}),u.jsx("button",{onClick:l,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:E("resetToDefault"),children:u.jsx(Vf,{size:18})}),u.jsxs("div",{className:"relative",ref:T,children:[u.jsxs("button",{onClick:()=>M(!P),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Language",children:[u.jsx(I0,{size:18}),u.jsx("span",{className:"text-lg",children:(F=Ec.find(S=>S.code===g))==null?void 0:F.flag})]}),P&&u.jsx("div",{className:"absolute top-full right-0 mt-1 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-1 z-[100]",children:Ec.map(S=>u.jsxs("button",{onClick:()=>{w(S.code),M(!1)},className:`w-full flex items-center gap-3 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${g===S.code?"bg-blue-50 dark:bg-blue-900/30":""}`,children:[u.jsx("span",{className:"text-xl",children:S.flag}),u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:S.name})]},S.code))})]}),u.jsx("button",{onClick:a,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:E(i?"switchToLightMode":"switchToDarkMode"),children:u.jsx("i",{className:`${i?"ri-sun-fill":"ri-moon-fill"} text-lg`})}),u.jsxs("button",{onClick:n,className:`flex items-center gap-2 px-2 md:px-4 py-2 rounded-lg transition-colors ${r?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800":"bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-800"}`,children:[u.jsx(fc,{size:18}),u.jsx("span",{className:"text-sm font-medium",children:E(r?"apiKeySet":"setApiKey")})]})]})]}),u.jsxs("div",{className:"md:hidden flex items-center justify-between gap-2",children:[u.jsx("div",{className:"flex gap-1",children:I.map(S=>u.jsx("button",{onClick:()=>t(S.id),className:`flex items-center justify-center w-10 h-10 rounded-lg transition-colors ${e===S.id?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,title:S.label,children:u.jsx(S.icon,{size:18})},S.id))}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:h,disabled:!p,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors disabled:opacity-40",title:E("undo"),children:u.jsx(_c,{size:16})}),u.jsx("button",{onClick:y,disabled:!_,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors disabled:opacity-40",title:E("redo"),children:u.jsx(xc,{size:16})}),u.jsx("button",{onClick:a,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:u.jsx("i",{className:`${i?"ri-sun-fill":"ri-moon-fill"}`})}),u.jsx("button",{onClick:n,className:`flex items-center justify-center w-9 h-9 rounded-lg ${r?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:u.jsx(fc,{size:16})}),u.jsx("button",{onClick:x,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:u.jsx(Rr,{size:16})})]})]})]})},um=({onSave:e,onClose:t,initialKey:n,language:r="en"})=>{const{t:i}=ti(r),[a,s]=W.useState(n),[o,l]=W.useState(!1),g=()=>{a.trim()&&e(a.trim())},w=k=>{k.target===k.currentTarget&&t()};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:w,children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:i("elevenLabsApiKey")}),u.jsx("button",{onClick:t,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:u.jsx(Vr,{size:20})})]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:i("apiKeyDescription")}),u.jsx("div",{className:"mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:o?"text":"password",value:a,onChange:k=>s(k.target.value),placeholder:i("apiKeyPlaceholder"),className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),u.jsx("button",{onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:o?u.jsx(Wf,{size:18}):u.jsx(M0,{size:18})})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:g,disabled:!a.trim(),className:"flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed",children:i("saveKey")}),u.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:i("cancel")})]}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4",children:[i("getApiKeyFrom")," ",u.jsx("a",{href:"https://elevenlabs.io",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"elevenlabs.io"})]})]})})},fs=[{id:"simple",name:"Simple Demo",description:"A simple 4-station demo route",fullDescription:"Four stations in a simple loop. Good for testing the announcement system.",stations:[{id:"station-1",x:300,y:200,name:"Central Station",color:"#8b5cf6"},{id:"station-2",x:450,y:200,name:"North Station",color:"#8b5cf6"},{id:"station-3",x:450,y:350,name:"East Station",color:"#8b5cf6"},{id:"station-4",x:300,y:350,name:"South Station",color:"#8b5cf6"}],lines:[{id:"demo-line",name:"Demo Line",color:"#8b5cf6",tension:.7,stations:["station-1","station-2","station-3","station-4","station-1"]}]},{id:"yamanote",name:"Yamanote Line",description:"Japan",fullDescription:"Tokyo's circular line with 21 stations. Connects major areas around central Tokyo.",stations:[{id:"tokyo",x:390,y:240,name:"Tokyo",color:"#10b981"},{id:"yurakucho",x:360,y:210,name:"Yurakucho",color:"#10b981"},{id:"shimbashi",x:330,y:180,name:"Shimbashi",color:"#10b981"},{id:"hamamatsucho",x:300,y:180,name:"Hamamatsucho",color:"#10b981"},{id:"tamachi",x:270,y:210,name:"Tamachi",color:"#10b981"},{id:"shinagawa",x:270,y:270,name:"Shinagawa",color:"#10b981"},{id:"osaki",x:270,y:330,name:"Osaki",color:"#10b981"},{id:"gotanda",x:300,y:360,name:"Gotanda",color:"#10b981"},{id:"meguro",x:330,y:390,name:"Meguro",color:"#10b981"},{id:"ebisu",x:360,y:390,name:"Ebisu",color:"#10b981"},{id:"shibuya",x:420,y:390,name:"Shibuya",color:"#10b981"},{id:"harajuku",x:450,y:360,name:"Harajuku",color:"#10b981"},{id:"yoyogi",x:480,y:330,name:"Yoyogi",color:"#10b981"},{id:"shinjuku",x:510,y:300,name:"Shinjuku",color:"#10b981"},{id:"shin-okubo",x:540,y:270,name:"Shin-Okubo",color:"#10b981"},{id:"takadanobaba",x:570,y:240,name:"Takadanobaba",color:"#10b981"},{id:"ikebukuro",x:570,y:180,name:"Ikebukuro",color:"#10b981"},{id:"uguisudani",x:510,y:120,name:"Uguisudani",color:"#10b981"},{id:"ueno",x:450,y:120,name:"Ueno",color:"#10b981"},{id:"akihabara",x:420,y:180,name:"Akihabara",color:"#10b981"},{id:"kanda",x:420,y:210,name:"Kanda",color:"#10b981"}],lines:[{id:"yamanote-line",name:"Yamanote Line",color:"#10b981",tension:.5,stations:["tokyo","yurakucho","shimbashi","hamamatsucho","tamachi","shinagawa","osaki","gotanda","meguro","ebisu","shibuya","harajuku","yoyogi","shinjuku","shin-okubo","takadanobaba","ikebukuro","uguisudani","ueno","akihabara","kanda","tokyo"]}]},{id:"chuo",name:"Chuo Line",description:"Japan",fullDescription:"East-west line through central Tokyo. Orange trains connect Tokyo Station to western suburbs.",stations:[{id:"tokyo-c",x:150,y:300,name:"Tokyo",color:"#f97316"},{id:"kanda-c",x:210,y:300,name:"Kanda",color:"#f97316"},{id:"ochanomizu",x:270,y:300,name:"Ochanomizu",color:"#f97316"},{id:"yotsuya",x:330,y:300,name:"Yotsuya",color:"#f97316"},{id:"shinjuku-c",x:390,y:300,name:"Shinjuku",color:"#f97316"},{id:"nakano",x:450,y:300,name:"Nakano",color:"#f97316"},{id:"koenji",x:510,y:300,name:"Koenji",color:"#f97316"},{id:"asagaya",x:570,y:300,name:"Asagaya",color:"#f97316"},{id:"ogikubo",x:630,y:300,name:"Ogikubo",color:"#f97316"}],lines:[{id:"chuo-line",name:"Chuo Line",color:"#f97316",tension:.3,stations:["tokyo-c","kanda-c","ochanomizu","yotsuya","shinjuku-c","nakano","koenji","asagaya","ogikubo"]}]},{id:"ginza",name:"Ginza Line",description:"Japan",fullDescription:"Tokyo's oldest subway line from 1927. Runs from Shibuya to Asakusa through Ginza and Ueno.",stations:[{id:"shibuya-g",x:150,y:450,name:"Shibuya",color:"#f59e0b"},{id:"omotesando",x:210,y:420,name:"Omotesando",color:"#f59e0b"},{id:"gaiemmae",x:270,y:390,name:"Gaiemmae",color:"#f59e0b"},{id:"aoyama-itchome",x:330,y:360,name:"Aoyama-itchome",color:"#f59e0b"},{id:"akasaka-mitsuke",x:390,y:330,name:"Akasaka-mitsuke",color:"#f59e0b"},{id:"ginza-g",x:450,y:300,name:"Ginza",color:"#f59e0b"},{id:"nihombashi",x:510,y:270,name:"Nihombashi",color:"#f59e0b"},{id:"ueno-g",x:570,y:240,name:"Ueno",color:"#f59e0b"},{id:"asakusa",x:630,y:210,name:"Asakusa",color:"#f59e0b"}],lines:[{id:"ginza-line",name:"Ginza Line",color:"#f59e0b",tension:.6,stations:["shibuya-g","omotesando","gaiemmae","aoyama-itchome","akasaka-mitsuke","ginza-g","nihombashi","ueno-g","asakusa"]}]},{id:"taiyokei",name:"Taiyokei Line",description:"Solar System train line from Mercury to Pluto in Japanese",fullDescription:"Solar system route with Japanese announcements. Stations from Mercury to Pluto.",stations:[{id:"mercury",x:100,y:250,name:"水星 (Suisei)",color:"#000000"},{id:"venus",x:160,y:220,name:"金星 (Kinsei)",color:"#000000"},{id:"earth",x:230,y:200,name:"地球中央 (Chikyū Chūō)",color:"#000000"},{id:"mars",x:310,y:190,name:"火星 (Kasei)",color:"#000000"},{id:"jupiter",x:400,y:200,name:"木星 (Mokusei)",color:"#000000"},{id:"saturn",x:490,y:220,name:"土星 (Dosei)",color:"#000000"},{id:"uranus",x:570,y:250,name:"天王星 (Ten'ōsei)",color:"#000000"},{id:"neptune",x:640,y:290,name:"海王星 (Kaiōsei)",color:"#000000"},{id:"pluto",x:700,y:340,name:"冥王星 (Meiōsei)",color:"#000000"}],lines:[{id:"taiyokei-line",name:"Taiyokei Line",color:"#000000",tension:.4,stations:["mercury","venus","earth","mars","jupiter","saturn","uranus","neptune","pluto"]}],audioAssignments:{"station-mercury":{type:"preset",filename:"Taioykei Mercury JP.mp3",name:"Mercury Arrival",transcription:"太陽系線をご利用くださいまして、ありがとうございます。 この電車は、冥王星ゆきです。停車駅は、金星、地球中央駅、火星、木星、土星、天王星、海王星、冥王星です。次は金星です。"},"between-mercury-venus":{type:"preset",filename:"Taioykei Dep Mercury JP.mp3",name:"Mercury Departure",transcription:"次は金星です。"},"station-venus":{type:"preset",filename:"Taioykei Venus JP.mp3",name:"Venus Arrival",transcription:"金星。金星。"},"between-venus-earth":{type:"preset",filename:"Taioykei Dep Venus JP.mp3",name:"Venus Departure",transcription:"次は地球中央駅です。"},"station-earth":{type:"preset",filename:"Taioykei Earth JP.mp3",name:"Earth Arrival",transcription:"地球中央駅。地球中央駅。"},"between-earth-mars":{type:"preset",filename:"Taioykei Dep Earth JP.mp3",name:"Earth Departure",transcription:"次は火星です。"},"station-mars":{type:"preset",filename:"Taioykei Mars JP.mp3",name:"Mars Arrival",transcription:"火星。火星。"},"between-mars-jupiter":{type:"preset",filename:"Taioykei Dep Mars JP.mp3",name:"Mars Departure",transcription:"次は木星です。"},"station-jupiter":{type:"preset",filename:"Taioykei Jupiter JP.mp3",name:"Jupiter Arrival",transcription:"木星。木星。"},"between-jupiter-saturn":{type:"preset",filename:"Taioykei Dep Jupiter JP.mp3",name:"Jupiter Departure",transcription:"次は土星です。"},"station-saturn":{type:"preset",filename:"Taioykei Saturn JP.mp3",name:"Saturn Arrival",transcription:"土星。土星。"},"between-saturn-uranus":{type:"preset",filename:"Taioykei Dep Saturn JP.mp3",name:"Saturn Departure",transcription:"次は天王星です。"},"station-uranus":{type:"preset",filename:"Taioykei Uranus JP.mp3",name:"Uranus Arrival",transcription:"天王星。天王星。"},"between-uranus-neptune":{type:"preset",filename:"Taioykei Dep Uranus JP.mp3",name:"Uranus Departure",transcription:"次は海王星です。"},"station-neptune":{type:"preset",filename:"Taioykei Neptune JP.mp3",name:"Neptune Arrival",transcription:"海王星。海王星。"},"between-neptune-pluto":{type:"preset",filename:"Taioykei Dep Neptune JP.mp3",name:"Neptune Departure",transcription:"次は冥王星です。"},"station-pluto":{type:"preset",filename:"Taioykei Pluto JP.mp3",name:"Pluto Arrival",transcription:"冥王星。冥王星。"}}},{id:"taiyokei-en",name:"Solar Express",description:"Solar System train line from Mercury to Pluto in English",fullDescription:"Solar system route with English announcements. Stations from Mercury to Pluto.",stations:[{id:"mercury-en",x:100,y:250,name:"Mercury",color:"#4a5568"},{id:"venus-en",x:160,y:220,name:"Venus",color:"#4a5568"},{id:"earth-en",x:230,y:200,name:"Earth",color:"#4a5568"},{id:"mars-en",x:310,y:190,name:"Mars",color:"#4a5568"},{id:"jupiter-en",x:400,y:200,name:"Jupiter",color:"#4a5568"},{id:"saturn-en",x:490,y:220,name:"Saturn",color:"#4a5568"},{id:"uranus-en",x:570,y:250,name:"Uranus",color:"#4a5568"},{id:"neptune-en",x:640,y:290,name:"Neptune",color:"#4a5568"},{id:"pluto-en",x:700,y:340,name:"Pluto",color:"#4a5568"}],lines:[{id:"taiyokei-line-en",name:"Solar Express",color:"#4a5568",tension:.4,stations:["mercury-en","venus-en","earth-en","mars-en","jupiter-en","saturn-en","uranus-en","neptune-en","pluto-en"]}],audioAssignments:{"station-mercury-en":{type:"preset",filename:"Taioykei Mercury EN.mp3",name:"Mercury Arrival",transcription:"Thank you for using the Solar Express. This train is bound for Pluto. We will stop at Venus, Earth, Mars, Jupiter, Saturn, Uranus, Neptune, and Pluto. The next station is Venus."},"between-mercury-en-venus-en":{type:"preset",filename:"Taioykei Dep Mercury EN.mp3",name:"Mercury Departure",transcription:"The next station is Venus."},"station-venus-en":{type:"preset",filename:"Taioykei Venus EN.mp3",name:"Venus Arrival",transcription:"Venus. Venus."},"between-venus-en-earth-en":{type:"preset",filename:"Taioykei Dep Venus EN.mp3",name:"Venus Departure",transcription:"The next station is Earth Central Station."},"station-earth-en":{type:"preset",filename:"Taioykei Earth EN.mp3",name:"Earth Arrival",transcription:"Earth Central Station. Earth Central Station."},"between-earth-en-mars-en":{type:"preset",filename:"Taioykei Dep Earth EN.mp3",name:"Earth Departure",transcription:"The next station is Mars."},"station-mars-en":{type:"preset",filename:"Taioykei Mars EN.mp3",name:"Mars Arrival",transcription:"Mars. Mars."},"between-mars-en-jupiter-en":{type:"preset",filename:"Taioykei Dep Mars EN.mp3",name:"Mars Departure",transcription:"The next station is Jupiter."},"station-jupiter-en":{type:"preset",filename:"Taioykei Jupiter EN.mp3",name:"Jupiter Arrival",transcription:"Jupiter. Jupiter."},"between-jupiter-en-saturn-en":{type:"preset",filename:"Taioykei Dep Jupiter EN.mp3",name:"Jupiter Departure",transcription:"The next station is Saturn."},"station-saturn-en":{type:"preset",filename:"Taioykei Saturn EN.mp3",name:"Saturn Arrival",transcription:"Saturn. Saturn."},"between-saturn-en-uranus-en":{type:"preset",filename:"Taioykei Dep Saturn EN.mp3",name:"Saturn Departure",transcription:"The next station is Uranus."},"station-uranus-en":{type:"preset",filename:"Taioykei Uranus EN.mp3",name:"Uranus Arrival",transcription:"Uranus. Uranus."},"between-uranus-en-neptune-en":{type:"preset",filename:"Taioykei Dep Uranus EN.mp3",name:"Uranus Departure",transcription:"The next station is Neptune."},"station-neptune-en":{type:"preset",filename:"Taioykei Neptune EN.mp3",name:"Neptune Arrival",transcription:"Neptune. Neptune."},"between-neptune-en-pluto-en":{type:"preset",filename:"Taioykei Dep Neptune EN.mp3",name:"Neptune Departure",transcription:"The next station is Pluto."},"station-pluto-en":{type:"preset",filename:"Taioykei Pluto EN.mp3",name:"Pluto Arrival",transcription:"Pluto. Pluto."}}}],cm=({onLoadPreset:e,currentPresetId:t,language:n="en",isMobile:r,onClose:i})=>{const{t:a}=ti(n),s=fs.find(o=>o.id===t);return u.jsxs("div",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[u.jsx($0,{size:20}),a("trainLinePresets")]}),r&&i&&u.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:u.jsx(Vr,{size:20,className:"text-gray-600 dark:text-gray-400"})})]}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:a("loadPresetHint")})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:fs.map(o=>u.jsx("button",{onClick:()=>e(o),className:`w-full text-left p-3 rounded-lg transition-all hover:border-blue-400 hover:shadow-md ${t===o.id?"btn-selected":"btn-unselected"}`,children:u.jsxs("div",{className:"flex flex-col gap-1.5",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 text-sm",children:a(o.name)}),t===o.id?u.jsx("div",{className:"px-2 py-1 bg-blue-500 text-white text-xs rounded flex-shrink-0",children:a("active")}):u.jsx(E0,{size:16,className:"text-gray-400 dark:text-gray-500 flex-shrink-0"})]}),u.jsxs("div",{className:"flex items-center justify-between mt-0.5",children:[u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:a(o.description)}),u.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-400 ml-2 flex-shrink-0",children:[u.jsx(T0,{size:12}),u.jsxs("span",{children:[o.stations.length," ",a("stations")]})]})]})]})},o.id))}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex-shrink-0",children:s&&s.fullDescription?u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:a(s.fullDescription)}):u.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["💡 ",a("clickPresetToLoad")]})})]})};function dm(){const[e,t]=W.useState([]),[n,r]=W.useState([]),[i,a]=W.useState([]),[s,o]=W.useState({}),[l,g]=W.useState({}),[w,k]=W.useState({}),[v,h]=W.useState([]),[y,p]=W.useState({}),[_,c]=W.useState("select"),[f,x]=W.useState([]),[b,j]=W.useState(sessionStorage.getItem("elevenLabsApiKey")||""),[E,P]=W.useState(!1),[M,T]=W.useState(null),[I,F]=W.useState(()=>localStorage.getItem("darkMode")==="true"),[S,$]=W.useState(1),[m,G]=W.useState(()=>localStorage.getItem("language")||"en"),[oe,U]=W.useState(!1),[V,O]=W.useState(!1),[q,R]=W.useState(!1),[A,he]=W.useState(!0),[ee,ne]=W.useState(()=>localStorage.getItem("lineStyle")||"smooth"),[Ce,De]=W.useState(()=>localStorage.getItem("gridStyle")||"dots"),[je,Ae]=W.useState([]),[me,Me]=W.useState(-1),Be=W.useRef(-1),He=W.useRef(null),[d,Z]=W.useState(!1),[H,C]=W.useState(null),[N,L]=W.useState(null),[X,J]=W.useState(!1),[B,re]=W.useState(!1),[de,ae]=W.useState(""),[ye,Re]=W.useState(null);W.useEffect(()=>{const ue=fs.find(ke=>ke.id==="simple");ue&&e.length===0&&We(ue)},[]),W.useEffect(()=>{localStorage.setItem("darkMode",I.toString());const ue=document.documentElement,ke=document.body;ue.classList.remove("dark"),ke&&ke.classList.remove("dark"),I&&(ue.classList.add("dark"),ke&&ke.classList.add("dark"))},[I]),W.useEffect(()=>{localStorage.setItem("language",m)},[m]),W.useEffect(()=>{localStorage.setItem("lineStyle",ee)},[ee]),W.useEffect(()=>{localStorage.setItem("gridStyle",Ce)},[Ce]),W.useEffect(()=>{const ue=()=>U(window.innerWidth<768);return ue(),window.addEventListener("resize",ue),()=>window.removeEventListener("resize",ue)},[]);const Se=W.useCallback(ue=>{sessionStorage.setItem("elevenLabsApiKey",ue),j(ue),P(!1)},[]),We=W.useCallback(ue=>{const _e=ue.stations.map(Dt=>({...Dt,gridIndexX:Dt.gridIndexX??Math.round(Dt.x/30),gridIndexY:Dt.gridIndexY??Math.round(Dt.y/30)})),wt={},Yt=ue.audioAssignments||{};Object.keys(Yt).forEach(Dt=>{const nn=Yt[Dt];nn.filename?wt[Dt]={...nn,url:Zf(nn.filename)}:wt[Dt]=nn});const An=wt,_t=ue.announcementTypes||{},Gt=ue.betweenSegments||{},rt=ue.uploadedAudios||[],ut={};t(_e),r(ue.lines),o(An),g(_t),k(Gt),h(rt),p(ut),Ae([{stations:_e,lines:ue.lines,audioAssignments:An,announcementTypes:_t,betweenSegments:Gt,uploadedAudios:rt,generatedAudioHistory:ut}]),Me(0),T(ue.id),x([]),a([])},[]),lt=()=>{F(!I)};W.useEffect(()=>{Be.current=me},[me]);const le=W.useCallback((ue,ke,_e,wt,Yt,An,_t)=>{const Gt={stations:structuredClone(ue),lines:structuredClone(ke),audioAssignments:structuredClone(_e),announcementTypes:structuredClone(wt),betweenSegments:structuredClone(Yt),uploadedAudios:structuredClone(An),generatedAudioHistory:structuredClone(_t)};Ae(rt=>{const ut=rt.slice(0,Be.current+1);return ut.push(Gt),ut.length>100&&ut.shift(),ut}),Me(rt=>Math.min(rt+1,99))},[]),Je=W.useCallback(ue=>{typeof ue=="function"?t(ke=>{const _e=ue(ke);return le(_e,n,s,l,w,v,y),_e}):(le(ue,n,s,l,w,v,y),t(ue))},[n,s,l,w,v,y,le]),Fe=W.useCallback(ue=>{typeof ue=="function"?r(ke=>{const _e=ue(ke);return le(e,_e,s,l,w,v,y),_e}):(le(e,ue,s,l,w,v,y),r(ue))},[e,s,l,w,v,y,le]),tn=W.useCallback(ue=>{typeof ue=="function"?o(ke=>{const _e=ue(ke);return le(e,n,_e,l,w,v,y),_e}):(le(e,n,ue,l,w,v,y),o(ue))},[e,n,l,w,v,y,le]),ht=W.useCallback(ue=>{typeof ue=="function"?g(ke=>{const _e=ue(ke);return le(e,n,s,_e,w,v,y),_e}):(le(e,n,s,ue,w,v,y),g(ue))},[e,n,s,w,v,y,le]),qe=W.useCallback(ue=>{typeof ue=="function"?k(ke=>{const _e=ue(ke);return le(e,n,s,l,_e,v,y),_e}):(le(e,n,s,l,ue,v,y),k(ue))},[e,n,s,l,v,y,le]),dn=W.useCallback(ue=>{typeof ue=="function"?h(ke=>{const _e=ue(ke);return le(e,n,s,l,w,_e,y),_e}):(le(e,n,s,l,w,ue,y),h(ue))},[e,n,s,l,w,y,le]),Ht=W.useCallback(ue=>{typeof ue=="function"?p(ke=>{const _e=ue(ke);return le(e,n,s,l,w,v,_e),_e}):(le(e,n,s,l,w,v,ue),p(ue))},[e,n,s,l,w,v,le]),Tn=W.useCallback((ue,ke)=>{const _e=typeof ue=="function"?ue(e):ue,wt=typeof ke=="function"?ke(n):ke;le(_e,wt,s,l,w,v,y),t(_e),r(wt)},[e,n,s,l,w,v,y,le]),xe=()=>{if(me>0){const ue=me-1;Me(ue);const ke=je[ue];t(ke.stations),r(ke.lines),o(ke.audioAssignments||{}),g(ke.announcementTypes||{}),k(ke.betweenSegments||{}),h(ke.uploadedAudios||[]),p(ke.generatedAudioHistory||{})}},fn=()=>{if(me<je.length-1){const ue=me+1;Me(ue);const ke=je[ue];t(ke.stations),r(ke.lines),o(ke.audioAssignments||{}),g(ke.announcementTypes||{}),k(ke.betweenSegments||{}),h(ke.uploadedAudios||[]),p(ke.generatedAudioHistory||{})}},be=W.useCallback(()=>{const ue=fs.find(ke=>ke.id==="simple");ue&&(We(ue),$(1))},[We]),$e=W.useCallback((ue,ke)=>{L(ue),J(ke)},[]);return u.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[(!oe||A)&&u.jsx(lm,{currentTool:_,onToolChange:c,onShowApiKey:()=>P(!0),hasApiKey:!!b,isDarkMode:I,onToggleDarkMode:lt,gridZoom:S,onGridZoomChange:$,onReset:be,language:m,onLanguageChange:G,lineStyle:ee,onLineStyleChange:ne,onUndo:xe,onRedo:fn,canUndo:me>0,canRedo:me<je.length-1,isMobile:oe,showMobileHeader:A,onToggleMobileHeader:()=>he(!A),showStationNumbers:d,onToggleStationNumbers:()=>Z(!d)}),E&&u.jsx(um,{onSave:Se,onClose:()=>P(!1),initialKey:b,language:m}),u.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[(!oe||V)&&u.jsx("div",{className:`${oe?"absolute left-0 top-0 bottom-0 z-20 w-64 shadow-xl":""}`,children:u.jsx(cm,{onLoadPreset:We,currentPresetId:M,language:m,isMobile:oe,onClose:()=>O(!1)})}),u.jsxs("div",{className:"flex-1 border-r border-gray-200 dark:border-gray-700 relative",children:[u.jsx(Jf,{ref:He,stations:e,setStations:Je,setStationsNoHistory:t,lines:n,setLines:Fe,setStationsAndLines:Tn,currentTool:_,setCurrentTool:c,selectedStations:f,setSelectedStations:x,gridZoom:S,onGridZoomChange:$,language:m,lineStyle:ee,onLineStyleChange:ne,gridStyle:Ce,onGridStyleChange:De,showStationNumbers:d,isMobile:oe,selectedStationId:H,playingStationId:N,isStationPlaying:X,showTranscription:B,setShowTranscription:re,currentTranscription:de,selectedLineId:ye}),oe&&u.jsxs("div",{className:"absolute bottom-4 right-4 flex flex-col gap-2 z-10",children:[!A&&u.jsx("button",{onClick:()=>he(!0),className:"bg-blue-500 text-white p-3 rounded-lg shadow-lg",title:"Show Menu",children:"☰"}),u.jsx("button",{onClick:()=>O(!V),className:"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg shadow-lg text-sm font-medium",children:V?"✕":"📋"}),u.jsx("button",{onClick:()=>R(!q),className:"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg shadow-lg text-sm font-medium",children:q?"✕":"🔊"})]})]}),(!oe||q)&&u.jsx("div",{className:`${oe?"absolute right-0 top-0 bottom-0 z-20 w-80 shadow-xl":"w-96"} flex flex-col bg-white dark:bg-gray-800`,children:u.jsx(om,{stations:e,lines:n,announcements:i,setAnnouncements:a,audioAssignments:s,setAudioAssignments:tn,announcementTypes:l,setAnnouncementTypes:ht,betweenSegments:w,setBetweenSegments:qe,uploadedAudios:v,setUploadedAudios:dn,generatedAudioHistory:y,setGeneratedAudioHistory:Ht,apiKey:b,language:m,isMobile:oe,onClose:()=>R(!1),onStationSelect:C,selectedStationId:H,showStationNumbers:d,onPlayingStationChange:$e,showTranscription:B,setShowTranscription:re,setCurrentTranscription:ae,selectedLineId:ye,setSelectedLineId:Re})})]})]})}ao.createRoot(document.getElementById("root")).render(u.jsx(ph.StrictMode,{children:u.jsx(dm,{})}));
