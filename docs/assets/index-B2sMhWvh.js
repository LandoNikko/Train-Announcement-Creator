(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ec={exports:{}},_i={},tc={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=Symbol.for("react.element"),If=Symbol.for("react.portal"),Of=Symbol.for("react.fragment"),Ff=Symbol.for("react.strict_mode"),Uf=Symbol.for("react.profiler"),Vf=Symbol.for("react.provider"),Hf=Symbol.for("react.context"),Bf=Symbol.for("react.forward_ref"),Wf=Symbol.for("react.suspense"),Qf=Symbol.for("react.memo"),Kf=Symbol.for("react.lazy"),Cs=Symbol.iterator;function Yf(e){return e===null||typeof e!="object"?null:(e=Cs&&e[Cs]||e["@@iterator"],typeof e=="function"?e:null)}var nc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rc=Object.assign,lc={};function wr(e,t,n){this.props=e,this.context=t,this.refs=lc,this.updater=n||nc}wr.prototype.isReactComponent={};wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ic(){}ic.prototype=wr.prototype;function jo(e,t,n){this.props=e,this.context=t,this.refs=lc,this.updater=n||nc}var Co=jo.prototype=new ic;Co.constructor=jo;rc(Co,wr.prototype);Co.isPureReactComponent=!0;var Ps=Array.isArray,ac=Object.prototype.hasOwnProperty,Po={current:null},oc={key:!0,ref:!0,__self:!0,__source:!0};function sc(e,t,n){var r,l={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)ac.call(t,r)&&!oc.hasOwnProperty(r)&&(l[r]=t[r]);var u=arguments.length-2;if(u===1)l.children=n;else if(1<u){for(var s=Array(u),c=0;c<u;c++)s[c]=arguments[c+2];l.children=s}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)l[r]===void 0&&(l[r]=u[r]);return{$$typeof:vl,type:e,key:i,ref:a,props:l,_owner:Po.current}}function Gf(e,t){return{$$typeof:vl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Eo(e){return typeof e=="object"&&e!==null&&e.$$typeof===vl}function Jf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Es=/\/+/g;function Zi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jf(""+e.key):t.toString(36)}function Yl(e,t,n,r,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case vl:case If:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+Zi(a,0):r,Ps(l)?(n="",e!=null&&(n=e.replace(Es,"$&/")+"/"),Yl(l,t,n,"",function(c){return c})):l!=null&&(Eo(l)&&(l=Gf(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(Es,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",Ps(e))for(var u=0;u<e.length;u++){i=e[u];var s=r+Zi(i,u);a+=Yl(i,t,n,s,l)}else if(s=Yf(e),typeof s=="function")for(e=s.call(e),u=0;!(i=e.next()).done;)i=i.value,s=r+Zi(i,u++),a+=Yl(i,t,n,s,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function bl(e,t,n){if(e==null)return e;var r=[],l=0;return Yl(e,r,"","",function(i){return t.call(n,i,l++)}),r}function Xf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},Gl={transition:null},Zf={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:Gl,ReactCurrentOwner:Po};function uc(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:bl,forEach:function(e,t,n){bl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bl(e,function(){t++}),t},toArray:function(e){return bl(e,function(t){return t})||[]},only:function(e){if(!Eo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=wr;X.Fragment=Of;X.Profiler=Uf;X.PureComponent=jo;X.StrictMode=Ff;X.Suspense=Wf;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zf;X.act=uc;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=rc({},e.props),l=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Po.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(s in t)ac.call(t,s)&&!oc.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&u!==void 0?u[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){u=Array(s);for(var c=0;c<s;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:vl,type:e.type,key:l,ref:i,props:r,_owner:a}};X.createContext=function(e){return e={$$typeof:Hf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vf,_context:e},e.Consumer=e};X.createElement=sc;X.createFactory=function(e){var t=sc.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:Bf,render:e}};X.isValidElement=Eo;X.lazy=function(e){return{$$typeof:Kf,_payload:{_status:-1,_result:e},_init:Xf}};X.memo=function(e,t){return{$$typeof:Qf,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=Gl.transition;Gl.transition={};try{e()}finally{Gl.transition=t}};X.unstable_act=uc;X.useCallback=function(e,t){return Ke.current.useCallback(e,t)};X.useContext=function(e){return Ke.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};X.useEffect=function(e,t){return Ke.current.useEffect(e,t)};X.useId=function(){return Ke.current.useId()};X.useImperativeHandle=function(e,t,n){return Ke.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return Ke.current.useMemo(e,t)};X.useReducer=function(e,t,n){return Ke.current.useReducer(e,t,n)};X.useRef=function(e){return Ke.current.useRef(e)};X.useState=function(e){return Ke.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return Ke.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return Ke.current.useTransition()};X.version="18.3.1";tc.exports=X;var k=tc.exports;const qf=Rf(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=k,tp=Symbol.for("react.element"),np=Symbol.for("react.fragment"),rp=Object.prototype.hasOwnProperty,lp=ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ip={key:!0,ref:!0,__self:!0,__source:!0};function cc(e,t,n){var r,l={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)rp.call(t,r)&&!ip.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:tp,type:e,key:i,ref:a,props:l,_owner:lp.current}}_i.Fragment=np;_i.jsx=cc;_i.jsxs=cc;ec.exports=_i;var o=ec.exports,Pa={},dc={exports:{}},ut={},fc={exports:{}},pc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,V){var B=R.length;R.push(V);e:for(;0<B;){var ee=B-1>>>1,ie=R[ee];if(0<l(ie,V))R[ee]=V,R[B]=ie,B=ee;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var V=R[0],B=R.pop();if(B!==V){R[0]=B;e:for(var ee=0,ie=R.length,de=ie>>>1;ee<de;){var ue=2*(ee+1)-1,je=R[ue],he=ue+1,Me=R[he];if(0>l(je,B))he<ie&&0>l(Me,je)?(R[ee]=Me,R[he]=B,ee=he):(R[ee]=je,R[ue]=B,ee=ue);else if(he<ie&&0>l(Me,B))R[ee]=Me,R[he]=B,ee=he;else break e}}return V}function l(R,V){var B=R.sortIndex-V.sortIndex;return B!==0?B:R.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var s=[],c=[],g=1,y=null,f=3,P=!1,C=!1,_=!1,Q=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(R){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=R)r(c),V.sortIndex=V.expirationTime,t(s,V);else break;V=n(c)}}function N(R){if(_=!1,h(R),!C)if(n(s)!==null)C=!0,J(E);else{var V=n(c);V!==null&&se(N,V.startTime-R)}}function E(R,V){C=!1,_&&(_=!1,m(A),A=-1),P=!0;var B=f;try{for(h(V),y=n(s);y!==null&&(!(y.expirationTime>V)||R&&!oe());){var ee=y.callback;if(typeof ee=="function"){y.callback=null,f=y.priorityLevel;var ie=ee(y.expirationTime<=V);V=e.unstable_now(),typeof ie=="function"?y.callback=ie:y===n(s)&&r(s),h(V)}else r(s);y=n(s)}if(y!==null)var de=!0;else{var ue=n(c);ue!==null&&se(N,ue.startTime-V),de=!1}return de}finally{y=null,f=B,P=!1}}var M=!1,b=null,A=-1,L=5,F=-1;function oe(){return!(e.unstable_now()-F<L)}function I(){if(b!==null){var R=e.unstable_now();F=R;var V=!0;try{V=b(!0,R)}finally{V?le():(M=!1,b=null)}}else M=!1}var le;if(typeof d=="function")le=function(){d(I)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Se=q.port2;q.port1.onmessage=I,le=function(){Se.postMessage(null)}}else le=function(){Q(I,0)};function J(R){b=R,M||(M=!0,le())}function se(R,V){A=Q(function(){R(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){C||P||(C=!0,J(E))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var B=f;f=V;try{return R()}finally{f=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,V){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=f;f=R;try{return V()}finally{f=B}},e.unstable_scheduleCallback=function(R,V,B){var ee=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ee+B:ee):B=ee,R){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=B+ie,R={id:g++,callback:V,priorityLevel:R,startTime:B,expirationTime:ie,sortIndex:-1},B>ee?(R.sortIndex=B,t(c,R),n(s)===null&&R===n(c)&&(_?(m(A),A=-1):_=!0,se(N,B-ee))):(R.sortIndex=ie,t(s,R),C||P||(C=!0,J(E))),R},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(R){var V=f;return function(){var B=f;f=V;try{return R.apply(this,arguments)}finally{f=B}}}})(pc);fc.exports=pc;var ap=fc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op=k,st=ap;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mc=new Set,nl={};function On(e,t){mr(e,t),mr(e+"Capture",t)}function mr(e,t){for(nl[e]=t,e=0;e<t.length;e++)mc.add(t[e])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ea=Object.prototype.hasOwnProperty,sp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bs={},Ts={};function up(e){return Ea.call(Ts,e)?!0:Ea.call(bs,e)?!1:sp.test(e)?Ts[e]=!0:(bs[e]=!0,!1)}function cp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dp(e,t,n,r){if(t===null||typeof t>"u"||cp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,n,r,l,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var bo=/[\-:]([a-z])/g;function To(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bo,To);$e[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bo,To);$e[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bo,To);$e[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function _o(e,t,n,r){var l=$e.hasOwnProperty(t)?$e[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dp(t,n,l,r)&&(n=null),r||l===null?up(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var qt=op.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tl=Symbol.for("react.element"),Gn=Symbol.for("react.portal"),Jn=Symbol.for("react.fragment"),Mo=Symbol.for("react.strict_mode"),ba=Symbol.for("react.profiler"),hc=Symbol.for("react.provider"),yc=Symbol.for("react.context"),Lo=Symbol.for("react.forward_ref"),Ta=Symbol.for("react.suspense"),_a=Symbol.for("react.suspense_list"),zo=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),gc=Symbol.for("react.offscreen"),_s=Symbol.iterator;function Lr(e){return e===null||typeof e!="object"?null:(e=_s&&e[_s]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,qi;function Ur(e){if(qi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qi=t&&t[1]||""}return`
`+qi+e}var ea=!1;function ta(e,t){if(!e||ea)return"";ea=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),i=r.stack.split(`
`),a=l.length-1,u=i.length-1;1<=a&&0<=u&&l[a]!==i[u];)u--;for(;1<=a&&0<=u;a--,u--)if(l[a]!==i[u]){if(a!==1||u!==1)do if(a--,u--,0>u||l[a]!==i[u]){var s=`
`+l[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=a&&0<=u);break}}}finally{ea=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ur(e):""}function fp(e){switch(e.tag){case 5:return Ur(e.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 2:case 15:return e=ta(e.type,!1),e;case 11:return e=ta(e.type.render,!1),e;case 1:return e=ta(e.type,!0),e;default:return""}}function Ma(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jn:return"Fragment";case Gn:return"Portal";case ba:return"Profiler";case Mo:return"StrictMode";case Ta:return"Suspense";case _a:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yc:return(e.displayName||"Context")+".Consumer";case hc:return(e._context.displayName||"Context")+".Provider";case Lo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zo:return t=e.displayName||null,t!==null?t:Ma(e.type)||"Memo";case nn:t=e._payload,e=e._init;try{return Ma(e(t))}catch{}}return null}function pp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ma(t);case 8:return t===Mo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mp(e){var t=xc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _l(e){e._valueTracker||(e._valueTracker=mp(e))}function vc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function La(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ms(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kc(e,t){t=t.checked,t!=null&&_o(e,"checked",t,!1)}function za(e,t){kc(e,t);var n=gn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Aa(e,t.type,n):t.hasOwnProperty("defaultValue")&&Aa(e,t.type,gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ls(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Aa(e,t,n){(t!=="number"||ai(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vr=Array.isArray;function or(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Da(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zs(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(Vr(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gn(n)}}function wc(e,t){var n=gn(t.value),r=gn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function As(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $a(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ml,Nc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ml=Ml||document.createElement("div"),Ml.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ml.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hp=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(e){hp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kr[t]=Kr[e]})});function jc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kr.hasOwnProperty(e)&&Kr[e]?(""+t).trim():t+"px"}function Cc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=jc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var yp=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ra(e,t){if(t){if(yp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Ia(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oa=null;function Ao(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fa=null,sr=null,ur=null;function Ds(e){if(e=Sl(e)){if(typeof Fa!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Di(t),Fa(e.stateNode,e.type,t))}}function Pc(e){sr?ur?ur.push(e):ur=[e]:sr=e}function Ec(){if(sr){var e=sr,t=ur;if(ur=sr=null,Ds(e),t)for(e=0;e<t.length;e++)Ds(t[e])}}function bc(e,t){return e(t)}function Tc(){}var na=!1;function _c(e,t,n){if(na)return e(t,n);na=!0;try{return bc(e,t,n)}finally{na=!1,(sr!==null||ur!==null)&&(Tc(),Ec())}}function ll(e,t){var n=e.stateNode;if(n===null)return null;var r=Di(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var Ua=!1;if(Gt)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{Ua=!1}function gp(e,t,n,r,l,i,a,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(g){this.onError(g)}}var Yr=!1,oi=null,si=!1,Va=null,xp={onError:function(e){Yr=!0,oi=e}};function vp(e,t,n,r,l,i,a,u,s){Yr=!1,oi=null,gp.apply(xp,arguments)}function kp(e,t,n,r,l,i,a,u,s){if(vp.apply(this,arguments),Yr){if(Yr){var c=oi;Yr=!1,oi=null}else throw Error(z(198));si||(si=!0,Va=c)}}function Fn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $s(e){if(Fn(e)!==e)throw Error(z(188))}function wp(e){var t=e.alternate;if(!t){if(t=Fn(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return $s(l),e;if(i===r)return $s(l),t;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=l,r=i;else{for(var a=!1,u=l.child;u;){if(u===n){a=!0,n=l,r=i;break}if(u===r){a=!0,r=l,n=i;break}u=u.sibling}if(!a){for(u=i.child;u;){if(u===n){a=!0,n=i,r=l;break}if(u===r){a=!0,r=i,n=l;break}u=u.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function Lc(e){return e=wp(e),e!==null?zc(e):null}function zc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zc(e);if(t!==null)return t;e=e.sibling}return null}var Ac=st.unstable_scheduleCallback,Rs=st.unstable_cancelCallback,Sp=st.unstable_shouldYield,Np=st.unstable_requestPaint,Ce=st.unstable_now,jp=st.unstable_getCurrentPriorityLevel,Do=st.unstable_ImmediatePriority,Dc=st.unstable_UserBlockingPriority,ui=st.unstable_NormalPriority,Cp=st.unstable_LowPriority,$c=st.unstable_IdlePriority,Mi=null,Ft=null;function Pp(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Mi,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:Tp,Ep=Math.log,bp=Math.LN2;function Tp(e){return e>>>=0,e===0?32:31-(Ep(e)/bp|0)|0}var Ll=64,zl=4194304;function Hr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ci(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var u=a&~l;u!==0?r=Hr(u):(i&=a,i!==0&&(r=Hr(i)))}else a=n&~l,a!==0?r=Hr(a):i!==0&&(r=Hr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tt(t),l=1<<n,r|=e[n],t&=~l;return r}function _p(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Tt(i),u=1<<a,s=l[a];s===-1?(!(u&n)||u&r)&&(l[a]=_p(u,t)):s<=t&&(e.expiredLanes|=u),i&=~u}}function Ha(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rc(){var e=Ll;return Ll<<=1,!(Ll&4194240)&&(Ll=64),e}function ra(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tt(t),e[t]=n}function Lp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Tt(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function $o(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ae=0;function Ic(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Oc,Ro,Fc,Uc,Vc,Ba=!1,Al=[],un=null,cn=null,dn=null,il=new Map,al=new Map,ln=[],zp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Is(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(t.pointerId)}}function Ar(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Sl(t),t!==null&&Ro(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Ap(e,t,n,r,l){switch(t){case"focusin":return un=Ar(un,e,t,n,r,l),!0;case"dragenter":return cn=Ar(cn,e,t,n,r,l),!0;case"mouseover":return dn=Ar(dn,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return il.set(i,Ar(il.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,al.set(i,Ar(al.get(i)||null,e,t,n,r,l)),!0}return!1}function Hc(e){var t=Tn(e.target);if(t!==null){var n=Fn(t);if(n!==null){if(t=n.tag,t===13){if(t=Mc(n),t!==null){e.blockedOn=t,Vc(e.priority,function(){Fc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Oa=r,n.target.dispatchEvent(r),Oa=null}else return t=Sl(n),t!==null&&Ro(t),e.blockedOn=n,!1;t.shift()}return!0}function Os(e,t,n){Jl(e)&&n.delete(t)}function Dp(){Ba=!1,un!==null&&Jl(un)&&(un=null),cn!==null&&Jl(cn)&&(cn=null),dn!==null&&Jl(dn)&&(dn=null),il.forEach(Os),al.forEach(Os)}function Dr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ba||(Ba=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,Dp)))}function ol(e){function t(l){return Dr(l,e)}if(0<Al.length){Dr(Al[0],e);for(var n=1;n<Al.length;n++){var r=Al[n];r.blockedOn===e&&(r.blockedOn=null)}}for(un!==null&&Dr(un,e),cn!==null&&Dr(cn,e),dn!==null&&Dr(dn,e),il.forEach(t),al.forEach(t),n=0;n<ln.length;n++)r=ln[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ln.length&&(n=ln[0],n.blockedOn===null);)Hc(n),n.blockedOn===null&&ln.shift()}var cr=qt.ReactCurrentBatchConfig,di=!0;function $p(e,t,n,r){var l=ae,i=cr.transition;cr.transition=null;try{ae=1,Io(e,t,n,r)}finally{ae=l,cr.transition=i}}function Rp(e,t,n,r){var l=ae,i=cr.transition;cr.transition=null;try{ae=4,Io(e,t,n,r)}finally{ae=l,cr.transition=i}}function Io(e,t,n,r){if(di){var l=Wa(e,t,n,r);if(l===null)pa(e,t,r,fi,n),Is(e,r);else if(Ap(l,e,t,n,r))r.stopPropagation();else if(Is(e,r),t&4&&-1<zp.indexOf(e)){for(;l!==null;){var i=Sl(l);if(i!==null&&Oc(i),i=Wa(e,t,n,r),i===null&&pa(e,t,r,fi,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else pa(e,t,r,null,n)}}var fi=null;function Wa(e,t,n,r){if(fi=null,e=Ao(r),e=Tn(e),e!==null)if(t=Fn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fi=e,null}function Bc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jp()){case Do:return 1;case Dc:return 4;case ui:case Cp:return 16;case $c:return 536870912;default:return 16}default:return 16}}var on=null,Oo=null,Xl=null;function Wc(){if(Xl)return Xl;var e,t=Oo,n=t.length,r,l="value"in on?on.value:on.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[i-r];r++);return Xl=l.slice(e,1<r?1-r:void 0)}function Zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dl(){return!0}function Fs(){return!1}function ct(e){function t(n,r,l,i,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Dl:Fs,this.isPropagationStopped=Fs,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),t}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=ct(Sr),wl=we({},Sr,{view:0,detail:0}),Ip=ct(wl),la,ia,$r,Li=we({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$r&&($r&&e.type==="mousemove"?(la=e.screenX-$r.screenX,ia=e.screenY-$r.screenY):ia=la=0,$r=e),la)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),Us=ct(Li),Op=we({},Li,{dataTransfer:0}),Fp=ct(Op),Up=we({},wl,{relatedTarget:0}),aa=ct(Up),Vp=we({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hp=ct(Vp),Bp=we({},Sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wp=ct(Bp),Qp=we({},Sr,{data:0}),Vs=ct(Qp),Kp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gp[e])?!!t[e]:!1}function Uo(){return Jp}var Xp=we({},wl,{key:function(e){if(e.key){var t=Kp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uo,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zp=ct(Xp),qp=we({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hs=ct(qp),e0=we({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uo}),t0=ct(e0),n0=we({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),r0=ct(n0),l0=we({},Li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),i0=ct(l0),a0=[9,13,27,32],Vo=Gt&&"CompositionEvent"in window,Gr=null;Gt&&"documentMode"in document&&(Gr=document.documentMode);var o0=Gt&&"TextEvent"in window&&!Gr,Qc=Gt&&(!Vo||Gr&&8<Gr&&11>=Gr),Bs=" ",Ws=!1;function Kc(e,t){switch(e){case"keyup":return a0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xn=!1;function s0(e,t){switch(e){case"compositionend":return Yc(t);case"keypress":return t.which!==32?null:(Ws=!0,Bs);case"textInput":return e=t.data,e===Bs&&Ws?null:e;default:return null}}function u0(e,t){if(Xn)return e==="compositionend"||!Vo&&Kc(e,t)?(e=Wc(),Xl=Oo=on=null,Xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qc&&t.locale!=="ko"?null:t.data;default:return null}}var c0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!c0[e.type]:t==="textarea"}function Gc(e,t,n,r){Pc(r),t=pi(t,"onChange"),0<t.length&&(n=new Fo("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jr=null,sl=null;function d0(e){ad(e,0)}function zi(e){var t=er(e);if(vc(t))return e}function f0(e,t){if(e==="change")return t}var Jc=!1;if(Gt){var oa;if(Gt){var sa="oninput"in document;if(!sa){var Ks=document.createElement("div");Ks.setAttribute("oninput","return;"),sa=typeof Ks.oninput=="function"}oa=sa}else oa=!1;Jc=oa&&(!document.documentMode||9<document.documentMode)}function Ys(){Jr&&(Jr.detachEvent("onpropertychange",Xc),sl=Jr=null)}function Xc(e){if(e.propertyName==="value"&&zi(sl)){var t=[];Gc(t,sl,e,Ao(e)),_c(d0,t)}}function p0(e,t,n){e==="focusin"?(Ys(),Jr=t,sl=n,Jr.attachEvent("onpropertychange",Xc)):e==="focusout"&&Ys()}function m0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zi(sl)}function h0(e,t){if(e==="click")return zi(t)}function y0(e,t){if(e==="input"||e==="change")return zi(t)}function g0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:g0;function ul(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Ea.call(t,l)||!Mt(e[l],t[l]))return!1}return!0}function Gs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Js(e,t){var n=Gs(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gs(n)}}function Zc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qc(){for(var e=window,t=ai();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ai(e.document)}return t}function Ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function x0(e){var t=qc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zc(n.ownerDocument.documentElement,n)){if(r!==null&&Ho(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=Js(n,i);var a=Js(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var v0=Gt&&"documentMode"in document&&11>=document.documentMode,Zn=null,Qa=null,Xr=null,Ka=!1;function Xs(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ka||Zn==null||Zn!==ai(r)||(r=Zn,"selectionStart"in r&&Ho(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xr&&ul(Xr,r)||(Xr=r,r=pi(Qa,"onSelect"),0<r.length&&(t=new Fo("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zn)))}function $l(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qn={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},ua={},ed={};Gt&&(ed=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function Ai(e){if(ua[e])return ua[e];if(!qn[e])return e;var t=qn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ed)return ua[e]=t[n];return e}var td=Ai("animationend"),nd=Ai("animationiteration"),rd=Ai("animationstart"),ld=Ai("transitionend"),id=new Map,Zs="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(e,t){id.set(e,t),On(t,[e])}for(var ca=0;ca<Zs.length;ca++){var da=Zs[ca],k0=da.toLowerCase(),w0=da[0].toUpperCase()+da.slice(1);vn(k0,"on"+w0)}vn(td,"onAnimationEnd");vn(nd,"onAnimationIteration");vn(rd,"onAnimationStart");vn("dblclick","onDoubleClick");vn("focusin","onFocus");vn("focusout","onBlur");vn(ld,"onTransitionEnd");mr("onMouseEnter",["mouseout","mouseover"]);mr("onMouseLeave",["mouseout","mouseover"]);mr("onPointerEnter",["pointerout","pointerover"]);mr("onPointerLeave",["pointerout","pointerover"]);On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));On("onBeforeInput",["compositionend","keypress","textInput","paste"]);On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function qs(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,kp(r,t,void 0,e),e.currentTarget=null}function ad(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==i&&l.isPropagationStopped())break e;qs(l,u,c),i=s}else for(a=0;a<r.length;a++){if(u=r[a],s=u.instance,c=u.currentTarget,u=u.listener,s!==i&&l.isPropagationStopped())break e;qs(l,u,c),i=s}}}if(si)throw e=Va,si=!1,Va=null,e}function pe(e,t){var n=t[Za];n===void 0&&(n=t[Za]=new Set);var r=e+"__bubble";n.has(r)||(od(t,e,2,!1),n.add(r))}function fa(e,t,n){var r=0;t&&(r|=4),od(n,e,r,t)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function cl(e){if(!e[Rl]){e[Rl]=!0,mc.forEach(function(n){n!=="selectionchange"&&(S0.has(n)||fa(n,!1,e),fa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rl]||(t[Rl]=!0,fa("selectionchange",!1,t))}}function od(e,t,n,r){switch(Bc(t)){case 1:var l=$p;break;case 4:l=Rp;break;default:l=Io}n=l.bind(null,t,n,e),l=void 0,!Ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function pa(e,t,n,r,l){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var s=a.tag;if((s===3||s===4)&&(s=a.stateNode.containerInfo,s===l||s.nodeType===8&&s.parentNode===l))return;a=a.return}for(;u!==null;){if(a=Tn(u),a===null)return;if(s=a.tag,s===5||s===6){r=i=a;continue e}u=u.parentNode}}r=r.return}_c(function(){var c=i,g=Ao(n),y=[];e:{var f=id.get(e);if(f!==void 0){var P=Fo,C=e;switch(e){case"keypress":if(Zl(n)===0)break e;case"keydown":case"keyup":P=Zp;break;case"focusin":C="focus",P=aa;break;case"focusout":C="blur",P=aa;break;case"beforeblur":case"afterblur":P=aa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=t0;break;case td:case nd:case rd:P=Hp;break;case ld:P=r0;break;case"scroll":P=Ip;break;case"wheel":P=i0;break;case"copy":case"cut":case"paste":P=Wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Hs}var _=(t&4)!==0,Q=!_&&e==="scroll",m=_?f!==null?f+"Capture":null:f;_=[];for(var d=c,h;d!==null;){h=d;var N=h.stateNode;if(h.tag===5&&N!==null&&(h=N,m!==null&&(N=ll(d,m),N!=null&&_.push(dl(d,N,h)))),Q)break;d=d.return}0<_.length&&(f=new P(f,C,null,n,g),y.push({event:f,listeners:_}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",f&&n!==Oa&&(C=n.relatedTarget||n.fromElement)&&(Tn(C)||C[Jt]))break e;if((P||f)&&(f=g.window===g?g:(f=g.ownerDocument)?f.defaultView||f.parentWindow:window,P?(C=n.relatedTarget||n.toElement,P=c,C=C?Tn(C):null,C!==null&&(Q=Fn(C),C!==Q||C.tag!==5&&C.tag!==6)&&(C=null)):(P=null,C=c),P!==C)){if(_=Us,N="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(_=Hs,N="onPointerLeave",m="onPointerEnter",d="pointer"),Q=P==null?f:er(P),h=C==null?f:er(C),f=new _(N,d+"leave",P,n,g),f.target=Q,f.relatedTarget=h,N=null,Tn(g)===c&&(_=new _(m,d+"enter",C,n,g),_.target=h,_.relatedTarget=Q,N=_),Q=N,P&&C)t:{for(_=P,m=C,d=0,h=_;h;h=Qn(h))d++;for(h=0,N=m;N;N=Qn(N))h++;for(;0<d-h;)_=Qn(_),d--;for(;0<h-d;)m=Qn(m),h--;for(;d--;){if(_===m||m!==null&&_===m.alternate)break t;_=Qn(_),m=Qn(m)}_=null}else _=null;P!==null&&eu(y,f,P,_,!1),C!==null&&Q!==null&&eu(y,Q,C,_,!0)}}e:{if(f=c?er(c):window,P=f.nodeName&&f.nodeName.toLowerCase(),P==="select"||P==="input"&&f.type==="file")var E=f0;else if(Qs(f))if(Jc)E=y0;else{E=m0;var M=p0}else(P=f.nodeName)&&P.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=h0);if(E&&(E=E(e,c))){Gc(y,E,n,g);break e}M&&M(e,f,c),e==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Aa(f,"number",f.value)}switch(M=c?er(c):window,e){case"focusin":(Qs(M)||M.contentEditable==="true")&&(Zn=M,Qa=c,Xr=null);break;case"focusout":Xr=Qa=Zn=null;break;case"mousedown":Ka=!0;break;case"contextmenu":case"mouseup":case"dragend":Ka=!1,Xs(y,n,g);break;case"selectionchange":if(v0)break;case"keydown":case"keyup":Xs(y,n,g)}var b;if(Vo)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Xn?Kc(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Qc&&n.locale!=="ko"&&(Xn||A!=="onCompositionStart"?A==="onCompositionEnd"&&Xn&&(b=Wc()):(on=g,Oo="value"in on?on.value:on.textContent,Xn=!0)),M=pi(c,A),0<M.length&&(A=new Vs(A,e,null,n,g),y.push({event:A,listeners:M}),b?A.data=b:(b=Yc(n),b!==null&&(A.data=b)))),(b=o0?s0(e,n):u0(e,n))&&(c=pi(c,"onBeforeInput"),0<c.length&&(g=new Vs("onBeforeInput","beforeinput",null,n,g),y.push({event:g,listeners:c}),g.data=b))}ad(y,t)})}function dl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pi(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=ll(e,n),i!=null&&r.unshift(dl(e,i,l)),i=ll(e,t),i!=null&&r.push(dl(e,i,l))),e=e.return}return r}function Qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function eu(e,t,n,r,l){for(var i=t._reactName,a=[];n!==null&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(s!==null&&s===r)break;u.tag===5&&c!==null&&(u=c,l?(s=ll(n,i),s!=null&&a.unshift(dl(n,s,u))):l||(s=ll(n,i),s!=null&&a.push(dl(n,s,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var N0=/\r\n?/g,j0=/\u0000|\uFFFD/g;function tu(e){return(typeof e=="string"?e:""+e).replace(N0,`
`).replace(j0,"")}function Il(e,t,n){if(t=tu(t),tu(e)!==t&&n)throw Error(z(425))}function mi(){}var Ya=null,Ga=null;function Ja(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xa=typeof setTimeout=="function"?setTimeout:void 0,C0=typeof clearTimeout=="function"?clearTimeout:void 0,nu=typeof Promise=="function"?Promise:void 0,P0=typeof queueMicrotask=="function"?queueMicrotask:typeof nu<"u"?function(e){return nu.resolve(null).then(e).catch(E0)}:Xa;function E0(e){setTimeout(function(){throw e})}function ma(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),ol(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);ol(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ru(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nr=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Nr,fl="__reactProps$"+Nr,Jt="__reactContainer$"+Nr,Za="__reactEvents$"+Nr,b0="__reactListeners$"+Nr,T0="__reactHandles$"+Nr;function Tn(e){var t=e[Ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jt]||n[Ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ru(e);e!==null;){if(n=e[Ot])return n;e=ru(e)}return t}e=n,n=e.parentNode}return null}function Sl(e){return e=e[Ot]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Di(e){return e[fl]||null}var qa=[],tr=-1;function kn(e){return{current:e}}function me(e){0>tr||(e.current=qa[tr],qa[tr]=null,tr--)}function ce(e,t){tr++,qa[tr]=e.current,e.current=t}var xn={},Ue=kn(xn),tt=kn(!1),An=xn;function hr(e,t){var n=e.type.contextTypes;if(!n)return xn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function nt(e){return e=e.childContextTypes,e!=null}function hi(){me(tt),me(Ue)}function lu(e,t,n){if(Ue.current!==xn)throw Error(z(168));ce(Ue,t),ce(tt,n)}function sd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(z(108,pp(e)||"Unknown",l));return we({},n,r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xn,An=Ue.current,ce(Ue,e),ce(tt,tt.current),!0}function iu(e,t,n){var r=e.stateNode;if(!r)throw Error(z(169));n?(e=sd(e,t,An),r.__reactInternalMemoizedMergedChildContext=e,me(tt),me(Ue),ce(Ue,e)):me(tt),ce(tt,n)}var Wt=null,$i=!1,ha=!1;function ud(e){Wt===null?Wt=[e]:Wt.push(e)}function _0(e){$i=!0,ud(e)}function wn(){if(!ha&&Wt!==null){ha=!0;var e=0,t=ae;try{var n=Wt;for(ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wt=null,$i=!1}catch(l){throw Wt!==null&&(Wt=Wt.slice(e+1)),Ac(Do,wn),l}finally{ae=t,ha=!1}}return null}var nr=[],rr=0,gi=null,xi=0,gt=[],xt=0,Dn=null,Qt=1,Kt="";function Pn(e,t){nr[rr++]=xi,nr[rr++]=gi,gi=e,xi=t}function cd(e,t,n){gt[xt++]=Qt,gt[xt++]=Kt,gt[xt++]=Dn,Dn=e;var r=Qt;e=Kt;var l=32-Tt(r)-1;r&=~(1<<l),n+=1;var i=32-Tt(t)+l;if(30<i){var a=l-l%5;i=(r&(1<<a)-1).toString(32),r>>=a,l-=a,Qt=1<<32-Tt(t)+l|n<<l|r,Kt=i+e}else Qt=1<<i|n<<l|r,Kt=e}function Bo(e){e.return!==null&&(Pn(e,1),cd(e,1,0))}function Wo(e){for(;e===gi;)gi=nr[--rr],nr[rr]=null,xi=nr[--rr],nr[rr]=null;for(;e===Dn;)Dn=gt[--xt],gt[xt]=null,Kt=gt[--xt],gt[xt]=null,Qt=gt[--xt],gt[xt]=null}var ot=null,at=null,ye=!1,bt=null;function dd(e,t){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function au(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,at=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dn!==null?{id:Qt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ot=e,at=null,!0):!1;default:return!1}}function eo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function to(e){if(ye){var t=at;if(t){var n=t;if(!au(e,t)){if(eo(e))throw Error(z(418));t=fn(n.nextSibling);var r=ot;t&&au(e,t)?dd(r,n):(e.flags=e.flags&-4097|2,ye=!1,ot=e)}}else{if(eo(e))throw Error(z(418));e.flags=e.flags&-4097|2,ye=!1,ot=e}}}function ou(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function Ol(e){if(e!==ot)return!1;if(!ye)return ou(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ja(e.type,e.memoizedProps)),t&&(t=at)){if(eo(e))throw fd(),Error(z(418));for(;t;)dd(e,t),t=fn(t.nextSibling)}if(ou(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){at=fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}at=null}}else at=ot?fn(e.stateNode.nextSibling):null;return!0}function fd(){for(var e=at;e;)e=fn(e.nextSibling)}function yr(){at=ot=null,ye=!1}function Qo(e){bt===null?bt=[e]:bt.push(e)}var M0=qt.ReactCurrentBatchConfig;function Rr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var u=l.refs;a===null?delete u[i]:u[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function Fl(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function su(e){var t=e._init;return t(e._payload)}function pd(e){function t(m,d){if(e){var h=m.deletions;h===null?(m.deletions=[d],m.flags|=16):h.push(d)}}function n(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function r(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function l(m,d){return m=yn(m,d),m.index=0,m.sibling=null,m}function i(m,d,h){return m.index=h,e?(h=m.alternate,h!==null?(h=h.index,h<d?(m.flags|=2,d):h):(m.flags|=2,d)):(m.flags|=1048576,d)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function u(m,d,h,N){return d===null||d.tag!==6?(d=Sa(h,m.mode,N),d.return=m,d):(d=l(d,h),d.return=m,d)}function s(m,d,h,N){var E=h.type;return E===Jn?g(m,d,h.props.children,N,h.key):d!==null&&(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===nn&&su(E)===d.type)?(N=l(d,h.props),N.ref=Rr(m,d,h),N.return=m,N):(N=ii(h.type,h.key,h.props,null,m.mode,N),N.ref=Rr(m,d,h),N.return=m,N)}function c(m,d,h,N){return d===null||d.tag!==4||d.stateNode.containerInfo!==h.containerInfo||d.stateNode.implementation!==h.implementation?(d=Na(h,m.mode,N),d.return=m,d):(d=l(d,h.children||[]),d.return=m,d)}function g(m,d,h,N,E){return d===null||d.tag!==7?(d=zn(h,m.mode,N,E),d.return=m,d):(d=l(d,h),d.return=m,d)}function y(m,d,h){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Sa(""+d,m.mode,h),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Tl:return h=ii(d.type,d.key,d.props,null,m.mode,h),h.ref=Rr(m,null,d),h.return=m,h;case Gn:return d=Na(d,m.mode,h),d.return=m,d;case nn:var N=d._init;return y(m,N(d._payload),h)}if(Vr(d)||Lr(d))return d=zn(d,m.mode,h,null),d.return=m,d;Fl(m,d)}return null}function f(m,d,h,N){var E=d!==null?d.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return E!==null?null:u(m,d,""+h,N);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Tl:return h.key===E?s(m,d,h,N):null;case Gn:return h.key===E?c(m,d,h,N):null;case nn:return E=h._init,f(m,d,E(h._payload),N)}if(Vr(h)||Lr(h))return E!==null?null:g(m,d,h,N,null);Fl(m,h)}return null}function P(m,d,h,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return m=m.get(h)||null,u(d,m,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Tl:return m=m.get(N.key===null?h:N.key)||null,s(d,m,N,E);case Gn:return m=m.get(N.key===null?h:N.key)||null,c(d,m,N,E);case nn:var M=N._init;return P(m,d,h,M(N._payload),E)}if(Vr(N)||Lr(N))return m=m.get(h)||null,g(d,m,N,E,null);Fl(d,N)}return null}function C(m,d,h,N){for(var E=null,M=null,b=d,A=d=0,L=null;b!==null&&A<h.length;A++){b.index>A?(L=b,b=null):L=b.sibling;var F=f(m,b,h[A],N);if(F===null){b===null&&(b=L);break}e&&b&&F.alternate===null&&t(m,b),d=i(F,d,A),M===null?E=F:M.sibling=F,M=F,b=L}if(A===h.length)return n(m,b),ye&&Pn(m,A),E;if(b===null){for(;A<h.length;A++)b=y(m,h[A],N),b!==null&&(d=i(b,d,A),M===null?E=b:M.sibling=b,M=b);return ye&&Pn(m,A),E}for(b=r(m,b);A<h.length;A++)L=P(b,m,A,h[A],N),L!==null&&(e&&L.alternate!==null&&b.delete(L.key===null?A:L.key),d=i(L,d,A),M===null?E=L:M.sibling=L,M=L);return e&&b.forEach(function(oe){return t(m,oe)}),ye&&Pn(m,A),E}function _(m,d,h,N){var E=Lr(h);if(typeof E!="function")throw Error(z(150));if(h=E.call(h),h==null)throw Error(z(151));for(var M=E=null,b=d,A=d=0,L=null,F=h.next();b!==null&&!F.done;A++,F=h.next()){b.index>A?(L=b,b=null):L=b.sibling;var oe=f(m,b,F.value,N);if(oe===null){b===null&&(b=L);break}e&&b&&oe.alternate===null&&t(m,b),d=i(oe,d,A),M===null?E=oe:M.sibling=oe,M=oe,b=L}if(F.done)return n(m,b),ye&&Pn(m,A),E;if(b===null){for(;!F.done;A++,F=h.next())F=y(m,F.value,N),F!==null&&(d=i(F,d,A),M===null?E=F:M.sibling=F,M=F);return ye&&Pn(m,A),E}for(b=r(m,b);!F.done;A++,F=h.next())F=P(b,m,A,F.value,N),F!==null&&(e&&F.alternate!==null&&b.delete(F.key===null?A:F.key),d=i(F,d,A),M===null?E=F:M.sibling=F,M=F);return e&&b.forEach(function(I){return t(m,I)}),ye&&Pn(m,A),E}function Q(m,d,h,N){if(typeof h=="object"&&h!==null&&h.type===Jn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Tl:e:{for(var E=h.key,M=d;M!==null;){if(M.key===E){if(E=h.type,E===Jn){if(M.tag===7){n(m,M.sibling),d=l(M,h.props.children),d.return=m,m=d;break e}}else if(M.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===nn&&su(E)===M.type){n(m,M.sibling),d=l(M,h.props),d.ref=Rr(m,M,h),d.return=m,m=d;break e}n(m,M);break}else t(m,M);M=M.sibling}h.type===Jn?(d=zn(h.props.children,m.mode,N,h.key),d.return=m,m=d):(N=ii(h.type,h.key,h.props,null,m.mode,N),N.ref=Rr(m,d,h),N.return=m,m=N)}return a(m);case Gn:e:{for(M=h.key;d!==null;){if(d.key===M)if(d.tag===4&&d.stateNode.containerInfo===h.containerInfo&&d.stateNode.implementation===h.implementation){n(m,d.sibling),d=l(d,h.children||[]),d.return=m,m=d;break e}else{n(m,d);break}else t(m,d);d=d.sibling}d=Na(h,m.mode,N),d.return=m,m=d}return a(m);case nn:return M=h._init,Q(m,d,M(h._payload),N)}if(Vr(h))return C(m,d,h,N);if(Lr(h))return _(m,d,h,N);Fl(m,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,d!==null&&d.tag===6?(n(m,d.sibling),d=l(d,h),d.return=m,m=d):(n(m,d),d=Sa(h,m.mode,N),d.return=m,m=d),a(m)):n(m,d)}return Q}var gr=pd(!0),md=pd(!1),vi=kn(null),ki=null,lr=null,Ko=null;function Yo(){Ko=lr=ki=null}function Go(e){var t=vi.current;me(vi),e._currentValue=t}function no(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function dr(e,t){ki=e,Ko=lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(Ko!==e)if(e={context:e,memoizedValue:t,next:null},lr===null){if(ki===null)throw Error(z(308));lr=e,ki.dependencies={lanes:0,firstContext:e}}else lr=lr.next=e;return t}var _n=null;function Jo(e){_n===null?_n=[e]:_n.push(e)}function hd(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Jo(t)):(n.next=l.next,l.next=n),t.interleaved=n,Xt(e,r)}function Xt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rn=!1;function Xo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Xt(e,n)}return l=r.interleaved,l===null?(t.next=t,Jo(r)):(t.next=l.next,l.next=t),r.interleaved=t,Xt(e,n)}function ql(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$o(e,n)}}function uu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wi(e,t,n,r){var l=e.updateQueue;rn=!1;var i=l.firstBaseUpdate,a=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var s=u,c=s.next;s.next=null,a===null?i=c:a.next=c,a=s;var g=e.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==a&&(u===null?g.firstBaseUpdate=c:u.next=c,g.lastBaseUpdate=s))}if(i!==null){var y=l.baseState;a=0,g=c=s=null,u=i;do{var f=u.lane,P=u.eventTime;if((r&f)===f){g!==null&&(g=g.next={eventTime:P,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var C=e,_=u;switch(f=t,P=n,_.tag){case 1:if(C=_.payload,typeof C=="function"){y=C.call(P,y,f);break e}y=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=_.payload,f=typeof C=="function"?C.call(P,y,f):C,f==null)break e;y=we({},y,f);break e;case 2:rn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,f=l.effects,f===null?l.effects=[u]:f.push(u))}else P={eventTime:P,lane:f,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(c=g=P,s=y):g=g.next=P,a|=f;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;f=u,u=f.next,f.next=null,l.lastBaseUpdate=f,l.shared.pending=null}}while(!0);if(g===null&&(s=y),l.baseState=s,l.firstBaseUpdate=c,l.lastBaseUpdate=g,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Rn|=a,e.lanes=a,e.memoizedState=y}}function cu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(z(191,l));l.call(r)}}}var Nl={},Ut=kn(Nl),pl=kn(Nl),ml=kn(Nl);function Mn(e){if(e===Nl)throw Error(z(174));return e}function Zo(e,t){switch(ce(ml,t),ce(pl,e),ce(Ut,Nl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$a(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$a(t,e)}me(Ut),ce(Ut,t)}function xr(){me(Ut),me(pl),me(ml)}function gd(e){Mn(ml.current);var t=Mn(Ut.current),n=$a(t,e.type);t!==n&&(ce(pl,e),ce(Ut,n))}function qo(e){pl.current===e&&(me(Ut),me(pl))}var ve=kn(0);function Si(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ya=[];function es(){for(var e=0;e<ya.length;e++)ya[e]._workInProgressVersionPrimary=null;ya.length=0}var ei=qt.ReactCurrentDispatcher,ga=qt.ReactCurrentBatchConfig,$n=0,ke=null,Te=null,Le=null,Ni=!1,Zr=!1,hl=0,L0=0;function Ie(){throw Error(z(321))}function ts(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mt(e[n],t[n]))return!1;return!0}function ns(e,t,n,r,l,i){if($n=i,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ei.current=e===null||e.memoizedState===null?$0:R0,e=n(r,l),Zr){i=0;do{if(Zr=!1,hl=0,25<=i)throw Error(z(301));i+=1,Le=Te=null,t.updateQueue=null,ei.current=I0,e=n(r,l)}while(Zr)}if(ei.current=ji,t=Te!==null&&Te.next!==null,$n=0,Le=Te=ke=null,Ni=!1,t)throw Error(z(300));return e}function rs(){var e=hl!==0;return hl=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?ke.memoizedState=Le=e:Le=Le.next=e,Le}function St(){if(Te===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Le===null?ke.memoizedState:Le.next;if(t!==null)Le=t,Te=e;else{if(e===null)throw Error(z(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Le===null?ke.memoizedState=Le=e:Le=Le.next=e}return Le}function yl(e,t){return typeof t=="function"?t(e):t}function xa(e){var t=St(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=Te,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var a=l.next;l.next=i.next,i.next=a}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var u=a=null,s=null,c=i;do{var g=c.lane;if(($n&g)===g)s!==null&&(s=s.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var y={lane:g,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};s===null?(u=s=y,a=r):s=s.next=y,ke.lanes|=g,Rn|=g}c=c.next}while(c!==null&&c!==i);s===null?a=r:s.next=u,Mt(r,t.memoizedState)||(et=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,ke.lanes|=i,Rn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function va(e){var t=St(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do i=e(i,a.action),a=a.next;while(a!==l);Mt(i,t.memoizedState)||(et=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function xd(){}function vd(e,t){var n=ke,r=St(),l=t(),i=!Mt(r.memoizedState,l);if(i&&(r.memoizedState=l,et=!0),r=r.queue,ls(Sd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,gl(9,wd.bind(null,n,r,l,t),void 0,null),ze===null)throw Error(z(349));$n&30||kd(n,t,l)}return l}function kd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wd(e,t,n,r){t.value=n,t.getSnapshot=r,Nd(t)&&jd(e)}function Sd(e,t,n){return n(function(){Nd(t)&&jd(e)})}function Nd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mt(e,n)}catch{return!0}}function jd(e){var t=Xt(e,1);t!==null&&_t(t,e,1,-1)}function du(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:e},t.queue=e,e=e.dispatch=D0.bind(null,ke,e),[t.memoizedState,e]}function gl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Cd(){return St().memoizedState}function ti(e,t,n,r){var l=It();ke.flags|=e,l.memoizedState=gl(1|t,n,void 0,r===void 0?null:r)}function Ri(e,t,n,r){var l=St();r=r===void 0?null:r;var i=void 0;if(Te!==null){var a=Te.memoizedState;if(i=a.destroy,r!==null&&ts(r,a.deps)){l.memoizedState=gl(t,n,i,r);return}}ke.flags|=e,l.memoizedState=gl(1|t,n,i,r)}function fu(e,t){return ti(8390656,8,e,t)}function ls(e,t){return Ri(2048,8,e,t)}function Pd(e,t){return Ri(4,2,e,t)}function Ed(e,t){return Ri(4,4,e,t)}function bd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Td(e,t,n){return n=n!=null?n.concat([e]):null,Ri(4,4,bd.bind(null,t,e),n)}function is(){}function _d(e,t){var n=St();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ts(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Md(e,t){var n=St();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ts(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ld(e,t,n){return $n&21?(Mt(n,t)||(n=Rc(),ke.lanes|=n,Rn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=n)}function z0(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var r=ga.transition;ga.transition={};try{e(!1),t()}finally{ae=n,ga.transition=r}}function zd(){return St().memoizedState}function A0(e,t,n){var r=hn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ad(e))Dd(t,n);else if(n=hd(e,t,n,r),n!==null){var l=Qe();_t(n,e,r,l),$d(n,t,r)}}function D0(e,t,n){var r=hn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ad(e))Dd(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,u=i(a,n);if(l.hasEagerState=!0,l.eagerState=u,Mt(u,a)){var s=t.interleaved;s===null?(l.next=l,Jo(t)):(l.next=s.next,s.next=l),t.interleaved=l;return}}catch{}finally{}n=hd(e,t,l,r),n!==null&&(l=Qe(),_t(n,e,r,l),$d(n,t,r))}}function Ad(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function Dd(e,t){Zr=Ni=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $d(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$o(e,n)}}var ji={readContext:wt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},$0={readContext:wt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:fu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ti(4194308,4,bd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return ti(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=It();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=A0.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:du,useDebugValue:is,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=du(!1),t=e[0];return e=z0.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,l=It();if(ye){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),ze===null)throw Error(z(349));$n&30||kd(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,fu(Sd.bind(null,r,i,e),[e]),r.flags|=2048,gl(9,wd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=It(),t=ze.identifierPrefix;if(ye){var n=Kt,r=Qt;n=(r&~(1<<32-Tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=hl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=L0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},R0={readContext:wt,useCallback:_d,useContext:wt,useEffect:ls,useImperativeHandle:Td,useInsertionEffect:Pd,useLayoutEffect:Ed,useMemo:Md,useReducer:xa,useRef:Cd,useState:function(){return xa(yl)},useDebugValue:is,useDeferredValue:function(e){var t=St();return Ld(t,Te.memoizedState,e)},useTransition:function(){var e=xa(yl)[0],t=St().memoizedState;return[e,t]},useMutableSource:xd,useSyncExternalStore:vd,useId:zd,unstable_isNewReconciler:!1},I0={readContext:wt,useCallback:_d,useContext:wt,useEffect:ls,useImperativeHandle:Td,useInsertionEffect:Pd,useLayoutEffect:Ed,useMemo:Md,useReducer:va,useRef:Cd,useState:function(){return va(yl)},useDebugValue:is,useDeferredValue:function(e){var t=St();return Te===null?t.memoizedState=e:Ld(t,Te.memoizedState,e)},useTransition:function(){var e=va(yl)[0],t=St().memoizedState;return[e,t]},useMutableSource:xd,useSyncExternalStore:vd,useId:zd,unstable_isNewReconciler:!1};function Pt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ro(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ii={isMounted:function(e){return(e=e._reactInternals)?Fn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qe(),l=hn(e),i=Yt(r,l);i.payload=t,n!=null&&(i.callback=n),t=pn(e,i,l),t!==null&&(_t(t,e,l,r),ql(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qe(),l=hn(e),i=Yt(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=pn(e,i,l),t!==null&&(_t(t,e,l,r),ql(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qe(),r=hn(e),l=Yt(n,r);l.tag=2,t!=null&&(l.callback=t),t=pn(e,l,r),t!==null&&(_t(t,e,r,n),ql(t,e,r))}};function pu(e,t,n,r,l,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!ul(n,r)||!ul(l,i):!0}function Rd(e,t,n){var r=!1,l=xn,i=t.contextType;return typeof i=="object"&&i!==null?i=wt(i):(l=nt(t)?An:Ue.current,r=t.contextTypes,i=(r=r!=null)?hr(e,l):xn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ii,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function mu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ii.enqueueReplaceState(t,t.state,null)}function lo(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Xo(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=wt(i):(i=nt(t)?An:Ue.current,l.context=hr(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ro(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ii.enqueueReplaceState(l,l.state,null),wi(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function vr(e,t){try{var n="",r=t;do n+=fp(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function ka(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function io(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var O0=typeof WeakMap=="function"?WeakMap:Map;function Id(e,t,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pi||(Pi=!0,yo=r),io(e,t)},n}function Od(e,t,n){n=Yt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){io(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){io(e,t),typeof r!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function hu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new O0;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=q0.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gu(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yt(-1,1),t.tag=2,pn(n,t,1))),n.lanes|=1),e)}var F0=qt.ReactCurrentOwner,et=!1;function We(e,t,n,r){t.child=e===null?md(t,null,n,r):gr(t,e.child,n,r)}function xu(e,t,n,r,l){n=n.render;var i=t.ref;return dr(t,l),r=ns(e,t,n,r,i,l),n=rs(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Zt(e,t,l)):(ye&&n&&Bo(t),t.flags|=1,We(e,t,r,l),t.child)}function vu(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!ps(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Fd(e,t,i,r,l)):(e=ii(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:ul,n(a,r)&&e.ref===t.ref)return Zt(e,t,l)}return t.flags|=1,e=yn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Fd(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(ul(i,r)&&e.ref===t.ref)if(et=!1,t.pendingProps=r=i,(e.lanes&l)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,Zt(e,t,l)}return ao(e,t,n,r,l)}function Ud(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(ar,it),it|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(ar,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ce(ar,it),it|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ce(ar,it),it|=r;return We(e,t,l,n),t.child}function Vd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ao(e,t,n,r,l){var i=nt(n)?An:Ue.current;return i=hr(t,i),dr(t,l),n=ns(e,t,n,r,i,l),r=rs(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Zt(e,t,l)):(ye&&r&&Bo(t),t.flags|=1,We(e,t,n,l),t.child)}function ku(e,t,n,r,l){if(nt(n)){var i=!0;yi(t)}else i=!1;if(dr(t,l),t.stateNode===null)ni(e,t),Rd(t,n,r),lo(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,u=t.memoizedProps;a.props=u;var s=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=wt(c):(c=nt(n)?An:Ue.current,c=hr(t,c));var g=n.getDerivedStateFromProps,y=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";y||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||s!==c)&&mu(t,a,r,c),rn=!1;var f=t.memoizedState;a.state=f,wi(t,r,a,l),s=t.memoizedState,u!==r||f!==s||tt.current||rn?(typeof g=="function"&&(ro(t,n,g,r),s=t.memoizedState),(u=rn||pu(t,n,u,r,f,s,c))?(y||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=c,r=u):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,yd(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Pt(t.type,u),a.props=c,y=t.pendingProps,f=a.context,s=n.contextType,typeof s=="object"&&s!==null?s=wt(s):(s=nt(n)?An:Ue.current,s=hr(t,s));var P=n.getDerivedStateFromProps;(g=typeof P=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==y||f!==s)&&mu(t,a,r,s),rn=!1,f=t.memoizedState,a.state=f,wi(t,r,a,l);var C=t.memoizedState;u!==y||f!==C||tt.current||rn?(typeof P=="function"&&(ro(t,n,P,r),C=t.memoizedState),(c=rn||pu(t,n,c,r,f,C,s)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,C,s),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,C,s)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),a.props=r,a.state=C,a.context=s,r=c):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return oo(e,t,n,r,i,l)}function oo(e,t,n,r,l,i){Vd(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&iu(t,n,!1),Zt(e,t,i);r=t.stateNode,F0.current=t;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=gr(t,e.child,null,i),t.child=gr(t,null,u,i)):We(e,t,u,i),t.memoizedState=r.state,l&&iu(t,n,!0),t.child}function Hd(e){var t=e.stateNode;t.pendingContext?lu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lu(e,t.context,!1),Zo(e,t.containerInfo)}function wu(e,t,n,r,l){return yr(),Qo(l),t.flags|=256,We(e,t,n,r),t.child}var so={dehydrated:null,treeContext:null,retryLane:0};function uo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bd(e,t,n){var r=t.pendingProps,l=ve.current,i=!1,a=(t.flags&128)!==0,u;if((u=a)||(u=e!==null&&e.memoizedState===null?!1:(l&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ce(ve,l&1),e===null)return to(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ui(a,r,0,null),e=zn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=uo(n),t.memoizedState=so,e):as(t,a));if(l=e.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return U0(e,t,a,r,u,l,n);if(i){i=r.fallback,a=t.mode,l=e.child,u=l.sibling;var s={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=yn(l,s),r.subtreeFlags=l.subtreeFlags&14680064),u!==null?i=yn(u,i):(i=zn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?uo(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=so,r}return i=e.child,e=i.sibling,r=yn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function as(e,t){return t=Ui({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ul(e,t,n,r){return r!==null&&Qo(r),gr(t,e.child,null,n),e=as(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function U0(e,t,n,r,l,i,a){if(n)return t.flags&256?(t.flags&=-257,r=ka(Error(z(422))),Ul(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=Ui({mode:"visible",children:r.children},l,0,null),i=zn(i,l,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&gr(t,e.child,null,a),t.child.memoizedState=uo(a),t.memoizedState=so,i);if(!(t.mode&1))return Ul(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(z(419)),r=ka(i,r,void 0),Ul(e,t,a,r)}if(u=(a&e.childLanes)!==0,et||u){if(r=ze,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Xt(e,l),_t(r,e,l,-1))}return fs(),r=ka(Error(z(421))),Ul(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=em.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,at=fn(l.nextSibling),ot=t,ye=!0,bt=null,e!==null&&(gt[xt++]=Qt,gt[xt++]=Kt,gt[xt++]=Dn,Qt=e.id,Kt=e.overflow,Dn=t),t=as(t,r.children),t.flags|=4096,t)}function Su(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),no(e.return,t,n)}function wa(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function Wd(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(We(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Su(e,n,t);else if(e.tag===19)Su(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(ve,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Si(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),wa(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Si(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}wa(t,!0,n,null,i);break;case"together":wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ni(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function V0(e,t,n){switch(t.tag){case 3:Hd(t),yr();break;case 5:gd(t);break;case 1:nt(t.type)&&yi(t);break;case 4:Zo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ce(vi,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?Bd(e,t,n):(ce(ve,ve.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);ce(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Wd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ce(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Ud(e,t,n)}return Zt(e,t,n)}var Qd,co,Kd,Yd;Qd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};co=function(){};Kd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Mn(Ut.current);var i=null;switch(n){case"input":l=La(e,l),r=La(e,r),i=[];break;case"select":l=we({},l,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":l=Da(e,l),r=Da(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=mi)}Ra(n,r);var a;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var u=l[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(nl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var s=r[c];if(u=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&s!==u&&(s!=null||u!=null))if(c==="style")if(u){for(a in u)!u.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in s)s.hasOwnProperty(a)&&u[a]!==s[a]&&(n||(n={}),n[a]=s[a])}else n||(i||(i=[]),i.push(c,n)),n=s;else c==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,u=u?u.__html:void 0,s!=null&&u!==s&&(i=i||[]).push(c,s)):c==="children"?typeof s!="string"&&typeof s!="number"||(i=i||[]).push(c,""+s):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(nl.hasOwnProperty(c)?(s!=null&&c==="onScroll"&&pe("scroll",e),i||u===s||(i=[])):(i=i||[]).push(c,s))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Yd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ir(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function H0(e,t,n){var r=t.pendingProps;switch(Wo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return nt(t.type)&&hi(),Oe(t),null;case 3:return r=t.stateNode,xr(),me(tt),me(Ue),es(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ol(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bt!==null&&(vo(bt),bt=null))),co(e,t),Oe(t),null;case 5:qo(t);var l=Mn(ml.current);if(n=t.type,e!==null&&t.stateNode!=null)Kd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return Oe(t),null}if(e=Mn(Ut.current),Ol(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ot]=t,r[fl]=i,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(l=0;l<Br.length;l++)pe(Br[l],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Ms(r,i),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},pe("invalid",r);break;case"textarea":zs(r,i),pe("invalid",r)}Ra(n,i),l=null;for(var a in i)if(i.hasOwnProperty(a)){var u=i[a];a==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&Il(r.textContent,u,e),l=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Il(r.textContent,u,e),l=["children",""+u]):nl.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&pe("scroll",r)}switch(n){case"input":_l(r),Ls(r,i,!0);break;case"textarea":_l(r),As(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=mi)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ot]=t,e[fl]=r,Qd(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ia(n,r),n){case"dialog":pe("cancel",e),pe("close",e),l=r;break;case"iframe":case"object":case"embed":pe("load",e),l=r;break;case"video":case"audio":for(l=0;l<Br.length;l++)pe(Br[l],e);l=r;break;case"source":pe("error",e),l=r;break;case"img":case"image":case"link":pe("error",e),pe("load",e),l=r;break;case"details":pe("toggle",e),l=r;break;case"input":Ms(e,r),l=La(e,r),pe("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=we({},r,{value:void 0}),pe("invalid",e);break;case"textarea":zs(e,r),l=Da(e,r),pe("invalid",e);break;default:l=r}Ra(n,l),u=l;for(i in u)if(u.hasOwnProperty(i)){var s=u[i];i==="style"?Cc(e,s):i==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&Nc(e,s)):i==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&rl(e,s):typeof s=="number"&&rl(e,""+s):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(nl.hasOwnProperty(i)?s!=null&&i==="onScroll"&&pe("scroll",e):s!=null&&_o(e,i,s,a))}switch(n){case"input":_l(e),Ls(e,r,!1);break;case"textarea":_l(e),As(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?or(e,!!r.multiple,i,!1):r.defaultValue!=null&&or(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=mi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)Yd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(n=Mn(ml.current),Mn(Ut.current),Ol(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ot]=t,(i=r.nodeValue!==n)&&(e=ot,e!==null))switch(e.tag){case 3:Il(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Il(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ot]=t,t.stateNode=r}return Oe(t),null;case 13:if(me(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&at!==null&&t.mode&1&&!(t.flags&128))fd(),yr(),t.flags|=98560,i=!1;else if(i=Ol(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Ot]=t}else yr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),i=!1}else bt!==null&&(vo(bt),bt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?_e===0&&(_e=3):fs())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return xr(),co(e,t),e===null&&cl(t.stateNode.containerInfo),Oe(t),null;case 10:return Go(t.type._context),Oe(t),null;case 17:return nt(t.type)&&hi(),Oe(t),null;case 19:if(me(ve),i=t.memoizedState,i===null)return Oe(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Ir(i,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Si(e),a!==null){for(t.flags|=128,Ir(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(ve,ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ce()>kr&&(t.flags|=128,r=!0,Ir(i,!1),t.lanes=4194304)}else{if(!r)if(e=Si(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ir(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ye)return Oe(t),null}else 2*Ce()-i.renderingStartTime>kr&&n!==1073741824&&(t.flags|=128,r=!0,Ir(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ce(),t.sibling=null,n=ve.current,ce(ve,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return ds(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?it&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function B0(e,t){switch(Wo(t),t.tag){case 1:return nt(t.type)&&hi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xr(),me(tt),me(Ue),es(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qo(t),null;case 13:if(me(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ve),null;case 4:return xr(),null;case 10:return Go(t.type._context),null;case 22:case 23:return ds(),null;case 24:return null;default:return null}}var Vl=!1,Fe=!1,W0=typeof WeakSet=="function"?WeakSet:Set,O=null;function ir(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(e,t,r)}else n.current=null}function fo(e,t,n){try{n()}catch(r){Ne(e,t,r)}}var Nu=!1;function Q0(e,t){if(Ya=di,e=qc(),Ho(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,u=-1,s=-1,c=0,g=0,y=e,f=null;t:for(;;){for(var P;y!==n||l!==0&&y.nodeType!==3||(u=a+l),y!==i||r!==0&&y.nodeType!==3||(s=a+r),y.nodeType===3&&(a+=y.nodeValue.length),(P=y.firstChild)!==null;)f=y,y=P;for(;;){if(y===e)break t;if(f===n&&++c===l&&(u=a),f===i&&++g===r&&(s=a),(P=y.nextSibling)!==null)break;y=f,f=y.parentNode}y=P}n=u===-1||s===-1?null:{start:u,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ga={focusedElem:e,selectionRange:n},di=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var _=C.memoizedProps,Q=C.memoizedState,m=t.stateNode,d=m.getSnapshotBeforeUpdate(t.elementType===t.type?_:Pt(t.type,_),Q);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(N){Ne(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return C=Nu,Nu=!1,C}function qr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&fo(t,n,i)}l=l.next}while(l!==r)}}function Oi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function po(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gd(e){var t=e.alternate;t!==null&&(e.alternate=null,Gd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[fl],delete t[Za],delete t[b0],delete t[T0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jd(e){return e.tag===5||e.tag===3||e.tag===4}function ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mi));else if(r!==4&&(e=e.child,e!==null))for(mo(e,t,n),e=e.sibling;e!==null;)mo(e,t,n),e=e.sibling}function ho(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ho(e,t,n),e=e.sibling;e!==null;)ho(e,t,n),e=e.sibling}var Ae=null,Et=!1;function tn(e,t,n){for(n=n.child;n!==null;)Xd(e,t,n),n=n.sibling}function Xd(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Mi,n)}catch{}switch(n.tag){case 5:Fe||ir(n,t);case 6:var r=Ae,l=Et;Ae=null,tn(e,t,n),Ae=r,Et=l,Ae!==null&&(Et?(e=Ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(Et?(e=Ae,n=n.stateNode,e.nodeType===8?ma(e.parentNode,n):e.nodeType===1&&ma(e,n),ol(e)):ma(Ae,n.stateNode));break;case 4:r=Ae,l=Et,Ae=n.stateNode.containerInfo,Et=!0,tn(e,t,n),Ae=r,Et=l;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&fo(n,t,a),l=l.next}while(l!==r)}tn(e,t,n);break;case 1:if(!Fe&&(ir(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ne(n,t,u)}tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,tn(e,t,n),Fe=r):tn(e,t,n);break;default:tn(e,t,n)}}function Cu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new W0),t.forEach(function(r){var l=tm.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Ct(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,a=t,u=a;e:for(;u!==null;){switch(u.tag){case 5:Ae=u.stateNode,Et=!1;break e;case 3:Ae=u.stateNode.containerInfo,Et=!0;break e;case 4:Ae=u.stateNode.containerInfo,Et=!0;break e}u=u.return}if(Ae===null)throw Error(z(160));Xd(i,a,l),Ae=null,Et=!1;var s=l.alternate;s!==null&&(s.return=null),l.return=null}catch(c){Ne(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zd(t,e),t=t.sibling}function Zd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ct(t,e),Rt(e),r&4){try{qr(3,e,e.return),Oi(3,e)}catch(_){Ne(e,e.return,_)}try{qr(5,e,e.return)}catch(_){Ne(e,e.return,_)}}break;case 1:Ct(t,e),Rt(e),r&512&&n!==null&&ir(n,n.return);break;case 5:if(Ct(t,e),Rt(e),r&512&&n!==null&&ir(n,n.return),e.flags&32){var l=e.stateNode;try{rl(l,"")}catch(_){Ne(e,e.return,_)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,u=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&kc(l,i),Ia(u,a);var c=Ia(u,i);for(a=0;a<s.length;a+=2){var g=s[a],y=s[a+1];g==="style"?Cc(l,y):g==="dangerouslySetInnerHTML"?Nc(l,y):g==="children"?rl(l,y):_o(l,g,y,c)}switch(u){case"input":za(l,i);break;case"textarea":wc(l,i);break;case"select":var f=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var P=i.value;P!=null?or(l,!!i.multiple,P,!1):f!==!!i.multiple&&(i.defaultValue!=null?or(l,!!i.multiple,i.defaultValue,!0):or(l,!!i.multiple,i.multiple?[]:"",!1))}l[fl]=i}catch(_){Ne(e,e.return,_)}}break;case 6:if(Ct(t,e),Rt(e),r&4){if(e.stateNode===null)throw Error(z(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(_){Ne(e,e.return,_)}}break;case 3:if(Ct(t,e),Rt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ol(t.containerInfo)}catch(_){Ne(e,e.return,_)}break;case 4:Ct(t,e),Rt(e);break;case 13:Ct(t,e),Rt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(us=Ce())),r&4&&Cu(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(c=Fe)||g,Ct(t,e),Fe=c):Ct(t,e),Rt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!g&&e.mode&1)for(O=e,g=e.child;g!==null;){for(y=O=g;O!==null;){switch(f=O,P=f.child,f.tag){case 0:case 11:case 14:case 15:qr(4,f,f.return);break;case 1:ir(f,f.return);var C=f.stateNode;if(typeof C.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(_){Ne(r,n,_)}}break;case 5:ir(f,f.return);break;case 22:if(f.memoizedState!==null){Eu(y);continue}}P!==null?(P.return=f,O=P):Eu(y)}g=g.sibling}e:for(g=null,y=e;;){if(y.tag===5){if(g===null){g=y;try{l=y.stateNode,c?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=y.stateNode,s=y.memoizedProps.style,a=s!=null&&s.hasOwnProperty("display")?s.display:null,u.style.display=jc("display",a))}catch(_){Ne(e,e.return,_)}}}else if(y.tag===6){if(g===null)try{y.stateNode.nodeValue=c?"":y.memoizedProps}catch(_){Ne(e,e.return,_)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;g===y&&(g=null),y=y.return}g===y&&(g=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Ct(t,e),Rt(e),r&4&&Cu(e);break;case 21:break;default:Ct(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Jd(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(rl(l,""),r.flags&=-33);var i=ju(e);ho(e,i,l);break;case 3:case 4:var a=r.stateNode.containerInfo,u=ju(e);mo(e,u,a);break;default:throw Error(z(161))}}catch(s){Ne(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function K0(e,t,n){O=e,qd(e)}function qd(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var l=O,i=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||Vl;if(!a){var u=l.alternate,s=u!==null&&u.memoizedState!==null||Fe;u=Vl;var c=Fe;if(Vl=a,(Fe=s)&&!c)for(O=l;O!==null;)a=O,s=a.child,a.tag===22&&a.memoizedState!==null?bu(l):s!==null?(s.return=a,O=s):bu(l);for(;i!==null;)O=i,qd(i),i=i.sibling;O=l,Vl=u,Fe=c}Pu(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,O=i):Pu(e)}}function Pu(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||Oi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Pt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&cu(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cu(t,a,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var g=c.memoizedState;if(g!==null){var y=g.dehydrated;y!==null&&ol(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Fe||t.flags&512&&po(t)}catch(f){Ne(t,t.return,f)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Eu(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function bu(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Oi(4,t)}catch(s){Ne(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(s){Ne(t,l,s)}}var i=t.return;try{po(t)}catch(s){Ne(t,i,s)}break;case 5:var a=t.return;try{po(t)}catch(s){Ne(t,a,s)}}}catch(s){Ne(t,t.return,s)}if(t===e){O=null;break}var u=t.sibling;if(u!==null){u.return=t.return,O=u;break}O=t.return}}var Y0=Math.ceil,Ci=qt.ReactCurrentDispatcher,os=qt.ReactCurrentOwner,kt=qt.ReactCurrentBatchConfig,re=0,ze=null,be=null,De=0,it=0,ar=kn(0),_e=0,xl=null,Rn=0,Fi=0,ss=0,el=null,qe=null,us=0,kr=1/0,Bt=null,Pi=!1,yo=null,mn=null,Hl=!1,sn=null,Ei=0,tl=0,go=null,ri=-1,li=0;function Qe(){return re&6?Ce():ri!==-1?ri:ri=Ce()}function hn(e){return e.mode&1?re&2&&De!==0?De&-De:M0.transition!==null?(li===0&&(li=Rc()),li):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Bc(e.type)),e):1}function _t(e,t,n,r){if(50<tl)throw tl=0,go=null,Error(z(185));kl(e,n,r),(!(re&2)||e!==ze)&&(e===ze&&(!(re&2)&&(Fi|=n),_e===4&&an(e,De)),rt(e,r),n===1&&re===0&&!(t.mode&1)&&(kr=Ce()+500,$i&&wn()))}function rt(e,t){var n=e.callbackNode;Mp(e,t);var r=ci(e,e===ze?De:0);if(r===0)n!==null&&Rs(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Rs(n),t===1)e.tag===0?_0(Tu.bind(null,e)):ud(Tu.bind(null,e)),P0(function(){!(re&6)&&wn()}),n=null;else{switch(Ic(r)){case 1:n=Do;break;case 4:n=Dc;break;case 16:n=ui;break;case 536870912:n=$c;break;default:n=ui}n=sf(n,ef.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ef(e,t){if(ri=-1,li=0,re&6)throw Error(z(327));var n=e.callbackNode;if(fr()&&e.callbackNode!==n)return null;var r=ci(e,e===ze?De:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bi(e,r);else{t=r;var l=re;re|=2;var i=nf();(ze!==e||De!==t)&&(Bt=null,kr=Ce()+500,Ln(e,t));do try{X0();break}catch(u){tf(e,u)}while(!0);Yo(),Ci.current=i,re=l,be!==null?t=0:(ze=null,De=0,t=_e)}if(t!==0){if(t===2&&(l=Ha(e),l!==0&&(r=l,t=xo(e,l))),t===1)throw n=xl,Ln(e,0),an(e,r),rt(e,Ce()),n;if(t===6)an(e,r);else{if(l=e.current.alternate,!(r&30)&&!G0(l)&&(t=bi(e,r),t===2&&(i=Ha(e),i!==0&&(r=i,t=xo(e,i))),t===1))throw n=xl,Ln(e,0),an(e,r),rt(e,Ce()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:En(e,qe,Bt);break;case 3:if(an(e,r),(r&130023424)===r&&(t=us+500-Ce(),10<t)){if(ci(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Qe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Xa(En.bind(null,e,qe,Bt),t);break}En(e,qe,Bt);break;case 4:if(an(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-Tt(r);i=1<<a,a=t[a],a>l&&(l=a),r&=~i}if(r=l,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Y0(r/1960))-r,10<r){e.timeoutHandle=Xa(En.bind(null,e,qe,Bt),r);break}En(e,qe,Bt);break;case 5:En(e,qe,Bt);break;default:throw Error(z(329))}}}return rt(e,Ce()),e.callbackNode===n?ef.bind(null,e):null}function xo(e,t){var n=el;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=bi(e,t),e!==2&&(t=qe,qe=n,t!==null&&vo(t)),e}function vo(e){qe===null?qe=e:qe.push.apply(qe,e)}function G0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!Mt(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~ss,t&=~Fi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tt(t),r=1<<n;e[n]=-1,t&=~r}}function Tu(e){if(re&6)throw Error(z(327));fr();var t=ci(e,0);if(!(t&1))return rt(e,Ce()),null;var n=bi(e,t);if(e.tag!==0&&n===2){var r=Ha(e);r!==0&&(t=r,n=xo(e,r))}if(n===1)throw n=xl,Ln(e,0),an(e,t),rt(e,Ce()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,En(e,qe,Bt),rt(e,Ce()),null}function cs(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(kr=Ce()+500,$i&&wn())}}function In(e){sn!==null&&sn.tag===0&&!(re&6)&&fr();var t=re;re|=1;var n=kt.transition,r=ae;try{if(kt.transition=null,ae=1,e)return e()}finally{ae=r,kt.transition=n,re=t,!(re&6)&&wn()}}function ds(){it=ar.current,me(ar)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,C0(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(Wo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hi();break;case 3:xr(),me(tt),me(Ue),es();break;case 5:qo(r);break;case 4:xr();break;case 13:me(ve);break;case 19:me(ve);break;case 10:Go(r.type._context);break;case 22:case 23:ds()}n=n.return}if(ze=e,be=e=yn(e.current,null),De=it=t,_e=0,xl=null,ss=Fi=Rn=0,qe=el=null,_n!==null){for(t=0;t<_n.length;t++)if(n=_n[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=l,r.next=a}n.pending=r}_n=null}return e}function tf(e,t){do{var n=be;try{if(Yo(),ei.current=ji,Ni){for(var r=ke.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Ni=!1}if($n=0,Le=Te=ke=null,Zr=!1,hl=0,os.current=null,n===null||n.return===null){_e=1,xl=t,be=null;break}e:{var i=e,a=n.return,u=n,s=t;if(t=De,u.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var c=s,g=u,y=g.tag;if(!(g.mode&1)&&(y===0||y===11||y===15)){var f=g.alternate;f?(g.updateQueue=f.updateQueue,g.memoizedState=f.memoizedState,g.lanes=f.lanes):(g.updateQueue=null,g.memoizedState=null)}var P=yu(a);if(P!==null){P.flags&=-257,gu(P,a,u,i,t),P.mode&1&&hu(i,c,t),t=P,s=c;var C=t.updateQueue;if(C===null){var _=new Set;_.add(s),t.updateQueue=_}else C.add(s);break e}else{if(!(t&1)){hu(i,c,t),fs();break e}s=Error(z(426))}}else if(ye&&u.mode&1){var Q=yu(a);if(Q!==null){!(Q.flags&65536)&&(Q.flags|=256),gu(Q,a,u,i,t),Qo(vr(s,u));break e}}i=s=vr(s,u),_e!==4&&(_e=2),el===null?el=[i]:el.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Id(i,s,t);uu(i,m);break e;case 1:u=s;var d=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(mn===null||!mn.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=Od(i,u,t);uu(i,N);break e}}i=i.return}while(i!==null)}lf(n)}catch(E){t=E,be===n&&n!==null&&(be=n=n.return);continue}break}while(!0)}function nf(){var e=Ci.current;return Ci.current=ji,e===null?ji:e}function fs(){(_e===0||_e===3||_e===2)&&(_e=4),ze===null||!(Rn&268435455)&&!(Fi&268435455)||an(ze,De)}function bi(e,t){var n=re;re|=2;var r=nf();(ze!==e||De!==t)&&(Bt=null,Ln(e,t));do try{J0();break}catch(l){tf(e,l)}while(!0);if(Yo(),re=n,Ci.current=r,be!==null)throw Error(z(261));return ze=null,De=0,_e}function J0(){for(;be!==null;)rf(be)}function X0(){for(;be!==null&&!Sp();)rf(be)}function rf(e){var t=of(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?lf(e):be=t,os.current=null}function lf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=B0(n,t),n!==null){n.flags&=32767,be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,be=null;return}}else if(n=H0(n,t,it),n!==null){be=n;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);_e===0&&(_e=5)}function En(e,t,n){var r=ae,l=kt.transition;try{kt.transition=null,ae=1,Z0(e,t,n,r)}finally{kt.transition=l,ae=r}return null}function Z0(e,t,n,r){do fr();while(sn!==null);if(re&6)throw Error(z(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Lp(e,i),e===ze&&(be=ze=null,De=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hl||(Hl=!0,sf(ui,function(){return fr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=kt.transition,kt.transition=null;var a=ae;ae=1;var u=re;re|=4,os.current=null,Q0(e,n),Zd(n,e),x0(Ga),di=!!Ya,Ga=Ya=null,e.current=n,K0(n),Np(),re=u,ae=a,kt.transition=i}else e.current=n;if(Hl&&(Hl=!1,sn=e,Ei=l),i=e.pendingLanes,i===0&&(mn=null),Pp(n.stateNode),rt(e,Ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Pi)throw Pi=!1,e=yo,yo=null,e;return Ei&1&&e.tag!==0&&fr(),i=e.pendingLanes,i&1?e===go?tl++:(tl=0,go=e):tl=0,wn(),null}function fr(){if(sn!==null){var e=Ic(Ei),t=kt.transition,n=ae;try{if(kt.transition=null,ae=16>e?16:e,sn===null)var r=!1;else{if(e=sn,sn=null,Ei=0,re&6)throw Error(z(331));var l=re;for(re|=4,O=e.current;O!==null;){var i=O,a=i.child;if(O.flags&16){var u=i.deletions;if(u!==null){for(var s=0;s<u.length;s++){var c=u[s];for(O=c;O!==null;){var g=O;switch(g.tag){case 0:case 11:case 15:qr(8,g,i)}var y=g.child;if(y!==null)y.return=g,O=y;else for(;O!==null;){g=O;var f=g.sibling,P=g.return;if(Gd(g),g===c){O=null;break}if(f!==null){f.return=P,O=f;break}O=P}}}var C=i.alternate;if(C!==null){var _=C.child;if(_!==null){C.child=null;do{var Q=_.sibling;_.sibling=null,_=Q}while(_!==null)}}O=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,O=a;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,O=m;break e}O=i.return}}var d=e.current;for(O=d;O!==null;){a=O;var h=a.child;if(a.subtreeFlags&2064&&h!==null)h.return=a,O=h;else e:for(a=d;O!==null;){if(u=O,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Oi(9,u)}}catch(E){Ne(u,u.return,E)}if(u===a){O=null;break e}var N=u.sibling;if(N!==null){N.return=u.return,O=N;break e}O=u.return}}if(re=l,wn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Mi,e)}catch{}r=!0}return r}finally{ae=n,kt.transition=t}}return!1}function _u(e,t,n){t=vr(n,t),t=Id(e,t,1),e=pn(e,t,1),t=Qe(),e!==null&&(kl(e,1,t),rt(e,t))}function Ne(e,t,n){if(e.tag===3)_u(e,e,n);else for(;t!==null;){if(t.tag===3){_u(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mn===null||!mn.has(r))){e=vr(n,e),e=Od(t,e,1),t=pn(t,e,1),e=Qe(),t!==null&&(kl(t,1,e),rt(t,e));break}}t=t.return}}function q0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(De&n)===n&&(_e===4||_e===3&&(De&130023424)===De&&500>Ce()-us?Ln(e,0):ss|=n),rt(e,t)}function af(e,t){t===0&&(e.mode&1?(t=zl,zl<<=1,!(zl&130023424)&&(zl=4194304)):t=1);var n=Qe();e=Xt(e,t),e!==null&&(kl(e,t,n),rt(e,n))}function em(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),af(e,n)}function tm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),af(e,n)}var of;of=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)et=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return et=!1,V0(e,t,n);et=!!(e.flags&131072)}else et=!1,ye&&t.flags&1048576&&cd(t,xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ni(e,t),e=t.pendingProps;var l=hr(t,Ue.current);dr(t,n),l=ns(null,t,r,e,l,n);var i=rs();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(r)?(i=!0,yi(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Xo(t),l.updater=Ii,t.stateNode=l,l._reactInternals=t,lo(t,r,e,n),t=oo(null,t,r,!0,i,n)):(t.tag=0,ye&&i&&Bo(t),We(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ni(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=rm(r),e=Pt(r,e),l){case 0:t=ao(null,t,r,e,n);break e;case 1:t=ku(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=vu(null,t,r,Pt(r.type,e),n);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Pt(r,l),ao(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Pt(r,l),ku(e,t,r,l,n);case 3:e:{if(Hd(t),e===null)throw Error(z(387));r=t.pendingProps,i=t.memoizedState,l=i.element,yd(e,t),wi(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=vr(Error(z(423)),t),t=wu(e,t,r,n,l);break e}else if(r!==l){l=vr(Error(z(424)),t),t=wu(e,t,r,n,l);break e}else for(at=fn(t.stateNode.containerInfo.firstChild),ot=t,ye=!0,bt=null,n=md(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yr(),r===l){t=Zt(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 5:return gd(t),e===null&&to(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,a=l.children,Ja(r,l)?a=null:i!==null&&Ja(r,i)&&(t.flags|=32),Vd(e,t),We(e,t,a,n),t.child;case 6:return e===null&&to(t),null;case 13:return Bd(e,t,n);case 4:return Zo(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gr(t,null,r,n):We(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Pt(r,l),xu(e,t,r,l,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,a=l.value,ce(vi,r._currentValue),r._currentValue=a,i!==null)if(Mt(i.value,a)){if(i.children===l.children&&!tt.current){t=Zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){a=i.child;for(var s=u.firstContext;s!==null;){if(s.context===r){if(i.tag===1){s=Yt(-1,n&-n),s.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var g=c.pending;g===null?s.next=s:(s.next=g.next,g.next=s),c.pending=s}}i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),no(i.return,n,t),u.lanes|=n;break}s=s.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(z(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),no(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}We(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,dr(t,n),l=wt(l),r=r(l),t.flags|=1,We(e,t,r,n),t.child;case 14:return r=t.type,l=Pt(r,t.pendingProps),l=Pt(r.type,l),vu(e,t,r,l,n);case 15:return Fd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Pt(r,l),ni(e,t),t.tag=1,nt(r)?(e=!0,yi(t)):e=!1,dr(t,n),Rd(t,r,l),lo(t,r,l,n),oo(null,t,r,!0,e,n);case 19:return Wd(e,t,n);case 22:return Ud(e,t,n)}throw Error(z(156,t.tag))};function sf(e,t){return Ac(e,t)}function nm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,n,r){return new nm(e,t,n,r)}function ps(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rm(e){if(typeof e=="function")return ps(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lo)return 11;if(e===zo)return 14}return 2}function yn(e,t){var n=e.alternate;return n===null?(n=vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ii(e,t,n,r,l,i){var a=2;if(r=e,typeof e=="function")ps(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Jn:return zn(n.children,l,i,t);case Mo:a=8,l|=8;break;case ba:return e=vt(12,n,t,l|2),e.elementType=ba,e.lanes=i,e;case Ta:return e=vt(13,n,t,l),e.elementType=Ta,e.lanes=i,e;case _a:return e=vt(19,n,t,l),e.elementType=_a,e.lanes=i,e;case gc:return Ui(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hc:a=10;break e;case yc:a=9;break e;case Lo:a=11;break e;case zo:a=14;break e;case nn:a=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=vt(a,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function zn(e,t,n,r){return e=vt(7,e,r,t),e.lanes=n,e}function Ui(e,t,n,r){return e=vt(22,e,r,t),e.elementType=gc,e.lanes=n,e.stateNode={isHidden:!1},e}function Sa(e,t,n){return e=vt(6,e,null,t),e.lanes=n,e}function Na(e,t,n){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lm(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ra(0),this.expirationTimes=ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ms(e,t,n,r,l,i,a,u,s){return e=new lm(e,t,n,u,s),t===1?(t=1,i===!0&&(t|=8)):t=0,i=vt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xo(i),e}function im(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function uf(e){if(!e)return xn;e=e._reactInternals;e:{if(Fn(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(nt(n))return sd(e,n,t)}return t}function cf(e,t,n,r,l,i,a,u,s){return e=ms(n,r,!0,e,l,i,a,u,s),e.context=uf(null),n=e.current,r=Qe(),l=hn(n),i=Yt(r,l),i.callback=t??null,pn(n,i,l),e.current.lanes=l,kl(e,l,r),rt(e,r),e}function Vi(e,t,n,r){var l=t.current,i=Qe(),a=hn(l);return n=uf(n),t.context===null?t.context=n:t.pendingContext=n,t=Yt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=pn(l,t,a),e!==null&&(_t(e,l,a,i),ql(e,l,a)),a}function Ti(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hs(e,t){Mu(e,t),(e=e.alternate)&&Mu(e,t)}function am(){return null}var df=typeof reportError=="function"?reportError:function(e){console.error(e)};function ys(e){this._internalRoot=e}Hi.prototype.render=ys.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Vi(e,t,null,null)};Hi.prototype.unmount=ys.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;In(function(){Vi(null,e,null,null)}),t[Jt]=null}};function Hi(e){this._internalRoot=e}Hi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ln.length&&t!==0&&t<ln[n].priority;n++);ln.splice(n,0,e),n===0&&Hc(e)}};function gs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lu(){}function om(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var c=Ti(a);i.call(c)}}var a=cf(t,r,e,0,null,!1,!1,"",Lu);return e._reactRootContainer=a,e[Jt]=a.current,cl(e.nodeType===8?e.parentNode:e),In(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var u=r;r=function(){var c=Ti(s);u.call(c)}}var s=ms(e,0,!1,null,null,!1,!1,"",Lu);return e._reactRootContainer=s,e[Jt]=s.current,cl(e.nodeType===8?e.parentNode:e),In(function(){Vi(t,s,n,r)}),s}function Wi(e,t,n,r,l){var i=n._reactRootContainer;if(i){var a=i;if(typeof l=="function"){var u=l;l=function(){var s=Ti(a);u.call(s)}}Vi(t,a,e,l)}else a=om(n,t,e,l,r);return Ti(a)}Oc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hr(t.pendingLanes);n!==0&&($o(t,n|1),rt(t,Ce()),!(re&6)&&(kr=Ce()+500,wn()))}break;case 13:In(function(){var r=Xt(e,1);if(r!==null){var l=Qe();_t(r,e,1,l)}}),hs(e,1)}};Ro=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var n=Qe();_t(t,e,134217728,n)}hs(e,134217728)}};Fc=function(e){if(e.tag===13){var t=hn(e),n=Xt(e,t);if(n!==null){var r=Qe();_t(n,e,t,r)}hs(e,t)}};Uc=function(){return ae};Vc=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};Fa=function(e,t,n){switch(t){case"input":if(za(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Di(r);if(!l)throw Error(z(90));vc(r),za(r,l)}}}break;case"textarea":wc(e,n);break;case"select":t=n.value,t!=null&&or(e,!!n.multiple,t,!1)}};bc=cs;Tc=In;var sm={usingClientEntryPoint:!1,Events:[Sl,er,Di,Pc,Ec,cs]},Or={findFiberByHostInstance:Tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},um={bundleType:Or.bundleType,version:Or.version,rendererPackageName:Or.rendererPackageName,rendererConfig:Or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lc(e),e===null?null:e.stateNode},findFiberByHostInstance:Or.findFiberByHostInstance||am,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bl.isDisabled&&Bl.supportsFiber)try{Mi=Bl.inject(um),Ft=Bl}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sm;ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gs(t))throw Error(z(200));return im(e,t,null,n)};ut.createRoot=function(e,t){if(!gs(e))throw Error(z(299));var n=!1,r="",l=df;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ms(e,1,!1,null,null,n,!1,r,l),e[Jt]=t.current,cl(e.nodeType===8?e.parentNode:e),new ys(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Lc(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return In(e)};ut.hydrate=function(e,t,n){if(!Bi(t))throw Error(z(200));return Wi(null,e,t,!0,n)};ut.hydrateRoot=function(e,t,n){if(!gs(e))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",a=df;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=cf(t,null,e,1,n??null,l,!1,i,a),e[Jt]=t.current,cl(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Hi(t)};ut.render=function(e,t,n){if(!Bi(t))throw Error(z(200));return Wi(null,e,t,!1,n)};ut.unmountComponentAtNode=function(e){if(!Bi(e))throw Error(z(40));return e._reactRootContainer?(In(function(){Wi(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1};ut.unstable_batchedUpdates=cs;ut.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bi(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Wi(e,t,n,!1,r)};ut.version="18.3.1-next-f1338f8080-20240426";function ff(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ff)}catch(e){console.error(e)}}ff(),dc.exports=ut;var cm=dc.exports,zu=cm;Pa.createRoot=zu.createRoot,Pa.hydrateRoot=zu.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Y=(e,t)=>{const n=k.forwardRef(({color:r="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:u="",children:s,...c},g)=>k.createElement("svg",{ref:g,...dm,width:l,height:l,stroke:r,strokeWidth:a?Number(i)*24/Number(l):i,className:["lucide",`lucide-${fm(e)}`,u].join(" "),...c},[...t.map(([y,f])=>k.createElement(y,f)),...Array.isArray(s)?s:[s]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=Y("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Y("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Y("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=Y("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=Y("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=Y("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Y("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=Y("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Y("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=Y("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=Y("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=Y("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=Y("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Y("GitCommitVertical",[["path",{d:"M12 3v6",key:"1holv5"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 15v6",key:"a9ows0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=Y("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=Y("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Y("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=Y("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=Y("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=Y("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Y("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Y("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Y("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Y("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=Y("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Y("Pointer",[["path",{d:"M22 14a8 8 0 0 1-8 8",key:"56vcr3"}],["path",{d:"M18 11v-1a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0",key:"1pp0yd"}],["path",{d:"M14 10V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1",key:"u654g"}],["path",{d:"M10 9.5V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v10",key:"1e2dtv"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"g6ys72"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Y("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=Y("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=Y("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Y("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=Y("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Y("TrainFront",[["path",{d:"M8 3.1V7a4 4 0 0 0 8 0V3.1",key:"1v71zp"}],["path",{d:"m9 15-1-1",key:"1yrq24"}],["path",{d:"m15 15 1-1",key:"1t0d6s"}],["path",{d:"M9 19c-2.8 0-5-2.2-5-5v-4a8 8 0 0 1 16 0v4c0 2.8-2.2 5-5 5Z",key:"1p0hjs"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m16 19 2 3",key:"xo31yx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=Y("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=Y("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=Y("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=Y("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=Y("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Mm=({spacing:e,viewBox:t,zoom:n=1,currentTool:r="select",hoverPoint:l=null})=>{const i=[],a=Math.floor(t.x/e)*e,u=Math.ceil((t.x+t.width)/e)*e,s=Math.floor(t.y/e)*e,c=Math.ceil((t.y+t.height)/e)*e;for(let f=a;f<=u;f+=e)for(let P=s;P<=c;P+=e)i.push({x:f,y:P,key:`${f}-${P}`});const g=Math.min(3.5,2*n),y=r==="station"||r==="createLine"||r==="drawPath";return o.jsxs("g",{children:[o.jsx("rect",{x:t.x,y:t.y,width:t.width,height:t.height,className:"pointer-events-none fill-gray-50 dark:fill-gray-800"}),i.map(f=>{const P=y&&l&&Math.abs(f.x-l.x)<1&&Math.abs(f.y-l.y)<1;return o.jsx("circle",{cx:f.x,cy:f.y,r:P?g*2:g,className:`grid-dot transition-all ${y?"cursor-pointer":""} ${P?"fill-blue-400 dark:fill-blue-500":y?"fill-gray-300 dark:fill-gray-600 hover:fill-blue-400 dark:hover:fill-blue-500":"fill-gray-300 dark:fill-gray-600"}`},f.key)}),y&&l&&o.jsx("circle",{cx:l.x,cy:l.y,r:g*3,className:"fill-blue-400 dark:fill-blue-500 pointer-events-none",opacity:"0.3"})]})},Gu=({station:e,isSelected:t,isDragging:n,isHighlighted:r=!1,isPlaying:l=!1,onClick:i,onMouseDown:a,allStations:u=[]})=>{const y=e.name.length*8.4+10*2,f=24,P=(b,A="top")=>{const L=b.name.length*8.4+20,F=f,oe={top:{x:b.x-L/2,y:b.y-18-F},bottom:{x:b.x-L/2,y:b.y+18},left:{x:b.x-L-15,y:b.y-F/2},right:{x:b.x+15,y:b.y-F/2}},I=oe[A]||oe.top;return{x:I.x,y:I.y,width:L,height:F}},C=(b,A,L,F,oe)=>u.some(le=>le.id===e.id?!1:["top","bottom","left","right"].some(Se=>{const J=P(le,Se);return!(b+L+5<J.x||b-5>J.x+J.width||A+F+5<J.y||A-5>J.y+J.height)})),_=[{x:e.x-y/2,y:e.y-18-f,name:"top"},{x:e.x-y/2,y:e.y+18,name:"bottom"},{x:e.x-y-15,y:e.y-f/2,name:"left"},{x:e.x+15,y:e.y-f/2,name:"right"}],Q=u.findIndex(b=>b.id===e.id);if(u.filter(b=>Math.abs(b.y-e.y)<10&&b.x!==e.x).length>0){const b=Q%2===1;_[0]=b?_[1]:_[0],_.splice(1,1)}let d=_[0];for(const b of _)if(!C(b.x,b.y,y,f,b.name)){d=b;break}const h=d.x,N=d.y,E=h+y/2,M=N+f/2;return o.jsxs("g",{onClick:i,onMouseDown:a,className:n?"cursor-grabbing":"cursor-grab",children:[r&&o.jsx("circle",{cx:e.x,cy:e.y,r:"16",fill:"none",stroke:"rgba(156, 163, 175, 0.6)",strokeWidth:"3",opacity:"0.8",className:l?"animate-[pulse_1s_ease-in-out_infinite] dark:stroke-white/40":"dark:stroke-white/40"}),o.jsx("circle",{cx:e.x,cy:e.y,r:n?"10":"8",fill:t?"#fbbf24":e.color,stroke:r?"rgba(156, 163, 175, 0.8)":"white",strokeWidth:r?"3":"2",className:"transition-all hover:r-10 dark:[stroke:rgba(255,255,255,0.5)]"}),o.jsx("circle",{cx:e.x,cy:e.y,r:"3",fill:"white"}),o.jsx("rect",{x:h,y:N,width:y,height:f,rx:f/2,className:"fill-white dark:fill-gray-700 pointer-events-none",stroke:e.color,strokeWidth:"1.5"}),o.jsx("text",{x:E,y:M,textAnchor:"middle",dominantBaseline:"middle",className:"font-semibold fill-gray-800 dark:fill-gray-200 pointer-events-none select-none",style:{fontSize:"14px"},children:e.name})]})};function Kn(e){return function(){return e}}const wo=Math.PI,So=2*wo,bn=1e-6,Lm=So-bn;function mf(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function zm(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mf;const n=10**t;return function(r){this._+=r[0];for(let l=1,i=r.length;l<i;++l)this._+=Math.round(arguments[l]*n)/n+r[l]}}class Am{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?mf:zm(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,l){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+l}`}bezierCurveTo(t,n,r,l,i,a){this._append`C${+t},${+n},${+r},${+l},${this._x1=+i},${this._y1=+a}`}arcTo(t,n,r,l,i){if(t=+t,n=+n,r=+r,l=+l,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,u=this._y1,s=r-t,c=l-n,g=a-t,y=u-n,f=g*g+y*y;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>bn)if(!(Math.abs(y*s-c*g)>bn)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let P=r-a,C=l-u,_=s*s+c*c,Q=P*P+C*C,m=Math.sqrt(_),d=Math.sqrt(f),h=i*Math.tan((wo-Math.acos((_+f-Q)/(2*m*d)))/2),N=h/d,E=h/m;Math.abs(N-1)>bn&&this._append`L${t+N*g},${n+N*y}`,this._append`A${i},${i},0,0,${+(y*P>g*C)},${this._x1=t+E*s},${this._y1=n+E*c}`}}arc(t,n,r,l,i,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(l),s=r*Math.sin(l),c=t+u,g=n+s,y=1^a,f=a?l-i:i-l;this._x1===null?this._append`M${c},${g}`:(Math.abs(this._x1-c)>bn||Math.abs(this._y1-g)>bn)&&this._append`L${c},${g}`,r&&(f<0&&(f=f%So+So),f>Lm?this._append`A${r},${r},0,1,${y},${t-u},${n-s}A${r},${r},0,1,${y},${this._x1=c},${this._y1=g}`:f>bn&&this._append`A${r},${r},0,${+(f>=wo)},${y},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,l){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+l}h${-r}Z`}toString(){return this._}}function Dm(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Am(t)}function $m(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hf(e){this._context=e}hf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function yf(e){return new hf(e)}function Rm(e){return e[0]}function Im(e){return e[1]}function Ju(e,t){var n=Kn(!0),r=null,l=yf,i=null,a=Dm(u);e=typeof e=="function"?e:e===void 0?Rm:Kn(e),t=typeof t=="function"?t:t===void 0?Im:Kn(t);function u(s){var c,g=(s=$m(s)).length,y,f=!1,P;for(r==null&&(i=l(P=a())),c=0;c<=g;++c)!(c<g&&n(y=s[c],c,s))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(y,c,s),+t(y,c,s));if(P)return i=null,P+""||null}return u.x=function(s){return arguments.length?(e=typeof s=="function"?s:Kn(+s),u):e},u.y=function(s){return arguments.length?(t=typeof s=="function"?s:Kn(+s),u):t},u.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Kn(!!s),u):n},u.curve=function(s){return arguments.length?(l=s,r!=null&&(i=l(r)),u):l},u.context=function(s){return arguments.length?(s==null?r=i=null:i=l(r=s),u):r},u}function Xu(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function gf(e,t){this._context=e,this._k=(1-t)/6}gf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Xu(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Xu(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Om=function e(t){function n(r){return new gf(r,t)}return n.tension=function(r){return e(+r)},n}(0),Fm=({line:e,stations:t,lineStyle:n="smooth",onClick:r,isEditing:l=!1})=>{const i=e.stations.map(s=>t.find(c=>c.id===s)).filter(Boolean);if(i.length<2)return null;const u=(()=>{if(n==="direct")return Ju().x(c=>c.x).y(c=>c.y).curve(yf)(i);if(n==="minimal"){let s=`M ${i[0].x} ${i[0].y}`;for(let c=1;c<i.length;c++){const g=i[c-1],y=i[c],f=y.x-g.x,P=y.y-g.y,C=c>1?i[c-2]:null,_=c<i.length-1?i[c+1]:null;if(Math.abs(f)>5&&Math.abs(P)>5){const m=f>0?1:-1,d=P>0?1:-1;let h=Math.abs(f)>Math.abs(P);if(C){const E=g.x-C.x,M=g.y-C.y;Math.abs(E)>Math.abs(M)?h=!1:Math.abs(M)>Math.abs(E)&&(h=!0)}if(_){const E=_.x-y.x,M=_.y-y.y;Math.abs(M)>Math.abs(E)*1.5?h=!0:Math.abs(E)>Math.abs(M)*1.5&&(h=!1)}const N=.6;if(h){const E=g.x+f*N;s+=` L ${E-15*m} ${g.y}`,s+=` Q ${E} ${g.y}, ${E} ${g.y+15*d}`,s+=` L ${E} ${y.y-15*d}`,s+=` Q ${E} ${y.y}, ${E+15*m} ${y.y}`,s+=` L ${y.x} ${y.y}`}else{const E=g.y+P*N;s+=` L ${g.x} ${E-15*d}`,s+=` Q ${g.x} ${E}, ${g.x+15*m} ${E}`,s+=` L ${y.x-15*m} ${E}`,s+=` Q ${y.x} ${E}, ${y.x} ${E+15*d}`,s+=` L ${y.x} ${y.y}`}}else s+=` L ${y.x} ${y.y}`}return s}else return Ju().x(c=>c.x).y(c=>c.y).curve(Om.tension(-1))(i)})();return o.jsxs("g",{onClick:r,style:{cursor:r?"pointer":"default"},children:[o.jsx("path",{d:u,fill:"none",stroke:"transparent",strokeWidth:"20",strokeLinecap:"round",strokeLinejoin:"round",style:{pointerEvents:r?"stroke":"none"}}),o.jsx("path",{d:u,fill:"none",stroke:e.color,strokeWidth:l?"6":"4",strokeLinecap:"round",strokeLinejoin:"round",opacity:l?"1":"0.8",style:{pointerEvents:"none"}})]})},Zu={en:{appTitle:"Train Line",selectTool:"Select",addStationTool:"Add Station",drawLineTool:"Draw Line",createTrainLineTool:"Create Train Line",drawPathTool:"Draw Path",resetToDefault:"Reset to Default",switchToLightMode:"Switch to Light Mode",switchToDarkMode:"Switch to Dark Mode",apiKeySet:"API Key Set",setApiKey:"Set API Key",zoom:"Zoom",lineStyle:"Line Style",lineStyleDirect:"Direct",lineStyleMinimal:"90° Corners",lineStyleSmooth:"Smooth",undo:"Undo",redo:"Redo",showStationNumbers:"Show Numbers",hideStationNumbers:"Hide Numbers",clickGridToAddStation:"Click on grid to add station",clickStationsToConnect:"Click stations to connect them",clickAnotherStation:"Click another station to complete line",clickToAddStations:"Click grid points to add stations. Right-click to finish.",clickToDrawPath:"Click grid points to draw path. Right-click to finish.",tapToAddStations:'Tap grid points to add stations. Tap "Finish" when done.',tapToDrawPath:'Tap grid points to draw path. Tap "Finish" when done.',finishLine:"Finish Line",populateStations:"Populate Stations",centerView:"Center View",clickPresetToLoad:"Click any preset to load it onto the map",showPresets:"Presets",showAnnouncements:"Announcements",hideMenu:"Hide",editStation:"Edit Station",stationName:"Name",stationColor:"Color",save:"Save",delete:"Delete",editLine:"Edit Line",lineName:"Line Name",lineColor:"Line Color",editor:"Editor",name:"Name",color:"Color",trainLinePresets:"Train Line Presets",loadPresetHint:"Load a preset to get started",stations:"stations",active:"Active","Yamanote Line":"Yamanote Line","Tokyo's iconic circular line":"Tokyo's iconic circular line","Chuo Line":"Chuo Line","Rapid service through central Tokyo":"Rapid service through central Tokyo","Ginza Line":"Ginza Line","Tokyo's oldest subway line":"Tokyo's oldest subway line","Taiyokei Line":"Taiyōkei Line","Solar System train line from Mercury to Pluto in Japanese":"Solar System train line from Mercury to Pluto in Japanese","Taiyokei Line (English)":"Taiyōkei Line (English)","Solar System train line from Mercury to Pluto in English":"Solar System train line from Mercury to Pluto in English",Japan:"Japan","Simple Demo":"Simple Demo","A simple 4-station demo route":"A simple 4-station demo route",announcements:"Announcements",generateAnnouncement:"Generate Announcement",setApiKeyToGenerate:"Set API key to generate announcements",addStationsFirst:"Add stations to the map first",noAnnouncementsYet:"No announcements yet",createFirstAnnouncement:"Create stations and generate your first announcement",audioQueue:"Audio Queue",selectLine:"Select a line to manage announcements",noLinesYet:"No train lines created yet",createLineFirst:"Create a train line to add announcements",stationAnnouncement:"Station",betweenStations:"Between Stations",uploadAudio:"Upload",generateAudio:"Generate",selectPreset:"Preset",noAudioAssigned:"No audio assigned",playAudio:"Play",removeAudio:"Remove",audioTypePreset:"Preset",audioTypeUpload:"Uploaded",audioTypeGenerated:"AI Voice",presetArrival:"We are now arriving at {station}. Please prepare to exit.",presetDeparture:"This train is departing from {station}. Next stop: [Next Station Name].",presetTransfer:"Transfer here for other lines. This is {station}.",presetInformation:"Welcome to {station}. Please mind the gap between the train and the platform.",presetLive:"Attention passengers. Live announcement for {station}.",presetWarning:"Attention. Important safety announcement for {station}.",presetCentralStation:"Now arriving at {station}, the central station. Transfer available for all lines.",playAll:"Play All",stopPlayback:"Stop",previousStation:"Previous Station",nextStation:"Next Station",playPause:"Play/Pause",transcription:"Transcription",playAllSequence:"Play All",cycleSpeed:"Cycle Speed",toggleVolume:"Toggle Volume",mute:"Mute",unmute:"Unmute",stationOf:"Station {current} of {total}",elevenLabsApiKey:"ElevenLabs API Key",apiKeyDescription:"Enter your ElevenLabs API key. It will be stored in your browser session only and cleared when you close the browser.",apiKeyPlaceholder:"sk_...",saveKey:"Save Key",cancel:"Cancel",getApiKeyFrom:"Get your API key from",station:"Station",stationTypes:"Station Types",centralStation:"Central Station",arrival:"Arrival",departure:"Departure",transfer:"Transfer",information:"Information",live:"Live",warning:"Warning",general:"General",misc:"Misc",chime:"Chime",music:"Music",ambience:"Ambience"},ja:{appTitle:"路線図",selectTool:"選択",addStationTool:"駅を追加",drawLineTool:"路線を描く",createTrainLineTool:"路線を作成",drawPathTool:"パスを描く",resetToDefault:"デフォルトにリセット",switchToLightMode:"ライトモードに切り替え",switchToDarkMode:"ダークモードに切り替え",apiKeySet:"APIキー設定済み",setApiKey:"APIキーを設定",zoom:"ズーム",lineStyle:"路線スタイル",lineStyleDirect:"直線",lineStyleMinimal:"90度コーナー",lineStyleSmooth:"スムーズ",undo:"元に戻す",redo:"やり直す",showStationNumbers:"番号を表示",hideStationNumbers:"番号を非表示",clickGridToAddStation:"グリッドをクリックして駅を追加",clickStationsToConnect:"駅をクリックして接続",clickAnotherStation:"別の駅をクリックして路線を完成",clickToAddStations:"グリッドポイントをクリックして駅を追加。右クリックで完了。",clickToDrawPath:"グリッドポイントをクリックしてパスを描く。右クリックで完了。",tapToAddStations:"グリッドポイントをタップして駅を追加。完了したら「完了」をタップ。",tapToDrawPath:"グリッドポイントをタップしてパスを描く。完了したら「完了」をタップ。",finishLine:"路線を完了",populateStations:"駅を配置",centerView:"ビューを中央に",clickPresetToLoad:"プリセットをクリックしてマップに読み込む",showPresets:"プリセット",showAnnouncements:"アナウンス",hideMenu:"非表示",editStation:"駅を編集",stationName:"駅名",stationColor:"色",save:"保存",delete:"削除",editLine:"路線を編集",lineName:"路線名",lineColor:"路線の色",editor:"エディター",name:"名前",color:"色",trainLinePresets:"路線プリセット",loadPresetHint:"プリセットを読み込んで開始",stations:"駅",active:"アクティブ","Yamanote Line":"山手線","Tokyo's iconic circular line":"東京の象徴的な環状線","Chuo Line":"中央線","Rapid service through central Tokyo":"東京中心部を走る快速列車","Ginza Line":"銀座線","Tokyo's oldest subway line":"東京最古の地下鉄路線","Taiyokei Line":"太陽系線","Solar System train line from Mercury to Pluto in Japanese":"水星から冥王星までの太陽系線（日本語）","Taiyokei Line (English)":"太陽系線（英語版）","Solar System train line from Mercury to Pluto in English":"水星から冥王星までの太陽系線（英語）",Japan:"日本","Simple Demo":"シンプルデモ","A simple 4-station demo route":"シンプルな4駅のデモルート",announcements:"アナウンス",generateAnnouncement:"アナウンスを生成",setApiKeyToGenerate:"APIキーを設定してアナウンスを生成",addStationsFirst:"最初に駅をマップに追加",noAnnouncementsYet:"まだアナウンスがありません",createFirstAnnouncement:"駅を作成して最初のアナウンスを生成",audioQueue:"オーディオキュー",selectLine:"路線を選択してアナウンスを管理",noLinesYet:"まだ路線が作成されていません",createLineFirst:"路線を作成してアナウンスを追加",stationAnnouncement:"駅",betweenStations:"駅間",uploadAudio:"アップロード",generateAudio:"生成",selectPreset:"プリセット",noAudioAssigned:"オーディオ未割り当て",playAudio:"再生",removeAudio:"削除",audioTypePreset:"プリセット",audioTypeUpload:"アップロード済み",audioTypeGenerated:"AI音声",presetArrival:"まもなく、{station}、{station}です。出口は右側です。",presetDeparture:"{station}を発車いたします。次は、[次の駅名]です。",presetTransfer:"お乗り換えの方は、{station}です。",presetInformation:"{station}にご到着です。足元にご注意ください。",presetLive:"お客様にお知らせいたします。{station}からのご案内です。",presetWarning:"ご注意ください。{station}からの重要なお知らせです。",presetCentralStation:"まもなく、{station}、{station}です。各線にお乗り換えいただけます。",playAll:"すべて再生",stopPlayback:"停止",previousStation:"前の駅",nextStation:"次の駅",playPause:"再生/一時停止",transcription:"文字起こし",playAllSequence:"すべて再生",cycleSpeed:"速度切替",toggleVolume:"音量切替",mute:"ミュート",unmute:"ミュート解除",stationOf:"駅 {current} / {total}",elevenLabsApiKey:"ElevenLabs APIキー",apiKeyDescription:"ElevenLabs APIキーを入力してください。ブラウザセッションにのみ保存され、ブラウザを閉じるとクリアされます。",apiKeyPlaceholder:"sk_...",saveKey:"キーを保存",cancel:"キャンセル",getApiKeyFrom:"APIキーを取得：",station:"駅",stationTypes:"駅種別",centralStation:"主要駅",arrival:"到着",departure:"発車",transfer:"乗換",information:"案内",live:"肉声放送",warning:"警告",general:"一般",misc:"その他",chime:"チャイム",music:"音楽",ambience:"環境音"}},qu=[{code:"en",name:"English",flag:"🇬🇧"},{code:"ja",name:"日本語",flag:"🇯🇵"}],jr=e=>({t:n=>{var r;return((r=Zu[e])==null?void 0:r[n])||Zu.en[n]||n}}),Um=({station:e,line:t,lines:n=[],stations:r=[],onUpdateStation:l,onUpdateLine:i,onDeleteStation:a,onDeleteLine:u,onClose:s,language:c="en"})=>{var M;const{t:g}=jr(c),y=["#ef4444","#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#a855f7","#14b8a6","#f43f5e"],f=e?(M=n.find(b=>{var A;return(A=b.stations)==null?void 0:A.includes(e.id)}))==null?void 0:M.id:null,P=f?n.find(b=>b.id===f):null,C=(t==null?void 0:t.id)||f,_=n.find(b=>b.id===C),Q=b=>{if(e&&l){const A={...e,name:b.target.value};l(A)}},m=b=>{if(e&&l){const A={...e,color:b};l(A)}},d=b=>{if(_&&i){const A={..._,name:b.target.value};i(A)}},h=b=>{if(_&&i){const A={..._,color:b};i(A,!0)}},N=(b,A)=>{A?m(b.target.value):h(b.target.value)},E=(b,A,L,F,oe,I,le)=>o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 text-sm flex items-center gap-2",children:[b,I&&o.jsx("button",{onClick:()=>I(le),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",title:g("delete"),children:o.jsx(bm,{size:14})})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1 block",children:g("name")}),o.jsx("input",{type:"text",value:A,onChange:F,className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2 block",children:g("color")}),o.jsx("div",{className:"grid grid-cols-6 gap-2 mb-3",children:y.map(q=>o.jsx("button",{onClick:()=>oe(q),className:`w-9 h-9 rounded-lg transition-all hover:scale-110 ${L===q?"ring-2 ring-offset-2 ring-blue-500 dark:ring-offset-gray-800":""}`,style:{backgroundColor:q},title:q},q))}),o.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[o.jsx(Nm,{size:14,className:"text-gray-500 dark:text-gray-400"}),o.jsx("input",{type:"color",value:L,onChange:q=>N(q,b===g("editStation")),className:"w-12 h-8 rounded border border-gray-300 dark:border-gray-600 cursor-pointer"}),o.jsx("input",{type:"text",value:L,onChange:q=>N(q,b===g("editStation")),placeholder:"#000000",className:"flex-1 px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]})]});return o.jsxs("div",{className:"absolute top-4 right-4 bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 w-72 z-10 max-h-[calc(100vh-2rem)] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200",children:g("editor")}),o.jsx("button",{onClick:s,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:o.jsx(pr,{size:20})})]}),e&&E(g("editStation"),e.name,e.color,Q,m,a,e.id),e&&P&&o.jsx("div",{className:"my-4 border-t border-gray-300 dark:border-gray-600"}),_&&E(g("editLine"),_.name,_.color,d,h,t?u:null,_.id)]})},Ca={english:["Central Station","North Station","South Station","East Station","West Station","Downtown","Midtown","Uptown","Riverside","Hillside","Park View","Garden Plaza","Market Square","City Center","Town Hall","University","Hospital","Airport","Harbor","Bridge","Highland","Lakeside","Woodland","Meadow","Summit","Valley","Bay View","Oceanside","Sunset","Sunrise","Liberty","Victory","Union","Grand","Royal"],japanese:["東京","新宿","渋谷","池袋","上野","品川","横浜","大宮","千葉","川崎","中野","吉祥寺","立川","八王子","町田","新橋","有楽町","秋葉原","神田","浅草","目黒","恵比寿","五反田","大崎","田町","原宿","代々木","高田馬場","新大久保","鶯谷","日暮里","西日暮里","駒込","巣鴨","大塚"],generic:["Station A","Station B","Station C","Station D","Station E","Station F","Station G","Station H","Station I","Station J","Station K","Station L","Station M","Station N","Station O","Station P","Station Q","Station R","Station S","Station T","Station U","Station V","Station W","Station X","Station Y","Station Z"]},Fr=(e,t="en",n=null)=>{const r=new Set(e.map(i=>i.name));let l=Ca.generic;t==="ja"?l=Ca.japanese:t==="en"&&(l=Ca.english);for(const i of l)if(!r.has(i))return i;return`Station ${e.length+1}`},Vm=()=>"/Train-Announcement-Creator/",xf=e=>`${Vm()}audio/presets/${e}`.replace(/\/\//g,"/"),Hm=()=>["shinjuku1bansen-jihatu.mp3","shinjuku1bansen-sekkin.mp3","shinjuku1bansen-totyaku.mp3","Taioykei Mercury JP.mp3","Taioykei Dep Mercury JP.mp3","Taioykei Venus JP.mp3","Taioykei Dep Venus JP.mp3","Taioykei Earth JP.mp3","Taioykei Dep Earth JP.mp3","Taioykei Mars JP.mp3","Taioykei Dep Mars JP.mp3","Taioykei Jupiter JP.mp3","Taioykei Dep Jupiter JP.mp3","Taioykei Saturn JP.mp3","Taioykei Dep Saturn JP.mp3","Taioykei Uranus JP.mp3","Taioykei Dep Uranus JP.mp3","Taioykei Neptune JP.mp3","Taioykei Dep Neptune JP.mp3","Taioykei Pluto JP.mp3","Taioykei Mercury EN.mp3","Taioykei Dep Mercury EN.mp3","Taioykei Venus EN.mp3","Taioykei Dep Venus EN.mp3","Taioykei Earth EN.mp3","Taioykei Dep Earth EN.mp3","Taioykei Mars EN.mp3","Taioykei Dep Mars EN.mp3","Taioykei Jupiter EN.mp3","Taioykei Dep Jupiter EN.mp3","Taioykei Saturn EN.mp3","Taioykei Dep Saturn EN.mp3","Taioykei Uranus EN.mp3","Taioykei Dep Uranus EN.mp3","Taioykei Neptune EN.mp3","Taioykei Dep Neptune EN.mp3","Taioykei Pluto EN.mp3"].map((t,n)=>({id:`preset-${n}`,name:t.replace(".mp3",""),path:xf(t),index:n})),vf=()=>o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:"flex-shrink-0",children:[o.jsx("rect",{x:"1",y:"5",width:"2",height:"4",fill:"currentColor",className:"animate-sound-wave",style:{animationDelay:"0ms"}}),o.jsx("rect",{x:"4",y:"3",width:"2",height:"8",fill:"currentColor",className:"animate-sound-wave",style:{animationDelay:"150ms"}}),o.jsx("rect",{x:"7",y:"2",width:"2",height:"10",fill:"currentColor",className:"animate-sound-wave",style:{animationDelay:"300ms"}}),o.jsx("rect",{x:"10",y:"4",width:"2",height:"6",fill:"currentColor",className:"animate-sound-wave",style:{animationDelay:"450ms"}})]}),Yn="flex items-center justify-center p-1.5 rounded-lg transition-colors bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",Bm=({stations:e,lines:t,announcements:n,setAnnouncements:r,audioAssignments:l,setAudioAssignments:i,announcementTypes:a,setAnnouncementTypes:u,betweenSegments:s,setBetweenSegments:c,uploadedAudios:g,setUploadedAudios:y,generatedAudioHistory:f,setGeneratedAudioHistory:P,apiKey:C,language:_="en",isMobile:Q,onClose:m,onStationSelect:d,selectedStationId:h,showStationNumbers:N=!1,onPlayingStationChange:E,showTranscription:M=!1,setShowTranscription:b,setCurrentTranscription:A})=>{const{t:L}=jr(_),[F,oe]=k.useState(null),[I,le]=k.useState(null),[q,Se]=k.useState(!1),[J,se]=k.useState(!1),[R,V]=k.useState({}),[B,ee]=k.useState(null),[ie,de]=k.useState("text-to-speech"),[ue,je]=k.useState(""),[he,Me]=k.useState("21m00Tcm4TlvDq8ikWAM"),Ve=k.useMemo(()=>[{id:"21m00Tcm4TlvDq8ikWAM",name:"Rachel",preview:"/src/assets/audio/presets/Rachel preview.mp3"},{id:"sRYzP8TwEiiqAWebdYPJ",name:"Hatakekohei",preview:"/src/assets/audio/presets/Hatakekohei preview.mp3"}],[]),[Sn,Lt]=k.useState(null),[Re,dt]=k.useState(!1),Ge=k.useRef(null),K=k.useRef(null),[Vt,zt]=k.useState(!1),[Nt,Cr]=k.useState(1),[At,Un]=k.useState(1),[He,Vn]=k.useState(!1),[Nn,Pr]=k.useState(!1),[Dt,Er]=k.useState(!1),[fe,Hn]=k.useState(null),[jt,jn]=k.useState({}),[Cn,Je]=k.useState({}),[br,Tr]=k.useState(0),[Xe,lt]=k.useState(0),S=k.useRef({}),v=k.useRef(null),x=k.useRef({}),w=k.useRef(null),$=k.useRef(null),te=k.useRef(!1);k.useEffect(()=>{te.current=q},[q]),k.useEffect(()=>{if(E&&I){const p=I.match(/^station-(.+)$/);p?E(p[1],!J):E(null,!1)}else E&&E(null,!1)},[I,J,E]),k.useEffect(()=>{if(I&&!J){const p=I.match(/^station-(.+)$/);p&&d?d(p[1]):I.startsWith("between")&&d&&d(null)}},[I,J,d]),k.useEffect(()=>{if(A)if(I&&!J){const p=l[I];A((p==null?void 0:p.transcription)||"")}else A("")},[I,J,l,A]),k.useEffect(()=>{v.current&&(v.current.pause(),v.current=null),le(null),se(!1),Se(!1),w.current&&(clearInterval(w.current),w.current=null),$.current&&(clearInterval($.current),$.current=null)},[e,t]),k.useEffect(()=>{t.length>0&&(!F||!t.find(p=>p.id===F))&&oe(t[0].id)},[t,F]),k.useEffect(()=>{const p=T=>{Object.keys(R).every(U=>{const H=x.current[U];return!H||!H.contains(T.target)})&&V({}),Re&&K.current&&!K.current.contains(T.target)&&dt(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[R,Re]);const Pe=k.useMemo(()=>t.find(p=>p.id===F),[t,F]),ne=k.useMemo(()=>Pe?Pe.stations.map(p=>e.find(T=>T.id===p)).filter(Boolean).filter((p,T,j)=>T===j.length-1&&j.length>1?p.id!==j[0].id:!0):[],[Pe,e]),ft=(Pe==null?void 0:Pe.color)||"#ef4444",pt=k.useMemo(()=>Hm(),[]),$t=k.useCallback(p=>t.filter(T=>T.stations.includes(p)),[t]),Ee=(p,T)=>{if(T)try{const j=new Audio(T);j.preload="metadata",j.addEventListener("loadedmetadata",()=>{const U=Math.ceil(j.duration);U&&!isNaN(U)&&jn(H=>({...H,[p]:U}))}),j.addEventListener("error",U=>{console.warn(`Could not load audio metadata for ${p}:`,T),jn(H=>({...H,[p]:30}))}),j.load()}catch(j){console.warn(`Error creating audio for ${p}:`,j),jn(U=>({...U,[p]:30}))}},ge=p=>{if(p<60)return`${p}s`;const T=Math.floor(p/60),j=p%60;return j>0?`${T}m ${j}s`:`${T}m`},Be=k.useCallback(()=>{const p=[];return ne.forEach((T,j)=>{var H,G;const U=`station-${T.id}`;if((H=l[U])!=null&&H.url&&p.push(U),j<ne.length-1){const W=`between-${T.id}-${ne[j+1].id}`;(G=l[W])!=null&&G.url&&p.push(W);const Z=s[W];Array.isArray(Z)&&Z.forEach(xe=>{var ht;(ht=l[xe])!=null&&ht.url&&p.push(xe)})}}),p},[ne,l,s]),Ze=()=>{let p=0;return Be().forEach(j=>{jt[j]&&(p+=jt[j])}),p},jl=()=>{let p=0;const T=Be();for(let j=0;j<Xe&&j<T.length;j++){const U=T[j];jt[U]&&(p+=jt[U])}return T[Xe]&&v.current&&!v.current.paused&&(p+=Math.ceil(v.current.currentTime)),p},Cl=()=>Ze()-jl();k.useEffect(()=>{if(ne.length>0&&F){const p={},T=new Set;ne.forEach((U,H)=>{T.add(`station-${U.id}`),H<ne.length-1&&T.add(`between-${U.id}-${ne[H+1].id}`)});const j={};Object.keys(l).forEach(U=>{T.has(U)&&(j[U]=l[U])}),ne.forEach((U,H)=>{const G=H*2,W=`station-${U.id}`;if(j[W])p[W]=j[W],j[W].url&&Ee(W,j[W].url);else{const Z=pt[G%pt.length];p[W]={type:"preset",url:Z.path,name:Z.name},Ee(W,Z.path)}if(H<ne.length-1){const Z=`between-${U.id}-${ne[H+1].id}`;if(j[Z])p[Z]=j[Z],j[Z].url&&Ee(Z,j[Z].url);else{const xe=pt[(G+1)%pt.length];p[Z]={type:"preset",url:xe.path,name:xe.name},Ee(Z,xe.path)}}}),i(p)}},[F,ne.length]);const Qi=k.useCallback((p,T="station",j=null)=>{switch(a[p]||T){case"station":return o.jsx(ko,{size:14,style:j?{color:j}:{},className:j?"":"text-blue-500"});case"centralStation":return o.jsx(Ru,{size:14,style:j?{color:j}:{},className:j?"":"text-purple-500"});case"arrival":return o.jsx(Du,{size:14,className:"text-green-500"});case"departure":return o.jsx(Wu,{size:14,className:"text-orange-500"});case"transfer":return o.jsx(Qr,{size:14,className:"text-purple-500"});case"information":return o.jsx(Ou,{size:14,className:"text-cyan-500"});case"live":return o.jsx(Uu,{size:14,className:"text-pink-500"});case"warning":return o.jsx(Au,{size:14,className:"text-red-500"});case"chime":return o.jsx($u,{size:14,className:"text-yellow-500"});case"music":return o.jsx(Vu,{size:14,className:"text-pink-500"});case"ambience":return o.jsx(Hu,{size:14,className:"text-indigo-500"});case"general":default:return o.jsx(Qr,{size:14,className:"text-gray-400"})}},[a]),Pl=k.useCallback((p,T="general")=>{switch(a[p]||T){case"station":return L("station");case"centralStation":return L("centralStation");case"arrival":return L("arrival");case"departure":return L("departure");case"transfer":return L("transfer");case"information":return L("information");case"live":return L("live");case"warning":return L("warning");case"chime":return L("chime");case"music":return L("music");case"ambience":return L("ambience");case"general":default:return L("general")}},[a,L]),wf=p=>{const j=$t(p).map(G=>G.color);if(j.length===0)return o.jsx("div",{className:"relative z-10 w-4 h-4 rounded-full bg-gray-400 dark:bg-gray-500 border-[3px] border-gray-200 dark:border-gray-700"});if(j.length===1)return o.jsx("div",{className:"relative z-10 w-4 h-4 rounded-full border-[3px]",style:{backgroundColor:j[0],borderColor:j[0]}});const U=360/j.length,H=j.map((G,W)=>{const Z=W*U,xe=(W+1)*U;return`${G} ${Z}deg ${xe}deg`}).join(", ");return o.jsx("div",{className:"relative z-10 w-4 h-4 rounded-full",style:{background:`conic-gradient(${H})`,padding:"3px"},children:o.jsx("div",{className:"w-full h-full rounded-full",style:{backgroundColor:j[0]}})})},Sf=p=>{d&&d(p)},mt=(p,T)=>{u(j=>({...j,[p]:T}))},Ki=p=>{const T=`${p}-segment-${Date.now()}`;c(j=>({...j,[p]:[...j[p]||[],T]}))},Nf=(p,T)=>{c(j=>({...j,[p]:(j[p]||[]).filter(U=>U!==T)})),i(j=>{const U={...j};return delete U[T],U})},jf=p=>{i(T=>{var U,H;const j={...T};return(U=j[p])!=null&&U.url&&((H=j[p])==null?void 0:H.type)==="upload"&&URL.revokeObjectURL(j[p].url),delete j[p],j})},Cf=(p,T)=>{const j=T.target.files[0];if(j&&j.type.startsWith("audio/")){const U=URL.createObjectURL(j),H={id:`upload-${Date.now()}`,name:j.name,url:U};y(G=>[...G,H]),i(G=>({...G,[p]:{type:"upload",url:U,name:j.name}})),Ee(p,U),V({})}},Pf=k.useCallback((p,T)=>{if(!p)return"";if(p.type==="preset")return p.name;if(p.type==="upload")return`${L("audioTypeUpload")}: ${p.name}`;if(p.type==="generated"){if(!T)return`${p.voiceName||L("audioTypeGenerated")} #1`;const U=T.split("-").find(G=>!isNaN(parseInt(G))),H=U?parseInt(U)+1:1;return`${p.voiceName||L("audioTypeGenerated")} #${H}`}return p.name},[L]),Ef=k.useCallback((p,T)=>{const j=a[p];if(["chime","music","ambience"].includes(j))return"";switch(j){case"arrival":return L("presetArrival").replaceAll("{station}",T);case"departure":return L("presetDeparture").replaceAll("{station}",T);case"transfer":return L("presetTransfer").replaceAll("{station}",T);case"information":return L("presetInformation").replaceAll("{station}",T);case"live":return L("presetLive").replaceAll("{station}",T);case"warning":return L("presetWarning").replaceAll("{station}",T);case"centralStation":return L("presetCentralStation").replaceAll("{station}",T);case"station":default:return`${T}`}},[a,L]),bf=k.useCallback(async(p,T)=>{var j;if(!(!C||!ue.trim()||ie!=="text-to-speech")){zt(!0);try{const U=await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${he}`,{method:"POST",headers:{"Content-Type":"application/json","xi-api-key":C},body:JSON.stringify({text:ue,model_id:"eleven_multilingual_v2",output_format:"mp3_44100_128"})});if(U.ok){const H=await U.blob(),G=URL.createObjectURL(H),W={url:G,name:`AI: ${ue.substring(0,30)}${ue.length>30?"...":""}`,type:"generated",text:ue,voice:he,voiceName:((j=Ve.find(Z=>Z.id===he))==null?void 0:j.name)||"Unknown",timestamp:Date.now()};P(Z=>({...Z,[p]:[...Z[p]||[],W]})),i(Z=>({...Z,[p]:W})),Ee(p,G)}else{console.error("Failed to generate audio:",U.status);const H=await U.text();console.error("Error details:",H),alert("Failed to generate audio. Please check your API key and try again.")}}catch(U){console.error("Error generating audio:",U),alert("Error generating audio. Please try again.")}finally{zt(!1)}}},[C,ue,he,ie,Ee]),xs=(p,T)=>{const j=T.path||T.url;i(U=>({...U,[p]:{type:"preset",url:j,name:T.name}})),Ee(p,j),V({})},vs=p=>{V(T=>({...T,[p]:!T[p]})),ee(null)},Tf=(p,T="")=>{ee(p),V({});const j=Ef(p,T);je(j)},_f=p=>{const T=l[p];if(T!=null&&T.url)if(I===p&&!J)v.current&&v.current.pause(),w.current&&(clearInterval(w.current),w.current=null),$.current&&(clearInterval($.current),$.current=null),se(!0),Se(!1);else if(I===p&&J)v.current&&(v.current.play(),se(!1),w.current=setInterval(()=>{if(v.current&&!v.current.paused){const j=Math.ceil(v.current.duration-v.current.currentTime);Je(U=>({...U,[p]:j}))}},100));else{q&&(Se(!1),$.current&&(clearInterval($.current),$.current=null)),v.current&&v.current.pause(),w.current&&clearInterval(w.current),I&&Je(G=>{const W={...G};return delete W[I],W}),le(p),se(!1);const j=new Audio(T.url);v.current=j,j.playbackRate=Nt,j.volume=He?0:At;const H=Be().indexOf(p);H!==-1&&lt(H),w.current=setInterval(()=>{if(j&&!j.paused){const G=Math.ceil(j.duration-j.currentTime);Je(W=>({...W,[p]:G}))}},100),j.onended=()=>{le(null),se(!1),v.current=null,w.current&&(clearInterval(w.current),w.current=null),Je(G=>{const W={...G};return delete W[p],W})},j.onerror=G=>{console.error("Audio playback error:",G),le(null),se(!1),v.current=null,w.current&&(clearInterval(w.current),w.current=null)},j.play().catch(G=>{console.error("Failed to play audio:",G),le(null),se(!1),v.current=null,w.current&&(clearInterval(w.current),w.current=null)})}},ks=p=>{Cr(p),v.current&&(v.current.playbackRate=p)},Mf=()=>{if(q)Se(!1),se(!0),v.current&&v.current.pause(),$.current&&(clearInterval($.current),$.current=null),w.current&&(clearInterval(w.current),w.current=null);else{const p=Be();if(p.length===0)return;w.current&&(clearInterval(w.current),w.current=null),J&&I&&v.current?(Se(!0),se(!1),v.current.play().then(()=>{Yi(),w.current=setInterval(()=>{if(v.current&&!v.current.paused){const T=Math.ceil(v.current.duration-v.current.currentTime);Je(j=>({...j,[I]:T}))}},100)}).catch(T=>{console.error("Failed to resume audio:",T),Se(!1),se(!0)})):!I||!p.includes(I)?(v.current&&(v.current.pause(),v.current=null),lt(0),Se(!0),se(!1),setTimeout(()=>Gi(0),0)):(Se(!0),se(!1),Yi())}},Lf=()=>{const p=Be();if(p.length!==0)if(I&&Je(T=>{const j={...T};return delete j[I],j}),se(!1),q){const T=Xe>0?Xe-1:p.length-1;lt(T),Gi(T)}else{const T=Xe>0?Xe-1:p.length-1;lt(T),le(p[T])}},zf=()=>{const p=Be();if(p.length!==0)if(I&&Je(T=>{const j={...T};return delete j[I],j}),se(!1),q){const T=(Xe+1)%p.length;lt(T),Gi(T)}else{const T=(Xe+1)%p.length;lt(T),le(p[T])}},Yi=()=>{$.current&&clearInterval($.current),$.current=setInterval(()=>{Tr(Date.now())},500)},Gi=async p=>{const T=Be();if(!(p>=T.length)){v.current&&(v.current.pause(),v.current=null),w.current&&(clearInterval(w.current),w.current=null),Yi(),se(!1);for(let j=p;j<T.length&&te.current;j++){const U=T[j],H=l[U];H!=null&&H.url&&(lt(j),le(U),await new Promise(G=>{const W=new Audio(H.url);v.current=W,W.playbackRate=Nt,W.volume=He?0:At,w.current=setInterval(()=>{if(W&&!W.paused){const Z=Math.ceil(W.duration-W.currentTime);Je(xe=>({...xe,[U]:Z}))}},100),W.onended=()=>{w.current&&(clearInterval(w.current),w.current=null),Je(Z=>{const xe={...Z};return delete xe[U],xe}),G()},W.onerror=Z=>{console.error("Audio playback error:",Z),w.current&&(clearInterval(w.current),w.current=null),G()},W.play().catch(Z=>{console.error("Failed to play audio:",Z),w.current&&(clearInterval(w.current),w.current=null),G()})}))}Se(!1),se(!1),le(null),lt(0),v.current=null,$.current&&(clearInterval($.current),$.current=null)}};k.useEffect(()=>()=>{$.current&&clearInterval($.current)},[]);const Ji=(p,T,j=null,U=0,H=!1,G=null)=>{var Ns;const W=l[p],xe=I===p&&!J,ht=!p.startsWith("between")&&!H,El=ht&&j&&j===h,ws=R[p],Af=B===p,Df=R[`${p}-type`],$f=p.startsWith("between")||H?"general":"station",Ss=xe||El&&!xe;return o.jsx("div",{className:`border rounded-lg transition-all overflow-visible ${Ss?"ring-2 ring-blue-500 border-blue-500":"border-gray-200 dark:border-gray-700"}`,children:o.jsxs("div",{className:`p-2 transition-colors rounded-lg ${Ss?"bg-blue-50 dark:bg-blue-900/20":"bg-white dark:bg-gray-800"}`,onClick:()=>{ht&&j&&Sf(j)},children:[o.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-5 flex items-center justify-center flex-shrink-0",children:N&&ht?o.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400",children:U/2+1}):o.jsxs("div",{className:"relative",ref:D=>x.current[`${p}-type`]=D,children:[o.jsx("button",{onClick:D=>{D.stopPropagation(),vs(`${p}-type`)},className:"flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-600 rounded p-0.5 transition-colors",children:Qi(p,$f,ht?ft:null)}),Df&&o.jsx("div",{className:"absolute left-0 top-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 py-1 min-w-[160px]",children:ht?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider pointer-events-none",children:L("stationTypes")}),o.jsxs("button",{onClick:D=>{D.stopPropagation(),mt(p,"station"),V({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[o.jsx(ko,{size:14,className:"text-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:L("station")})]}),o.jsxs("button",{onClick:D=>{D.stopPropagation(),mt(p,"centralStation"),V({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[o.jsx(Ru,{size:14,className:"text-purple-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:L("centralStation")})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider pointer-events-none",children:L("announcements")}),o.jsxs("button",{onClick:D=>{D.stopPropagation(),mt(p,"general"),V({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[o.jsx(Qr,{size:14,className:"text-gray-400"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:L("general")})]}),o.jsxs("button",{onClick:D=>{D.stopPropagation(),mt(p,"arrival"),V({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[o.jsx(Du,{size:14,className:"text-green-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:L("arrival")})]}),o.jsxs("button",{onClick:D=>{D.stopPropagation(),mt(p,"departure"),V({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[o.jsx(Wu,{size:14,className:"text-orange-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:L("departure")})]}),o.jsxs("button",{onClick:D=>{D.stopPropagation(),mt(p,"transfer"),V({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[o.jsx(Qr,{size:14,className:"text-purple-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:L("transfer")})]}),o.jsxs("button",{onClick:D=>{D.stopPropagation(),mt(p,"information"),V({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[o.jsx(Ou,{size:14,className:"text-cyan-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:L("information")})]}),o.jsxs("button",{onClick:D=>{D.stopPropagation(),mt(p,"live"),V({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[o.jsx(Uu,{size:14,className:"text-pink-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:L("live")})]}),o.jsxs("button",{onClick:D=>{D.stopPropagation(),mt(p,"warning"),V({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[o.jsx(Au,{size:14,className:"text-red-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:L("warning")})]}),o.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),o.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider pointer-events-none",children:L("misc")}),o.jsxs("button",{onClick:D=>{D.stopPropagation(),mt(p,"chime"),V({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[o.jsx($u,{size:14,className:"text-yellow-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:L("chime")})]}),o.jsxs("button",{onClick:D=>{D.stopPropagation(),mt(p,"music"),V({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[o.jsx(Vu,{size:14,className:"text-pink-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:L("music")})]}),o.jsxs("button",{onClick:D=>{D.stopPropagation(),mt(p,"ambience"),V({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[o.jsx(Hu,{size:14,className:"text-indigo-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:L("ambience")})]})]})})]})}),o.jsx("span",{className:"font-medium text-sm text-gray-800 dark:text-gray-200 flex-shrink-0",children:T}),(H&&G||!ht&&!H&&W)&&o.jsx("button",{onClick:D=>{D.stopPropagation(),H&&G?Nf(G,p):jf(p)},className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/20 rounded transition-colors flex-shrink-0",title:"Remove segment",children:o.jsx(pr,{size:12,className:"text-red-500"})})]}),W&&jt[p]&&o.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 flex-shrink-0 font-medium",children:Cn[p]!==void 0?ge(Cn[p]):ge(jt[p])})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-5 flex items-center justify-center flex-shrink-0",children:xe&&o.jsx("div",{className:"flex items-center gap-1 px-1.5 py-0.5 bg-blue-500 text-white rounded",children:o.jsx(vf,{})})}),o.jsxs("div",{className:"flex-1 relative",ref:D=>x.current[p]=D,children:[o.jsx("input",{ref:D=>S.current[p]=D,type:"file",accept:"audio/*",onChange:D=>Cf(p,D),className:"hidden"}),o.jsxs("button",{onClick:D=>{D.stopPropagation(),vs(p)},className:"w-full flex items-center justify-between gap-2 px-2 py-1.5 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 rounded border border-gray-200 dark:border-gray-600 transition-colors text-xs",children:[o.jsx("span",{className:"truncate text-gray-700 dark:text-gray-300",children:W?Pf(W,p):"Select audio..."}),ws?o.jsx(Wr,{size:14,className:"flex-shrink-0 text-gray-500"}):o.jsx(Wl,{size:14,className:"flex-shrink-0 text-gray-500"})]}),ws&&o.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:[o.jsxs("button",{onClick:D=>{var yt;D.stopPropagation(),(yt=S.current[p])==null||yt.click()},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm text-gray-700 dark:text-gray-300 border-b border-gray-100 dark:border-gray-700",children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"+"}),o.jsx("span",{children:"Upload Audio"})]}),o.jsxs("button",{onClick:D=>{D.stopPropagation(),Tf(p,T)},disabled:!C,className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm text-gray-700 dark:text-gray-300 border-b border-gray-100 dark:border-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"+"}),o.jsx("span",{children:"Generate with AI"})]}),o.jsxs("div",{className:"py-1",children:[g.map(D=>o.jsx("button",{onClick:yt=>{yt.stopPropagation(),xs(p,{path:D.url,name:D.name})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm text-gray-700 dark:text-gray-300",children:o.jsx("span",{className:"truncate",children:D.name})},D.id)),pt.map(D=>o.jsx("button",{onClick:yt=>{yt.stopPropagation(),xs(p,D)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm text-gray-700 dark:text-gray-300",children:o.jsx("span",{className:"truncate",children:D.name})},D.id))]})]})]}),W&&o.jsx("button",{onClick:D=>{D.stopPropagation(),_f(p)},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors flex-shrink-0",title:L("playAudio"),children:xe?o.jsx(Ql,{size:14,className:"text-blue-500"}):o.jsx(Kl,{size:14,className:"text-gray-600 dark:text-gray-400"})})]}),Af&&o.jsxs("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 max-w-full overflow-visible",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"AI Generation"}),o.jsxs("div",{className:"space-y-2 mb-3",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"generationType",value:"text-to-speech",checked:ie==="text-to-speech",onChange:D=>de(D.target.value),className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Text-to-Speech"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-not-allowed opacity-50",children:[o.jsx("input",{type:"radio",name:"generationType",value:"sound-effects",disabled:!0,className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Sound Effects (Coming Soon)"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-not-allowed opacity-50",children:[o.jsx("input",{type:"radio",name:"generationType",value:"music",disabled:!0,className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Music (Coming Soon)"})]})]}),ie==="text-to-speech"&&o.jsxs("div",{className:"space-y-3 max-w-full",children:[o.jsxs("div",{className:"relative",ref:K,children:[o.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1 block",children:"Voice"}),o.jsxs("button",{onClick:D=>{D.stopPropagation(),dt(!Re)},className:"w-full flex items-center justify-between gap-2 px-2 py-1.5 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 rounded border border-gray-200 dark:border-gray-600 transition-colors text-xs",children:[o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:((Ns=Ve.find(D=>D.id===he))==null?void 0:Ns.name)||"Select voice..."}),Re?o.jsx(Wr,{size:14,className:"flex-shrink-0 text-gray-500"}):o.jsx(Wl,{size:14,className:"flex-shrink-0 text-gray-500"})]}),Re&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-[100] overflow-hidden",children:Ve.map(D=>{const yt=he===D.id,_r=Sn===D.id;return o.jsxs("button",{onClick:en=>{en.stopPropagation(),!en.target.closest(".preview-button")&&(Me(D.id),dt(!1))},className:`w-full flex items-center gap-2 px-3 py-1.5 border-b border-gray-100 dark:border-gray-700 last:border-b-0 text-left text-xs ${yt?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,children:[o.jsx("span",{className:"flex-1 text-gray-700 dark:text-gray-300",children:D.name}),o.jsx("span",{className:"preview-button p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors flex-shrink-0",onClick:en=>{var Bn;en.stopPropagation(),_r?((Bn=Ge.current)==null||Bn.pause(),Lt(null)):Ge.current&&(Ge.current.src=D.preview,Ge.current.play(),Lt(D.id))},title:`Preview ${D.name}`,children:_r?o.jsx(Ql,{size:14,className:"text-blue-500"}):o.jsx(Kl,{size:14,className:"text-gray-600 dark:text-gray-400"})})]},D.id)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1 block",children:"Text"}),o.jsx("textarea",{value:ue,onChange:D=>je(D.target.value),placeholder:"Enter the text to convert to speech...",className:"w-full px-2 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3,onClick:D=>D.stopPropagation()})]}),f[p]&&f[p].length>0&&!Vt&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Generated Audio:"}),f[p].map((D,yt)=>{const _r=W&&W.url===D.url,en=`${p}-gen-${yt}`,Bn=I===en,js=Bn&&!J;return o.jsx("button",{onClick:Mr=>{Mr.stopPropagation(),i(Ht=>({...Ht,[p]:D}))},className:`w-full p-2 border rounded bg-gray-50 dark:bg-gray-700/50 transition-all text-left ${_r?"border-blue-500 ring-2 ring-blue-500 ring-opacity-50":"border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500"}`,children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("p",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium mb-1",children:[D.voiceName," #",yt+1]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 break-words whitespace-normal",children:D.text})]}),o.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[o.jsx("span",{onClick:Mr=>{var Ht,Wn;Mr.stopPropagation(),Bn&&!J?((Ht=v.current)==null||Ht.pause(),se(!0)):Bn&&J?((Wn=v.current)==null||Wn.play(),se(!1)):v.current&&(v.current.src=D.url,v.current.load(),v.current.playbackRate=Nt,v.current.volume=He?0:At,v.current.play().catch(Xi=>{console.error("Error playing audio:",Xi)}),le(en),se(!1))},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:js?"Pause":"Play",children:js?o.jsx(Ql,{size:14,className:"text-blue-500"}):o.jsx(Kl,{size:14,className:"text-gray-600 dark:text-gray-400"})}),o.jsx("span",{onClick:Mr=>{Mr.stopPropagation(),P(Ht=>({...Ht,[p]:Ht[p].filter((Wn,Xi)=>Xi!==yt)})),_r&&i(Ht=>{const Wn={...Ht};return delete Wn[p],Wn})},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"Remove",children:o.jsx(pr,{size:14,className:"text-gray-700 dark:text-gray-300"})})]})]})},en)})]})]}),o.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-blue-200 dark:border-blue-700",children:[o.jsx("button",{onClick:D=>{D.stopPropagation(),bf(p,T)},disabled:Vt||!ue.trim(),className:"flex-1 px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Vt?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Generating..."})]}):"Generate"}),o.jsx("button",{onClick:D=>{D.stopPropagation(),ee(null),je("")},disabled:Vt,className:"px-3 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-sm transition-colors disabled:opacity-50",children:"Cancel"})]})]})]})})};return o.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800",children:[o.jsx("audio",{ref:Ge,onEnded:()=>Lt(null),onPause:()=>Lt(null)}),o.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:L("audioQueue")}),o.jsxs("div",{className:"flex items-center gap-2",children:[Ze()>0&&o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 font-medium",children:ge(q?Cl():Ze())}),Q&&m&&o.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:o.jsx(pr,{size:20,className:"text-gray-600 dark:text-gray-400"})})]})]}),t.length>1&&o.jsx("select",{value:F||"",onChange:p=>oe(p.target.value),className:"w-full px-3 py-2 mb-1.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-800 dark:text-gray-200",children:t.map(p=>o.jsxs("option",{value:p.id,children:[p.name," (",p.stations.length," ",L("stations"),")"]},p.id))}),ne.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[o.jsxs("button",{onClick:()=>Pr(!Nn),className:`${Yn} gap-0.5`,title:L("toggleVolume"),children:[He?o.jsx(Yu,{size:16}):o.jsx(Ku,{size:16}),Nn?o.jsx(Wr,{size:12,className:"opacity-60"}):o.jsx(Wl,{size:12,className:"opacity-60"})]}),o.jsx("button",{onClick:Lf,className:Yn,title:"Previous in Queue",children:o.jsx(Pm,{size:16})}),o.jsx("button",{onClick:Mf,className:"flex items-center justify-center p-2 rounded-lg transition-colors bg-blue-500 hover:bg-blue-600 text-white",title:"Play/Pause Queue",children:q?o.jsx(Ql,{size:18}):o.jsx(Kl,{size:18})}),o.jsx("button",{onClick:zf,className:Yn,title:"Next in Queue",children:o.jsx(Em,{size:16})}),o.jsxs("button",{onClick:()=>Er(!Dt),className:`${Yn} gap-0.5 min-w-[44px]`,title:L("cycleSpeed"),children:[o.jsxs("span",{className:"text-xs font-medium leading-none",children:[Nt,"x"]}),Dt?o.jsx(Wr,{size:12,className:"opacity-60"}):o.jsx(Wl,{size:12,className:"opacity-60"})]})]}),o.jsxs("div",{className:"mb-1.5 px-2 py-1.5 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[o.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[Xe+1," / ",Be().length]}),o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:ge(Ze())})]}),o.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:o.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-100",style:{width:`${Ze()>0?(Ze()-Cl())/Ze()*100:0}%`}})})]}),Nn&&o.jsxs("div",{className:"mb-1.5 p-2 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Volume"}),o.jsxs("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 min-w-[32px] text-right",children:[Math.round((He?0:At)*100),"%"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>{Vn(!He),v.current&&(v.current.volume=He?At:0)},className:Yn,title:L(He?"unmute":"mute"),children:He?o.jsx(Yu,{size:16}):o.jsx(Ku,{size:16})}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:He?0:At,onChange:p=>{const T=parseFloat(p.target.value);Un(T),T>0&&Vn(!1),v.current&&(v.current.volume=T)},className:"flex-1 h-1.5 bg-gray-300 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer"})]})]}),Dt&&o.jsxs("div",{className:"mb-1.5 p-2 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Speed"}),o.jsxs("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 min-w-[40px] text-right",children:[Nt.toFixed(2),"x"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>ks(1),className:Yn,title:"Reset to 1x",children:o.jsx("span",{className:"text-xs font-medium",children:"1x"})}),o.jsx("input",{type:"range",min:"0.5",max:"4",step:"0.05",value:Nt,onChange:p=>{const T=parseFloat(p.target.value);ks(T)},className:"flex-1 h-1.5 bg-gray-300 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer"})]})]})]}),!C&&t.length>0&&o.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1.5",children:L("setApiKeyToGenerate")})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:t.length===0?o.jsxs("div",{className:"text-center text-gray-400 dark:text-gray-500 mt-6",children:[o.jsx("p",{children:L("noLinesYet")}),o.jsx("p",{className:"text-sm mt-1.5",children:L("createLineFirst")})]}):ne.length===0?o.jsx("div",{className:"text-center text-gray-400 dark:text-gray-500 mt-6",children:o.jsx("p",{children:L("selectLine")})}):o.jsx("div",{className:"flex gap-2",children:o.jsx("div",{className:"flex-1 min-w-0 overflow-visible",children:ne.map((p,T)=>{var Z;let j=T*2;const U=`station-${p.id}`,H=`between-${p.id}-${(Z=ne[T+1])==null?void 0:Z.id}`,G=T===ne.length-1,W=T===0;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex items-center justify-center flex-shrink-0",style:{width:"20px"},children:[!W&&o.jsx("div",{className:"absolute w-0.5 left-1/2 -translate-x-1/2",style:{bottom:"50%",top:0,backgroundColor:ft,opacity:.6}}),!G&&o.jsx("div",{className:"absolute w-0.5 left-1/2 -translate-x-1/2",style:{top:"50%",bottom:0,backgroundColor:ft,opacity:.6}}),wf(p.id)]}),o.jsx("div",{className:"flex-1 min-w-0",children:Ji(U,p.name,p.id,j)})]}),T<ne.length-1&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"flex flex-col items-center flex-shrink-0",style:{width:"20px"},children:o.jsx("div",{className:"w-0.5 flex-1",style:{backgroundColor:ft,opacity:.6}})}),o.jsxs("div",{className:"relative flex-1 my-3 pl-8 pr-0",onMouseEnter:()=>Hn(H),onMouseLeave:()=>Hn(null),children:[o.jsx("div",{className:"absolute left-3 top-0 bottom-0 w-0.5 border-l-2 border-dashed border-gray-300 dark:border-gray-600"}),fe===H&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>Ki(H),className:"absolute left-3 -translate-x-1/2 top-0 -translate-y-1/2 p-0.5 bg-white dark:bg-gray-800 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors shadow-sm border border-gray-300 dark:border-gray-600 z-10",title:"Add segment",children:o.jsx(ja,{size:12,className:"text-gray-400 hover:text-blue-500 dark:hover:text-blue-400"})}),(s[H]||[]).map((xe,ht)=>{var El;return o.jsx("button",{onClick:()=>Ki(H),className:"absolute left-3 -translate-x-1/2 p-0.5 bg-white dark:bg-gray-800 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors shadow-sm border border-gray-300 dark:border-gray-600 z-10",style:{top:`${(ht+1)/((((El=s[H])==null?void 0:El.length)||0)+2)*100}%`},title:"Add segment",children:o.jsx(ja,{size:12,className:"text-gray-400 hover:text-blue-500 dark:hover:text-blue-400"})},`add-${ht}`)}),o.jsx("button",{onClick:()=>Ki(H),className:"absolute left-3 -translate-x-1/2 bottom-0 translate-y-1/2 p-0.5 bg-white dark:bg-gray-800 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors shadow-sm border border-gray-300 dark:border-gray-600 z-10",title:"Add segment",children:o.jsx(ja,{size:12,className:"text-gray-400 hover:text-blue-500 dark:hover:text-blue-400"})})]}),o.jsxs("div",{className:"space-y-1.5",children:[Ji(H,Pl(H,"general"),null,j+1),(s[H]||[]).map(xe=>o.jsx("div",{children:Ji(xe,Pl(xe,"general"),null,j+1,!0,H)},xe))]})]})]}),G&&ne.length>1&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"flex-shrink-0",style:{width:"20px"}}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 py-2 px-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700 mt-3",children:[o.jsx(pf,{size:12,className:"flex-shrink-0"}),o.jsxs("span",{children:["Returns to ",ne[0].name]})]})]})]},`slot-group-${p.id}`)})})})})]})},kf=k.forwardRef(({stations:e,setStations:t,setStationsNoHistory:n,lines:r,setLines:l,currentTool:i,selectedStations:a,setSelectedStations:u,gridZoom:s=1,language:c="en",lineStyle:g="smooth",showStationNumbers:y=!1,isMobile:f=!1,selectedStationId:P=null,playingStationId:C=null,isStationPlaying:_=!1,showTranscription:Q=!1,setShowTranscription:m,currentTranscription:d=""},h)=>{const{t:N}=jr(c),[E,M]=k.useState({x:0,y:0,width:1200,height:800}),[b,A]=k.useState(!1),[L,F]=k.useState({x:0,y:0}),[oe,I]=k.useState(null),[le,q]=k.useState(null),[Se,J]=k.useState(null),[se,R]=k.useState({x:0,y:0}),[V,B]=k.useState(null),[ee,ie]=k.useState(null),[de,ue]=k.useState([]),[je,he]=k.useState([]),[Me,Ve]=k.useState("#ef4444"),[Sn,Lt]=k.useState(!1),Re=k.useRef(null),dt=k.useRef(null),Ge=k.useRef(null),K=30*s,Vt=S=>Math.round(S/K)*K;k.useEffect(()=>{const S=e.map(v=>v.gridIndexX!==void 0&&v.gridIndexY!==void 0?{...v,x:v.gridIndexX*K,y:v.gridIndexY*K}:v);n(S)},[s]),k.useEffect(()=>{const S=()=>{if(dt.current){const v=dt.current.getBoundingClientRect();M(x=>({...x,width:v.width||1200,height:v.height||800}))}};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]),k.useEffect(()=>{i!=="createLine"&&ue([]),i!=="drawPath"&&he([])},[i]);const zt=(S,v)=>{if(!Re.current)return{x:0,y:0};const x=Re.current.createSVGPoint();x.x=S,x.y=v;const w=x.matrixTransform(Re.current.getScreenCTM().inverse());return{x:w.x,y:w.y}},Nt=()=>{const S=["#ef4444","#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4"],v=r.length;return S[v%S.length]},Cr=S=>{if(r.length<=1)return null;const v="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return v[S%v.length]},At=S=>{if(i==="station"){if(S.target.tagName==="circle"&&S.target.classList.contains("grid-dot")){const v=parseFloat(S.target.getAttribute("cx")),x=parseFloat(S.target.getAttribute("cy")),w=Math.round(v/K),$=Math.round(x/K),te={id:`station-${Date.now()}`,gridIndexX:w,gridIndexY:$,x:v,y:x,name:Fr(e,c),color:"#3b82f6"};t([...e,te])}else if(S.target.tagName==="rect"||S.target===Re.current){const v=zt(S.clientX,S.clientY),x=Math.round(v.x/K)*K,w=Math.round(v.y/K)*K,$=Math.round(x/K),te=Math.round(w/K),Pe={id:`station-${Date.now()}`,gridIndexX:$,gridIndexY:te,x,y:w,name:Fr(e,c),color:"#3b82f6"};t([...e,Pe])}}else if(i==="createLine"){if(S.target.tagName==="circle"&&S.target.classList.contains("grid-dot")){const v=parseFloat(S.target.getAttribute("cx")),x=parseFloat(S.target.getAttribute("cy")),w=Math.round(v/K),$=Math.round(x/K),te={id:`station-${Date.now()}-${de.length}`,gridIndexX:w,gridIndexY:$,x:v,y:x,name:Fr([...e,...de],c),color:Me};ue([...de,te])}else if(S.target.tagName==="rect"||S.target===Re.current){const v=zt(S.clientX,S.clientY),x=Math.round(v.x/K)*K,w=Math.round(v.y/K)*K,$=Math.round(x/K),te=Math.round(w/K),Pe={id:`station-${Date.now()}-${de.length}`,gridIndexX:$,gridIndexY:te,x,y:w,name:Fr([...e,...de],c),color:Me};ue([...de,Pe])}}else if(i==="drawPath"){if(S.target.tagName==="circle"&&S.target.classList.contains("grid-dot")){const v=parseFloat(S.target.getAttribute("cx")),x=parseFloat(S.target.getAttribute("cy")),w=Math.round(v/K),$=Math.round(x/K);he([...je,{x:v,y:x,gridIndexX:w,gridIndexY:$}])}else if(S.target.tagName==="rect"||S.target===Re.current){const v=zt(S.clientX,S.clientY),x=Math.round(v.x/K)*K,w=Math.round(v.y/K)*K,$=Math.round(x/K),te=Math.round(w/K);he([...je,{x,y:w,gridIndexX:$,gridIndexY:te}])}}},Un=(S,v)=>{v.stopPropagation(),i==="select"&&I(S)},He=(S,v)=>{if(i==="select"){v.stopPropagation();const x=zt(v.clientX,v.clientY);J(S),I(null),R({x:x.x-S.x,y:x.y-S.y})}},Vn=S=>{t(e.map(v=>v.id===S.id?S:v))},Nn=S=>{t(e.filter(x=>x.id!==S));const v=r.map(x=>({...x,stations:x.stations.filter(w=>w!==S)})).filter(x=>x.stations.length>=2);l(v),I(null)},Pr=(S,v=!1)=>{const x=r.map(w=>w.id===S.id?S:w);if(v&&S.stations){const w=e.map($=>S.stations.includes($.id)?{...$,color:S.color}:$);t(w)}l(x),q(S)},Dt=S=>{l(r.filter(v=>v.id!==S)),q(null)},Er=(S,v)=>{i==="select"&&(v.stopPropagation(),q(S),I(null))},fe=S=>{(S.button===1||S.button===0&&S.shiftKey||S.button===0&&i==="select"&&(S.target.tagName==="rect"||S.target===Re.current))&&(A(!0),F({x:S.clientX,y:S.clientY}),I(null),S.preventDefault())},Hn=S=>{const v=zt(S.clientX,S.clientY);if(ie(v),i==="createLine"||i==="drawPath"||i==="station"){const x=Math.round(v.x/K)*K,w=Math.round(v.y/K)*K;B({x,y:w})}else B(null);if(Se){const x=Vt(v.x-se.x),w=Vt(v.y-se.y);n($=>$.map(te=>te.id===Se.id?{...te,x,y:w,gridIndexX:Math.round(x/K),gridIndexY:Math.round(w/K)}:te))}else if(b){const x=(S.clientX-L.x)*.5,w=(S.clientY-L.y)*.5;M($=>({...$,x:$.x-x,y:$.y-w})),F({x:S.clientX,y:S.clientY})}},jt=()=>{Se&&t(e),A(!1),J(null)},jn=S=>{S.preventDefault(),i==="createLine"&&de.length>=2?Cn():i==="drawPath"&&je.length>=2&&Je()},Cn=()=>{if(de.length>=2){const S=[...e,...de],v={id:`line-${Date.now()}`,name:`Line ${r.length+1}`,stations:de.map(x=>x.id),color:Me,tension:.7};t(S),l([...r,v]),ue([]),Ve(Nt())}},Je=()=>{if(je.length>=2){const S=Math.max(2,Math.floor(je.length/2)+1),v=[];for(let $=0;$<S;$++){const te=$/(S-1),Pe=Math.floor(te*(je.length-1)),ne=je[Pe];v.push({id:`station-${Date.now()}-${$}`,gridIndexX:ne.gridIndexX,gridIndexY:ne.gridIndexY,x:ne.x,y:ne.y,name:Fr([...e,...v],c),color:Me})}const x=[...e,...v],w={id:`line-${Date.now()}`,name:`Line ${r.length+1}`,stations:v.map($=>$.id),color:Me,tension:.7};t(x),l([...r,w]),he([]),Ve(Nt())}},br=(S=!0)=>{if(e.length===0)return;const v=e.map(ge=>ge.x),x=e.map(ge=>ge.y),w=(Math.min(...v)+Math.max(...v))/2,$=(Math.min(...x)+Math.max(...x))/2,te=w-E.width/2,Pe=$-E.height/2;if(Ge.current&&cancelAnimationFrame(Ge.current),!S){M(ge=>({...ge,x:te,y:Pe}));return}Lt(!0);const ne=E.x,ft=E.y,pt=performance.now(),$t=600,Ee=ge=>{const Be=ge-pt,Ze=Math.min(Be/$t,1),jl=Ze<.5?4*Ze*Ze*Ze:1-Math.pow(-2*Ze+2,3)/2,Cl=ne+(te-ne)*jl,Qi=ft+(Pe-ft)*jl;M(Pl=>({...Pl,x:Cl,y:Qi})),Ze<1?Ge.current=requestAnimationFrame(Ee):Lt(!1)};Ge.current=requestAnimationFrame(Ee)};k.useImperativeHandle(h,()=>({centerView:br})),k.useEffect(()=>()=>{Ge.current&&cancelAnimationFrame(Ge.current)},[]);const Tr=()=>{if(i==="createLine"&&de.length>0&&ee){const v=[...de,{x:ee.x,y:ee.y}].map((x,w)=>`${w===0?"M":"L"} ${x.x} ${x.y}`).join(" ");return o.jsx("path",{d:v,stroke:Me,strokeWidth:"3",fill:"none",strokeDasharray:"5,5",opacity:"0.5",pointerEvents:"none"})}if(i==="drawPath"&&je.length>0&&ee){const v=[...je,{x:ee.x,y:ee.y}].map((x,w)=>`${w===0?"M":"L"} ${x.x} ${x.y}`).join(" ");return o.jsx("path",{d:v,stroke:Me,strokeWidth:"3",fill:"none",strokeDasharray:"5,5",opacity:"0.5",pointerEvents:"none"})}return null},Xe=(S,v,x)=>{if(!y)return S.name;const w=Cr(x);return w?`${w}${v+1}: ${S.name}`:`${v+1}. ${S.name}`},lt=[...e,...de];return o.jsxs("div",{ref:dt,className:"relative w-full h-full bg-gray-50 dark:bg-gray-800",children:[o.jsxs("svg",{ref:Re,viewBox:`${E.x} ${E.y} ${E.width} ${E.height}`,className:"w-full h-full cursor-crosshair",preserveAspectRatio:"xMidYMid slice",onClick:At,onMouseDown:fe,onMouseMove:Hn,onMouseUp:jt,onMouseLeave:jt,onContextMenu:jn,children:[o.jsx(Mm,{spacing:K,viewBox:E,zoom:s,currentTool:i,hoverPoint:V}),r.map((S,v)=>o.jsx(Fm,{line:S,stations:e,lineStyle:g,onClick:x=>Er(S,x),isEditing:(le==null?void 0:le.id)===S.id},S.id)),Tr(),je.map((S,v)=>o.jsx("circle",{cx:S.x,cy:S.y,r:"4",fill:Me,opacity:"0.7"},`path-point-${v}`)),e.map((S,v)=>{const x=r.find(te=>te.stations.includes(S.id)),w=x?r.indexOf(x):0,$=x?x.stations.indexOf(S.id):v;return o.jsx(Gu,{station:{...S,name:Xe(S,$,w)},isSelected:a.some(te=>te.id===S.id),isDragging:(Se==null?void 0:Se.id)===S.id,isHighlighted:P===S.id,isPlaying:C===S.id&&_,onClick:te=>Un(S,te),onMouseDown:te=>He(S,te),allStations:lt},S.id)}),de.map((S,v)=>o.jsx(Gu,{station:{...S,name:Xe(S,v,r.length)},isSelected:!1,isDragging:!1,onClick:()=>{},onMouseDown:()=>{},allStations:lt},S.id))]}),(oe||le)&&o.jsx(Um,{station:oe,line:le,lines:r,stations:e,onUpdateStation:Vn,onUpdateLine:Pr,onDeleteStation:Nn,onDeleteLine:Dt,onClose:()=>{I(null),q(null)},language:c}),r.length>0&&o.jsx("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:r.map(S=>o.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 px-3 py-2 rounded-lg shadow-md",children:[o.jsx(Qr,{size:16,style:{color:S.color},className:"flex-shrink-0"}),o.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:S.name})]},S.id))}),Q&&d&&o.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 w-full max-w-2xl px-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 px-6 py-3 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 relative",children:[o.jsx("div",{className:"absolute top-3 left-3 flex items-center gap-1 px-1.5 py-0.5 bg-blue-500 text-white rounded",children:o.jsx(vf,{})}),o.jsx("p",{className:"text-center text-base font-medium text-gray-800 dark:text-gray-200 px-8",children:d})]})}),o.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center gap-3",children:[o.jsxs("button",{onClick:br,disabled:e.length===0,className:"flex items-center gap-2 bg-white dark:bg-gray-800 px-4 py-2 rounded-lg shadow-md text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(hm,{size:16}),o.jsx("span",{children:N("centerView")})]}),m&&o.jsxs("button",{onClick:()=>m(!Q),className:`flex items-center gap-2 px-4 py-2 rounded-lg shadow-md text-sm transition-colors ${Q?"bg-blue-500 text-white hover:bg-blue-600":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[o.jsx(xm,{size:16}),o.jsx("span",{children:"Transcription"})]}),i==="createLine"&&de.length>=2&&o.jsxs("button",{onClick:Cn,className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-md text-sm hover:bg-green-600 transition-colors",children:[o.jsx(Iu,{size:16}),o.jsx("span",{children:N("finishLine")})]}),i==="drawPath"&&je.length>=2&&o.jsxs("button",{onClick:Je,className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-md text-sm hover:bg-green-600 transition-colors",children:[o.jsx(Iu,{size:16}),o.jsx("span",{children:N("finishLine")})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 py-2 rounded-lg shadow-md text-sm text-gray-600 dark:text-gray-300",children:[i==="station"&&N("clickGridToAddStation"),i==="createLine"&&N(f?"tapToAddStations":"clickToAddStations"),i==="drawPath"&&N(f?"tapToDrawPath":"clickToDrawPath")]})]})]})});kf.displayName="MapEditor";const Wm=({currentTool:e,onToolChange:t,onShowApiKey:n,hasApiKey:r,isDarkMode:l,onToggleDarkMode:i,gridZoom:a,onGridZoomChange:u,onReset:s,language:c,onLanguageChange:g,lineStyle:y,onLineStyleChange:f,onUndo:P,onRedo:C,canUndo:_,canRedo:Q,isMobile:m,showMobileHeader:d,onToggleMobileHeader:h,showStationNumbers:N,onToggleStationNumbers:E})=>{var oe;const{t:M}=jr(c),[b,A]=k.useState(!1),L=k.useRef(null),F=[{id:"select",icon:Cm,label:M("selectTool")},{id:"station",icon:ko,label:M("addStationTool")},{id:"createLine",icon:vm,label:M("createTrainLineTool")},{id:"drawPath",icon:jm,label:M("drawPathTool")}];return k.useEffect(()=>{const I=le=>{L.current&&!L.current.contains(le.target)&&A(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]),o.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-2 md:px-4 py-2 md:py-3 transition-colors",children:[o.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>window.location.reload(),className:"text-xl font-bold text-gray-800 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 transition-all duration-200 hover:scale-105 cursor-pointer",title:"Refresh page",children:M("appTitle")}),o.jsx("div",{className:"flex gap-2",children:F.map(I=>o.jsxs("button",{onClick:()=>t(I.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${e===I.id?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[o.jsx(I.icon,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:I.label})]},I.id))})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:E,className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${N?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:M(N?"hideStationNumbers":"showStationNumbers"),children:o.jsx(wm,{size:18})}),o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[o.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400 mr-1",children:[M("lineStyle"),":"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>f("direct"),className:`px-2 py-1 text-xs rounded transition-colors ${y==="direct"?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"}`,title:M("lineStyleDirect"),children:"─"}),o.jsx("button",{onClick:()=>f("minimal"),className:`px-2 py-1 text-xs rounded transition-colors ${y==="minimal"?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"}`,title:M("lineStyleMinimal"),children:o.jsx("i",{className:"ri-loader-5-fill"})}),o.jsx("button",{onClick:()=>f("smooth"),className:`flex items-center justify-center px-2 py-1 text-base rounded transition-colors ${y==="smooth"?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"}`,title:M("lineStyleSmooth"),children:"∿"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[o.jsx(_m,{size:16,className:"text-gray-600 dark:text-gray-400"}),o.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:a,onChange:I=>u(parseFloat(I.target.value)),className:"w-24 h-1 bg-gray-300 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer",title:`${M("zoom")}: ${Math.round(a*100)}%`}),o.jsx(Tm,{size:16,className:"text-gray-600 dark:text-gray-400"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:P,disabled:!_,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-40 disabled:cursor-not-allowed",title:M("undo"),children:o.jsx(Qu,{size:18})}),o.jsx("button",{onClick:C,disabled:!Q,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-40 disabled:cursor-not-allowed",title:M("redo"),children:o.jsx(Bu,{size:18})})]}),o.jsx("button",{onClick:s,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:M("resetToDefault"),children:o.jsx(pf,{size:18})}),o.jsxs("div",{className:"relative",ref:L,children:[o.jsxs("button",{onClick:()=>A(!b),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Language",children:[o.jsx(km,{size:18}),o.jsx("span",{className:"text-lg",children:(oe=qu.find(I=>I.code===c))==null?void 0:oe.flag})]}),b&&o.jsx("div",{className:"absolute top-full right-0 mt-1 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-1 z-[100]",children:qu.map(I=>o.jsxs("button",{onClick:()=>{g(I.code),A(!1)},className:`w-full flex items-center gap-3 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${c===I.code?"bg-blue-50 dark:bg-blue-900/30":""}`,children:[o.jsx("span",{className:"text-xl",children:I.flag}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:I.name})]},I.code))})]}),o.jsx("button",{onClick:i,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:M(l?"switchToLightMode":"switchToDarkMode"),children:o.jsx("i",{className:`${l?"ri-sun-fill":"ri-moon-fill"} text-lg`})}),o.jsxs("button",{onClick:n,className:`flex items-center gap-2 px-2 md:px-4 py-2 rounded-lg transition-colors ${r?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800":"bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-800"}`,children:[o.jsx(Fu,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:M(r?"apiKeySet":"setApiKey")})]})]})]}),o.jsxs("div",{className:"md:hidden flex items-center justify-between gap-2",children:[o.jsx("div",{className:"flex gap-1",children:F.map(I=>o.jsx("button",{onClick:()=>t(I.id),className:`flex items-center justify-center w-10 h-10 rounded-lg transition-colors ${e===I.id?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,title:I.label,children:o.jsx(I.icon,{size:18})},I.id))}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:P,disabled:!_,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors disabled:opacity-40",title:M("undo"),children:o.jsx(Qu,{size:16})}),o.jsx("button",{onClick:C,disabled:!Q,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors disabled:opacity-40",title:M("redo"),children:o.jsx(Bu,{size:16})}),o.jsx("button",{onClick:i,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:o.jsx("i",{className:`${l?"ri-sun-fill":"ri-moon-fill"}`})}),o.jsx("button",{onClick:n,className:`flex items-center justify-center w-9 h-9 rounded-lg ${r?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:o.jsx(Fu,{size:16})}),o.jsx("button",{onClick:h,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:o.jsx(Wr,{size:16})})]})]})]})},Qm=({onSave:e,onClose:t,initialKey:n,language:r="en"})=>{const{t:l}=jr(r),[i,a]=k.useState(n),[u,s]=k.useState(!1),c=()=>{i.trim()&&e(i.trim())},g=y=>{y.target===y.currentTarget&&t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:g,children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:l("elevenLabsApiKey")}),o.jsx("button",{onClick:t,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:o.jsx(pr,{size:20})})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:l("apiKeyDescription")}),o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:u?"text":"password",value:i,onChange:y=>a(y.target.value),placeholder:l("apiKeyPlaceholder"),className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("button",{onClick:()=>s(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:u?o.jsx(ym,{size:18}):o.jsx(gm,{size:18})})]})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:c,disabled:!i.trim(),className:"flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed",children:l("saveKey")}),o.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:l("cancel")})]}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4",children:[l("getApiKeyFrom")," ",o.jsx("a",{href:"https://elevenlabs.io",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"elevenlabs.io"})]})]})})},No=[{id:"simple",name:"Simple Demo",description:"A simple 4-station demo route",stations:[{id:"station-1",x:300,y:200,name:"Central Station",color:"#8b5cf6"},{id:"station-2",x:450,y:200,name:"North Station",color:"#8b5cf6"},{id:"station-3",x:450,y:350,name:"East Station",color:"#8b5cf6"},{id:"station-4",x:300,y:350,name:"South Station",color:"#8b5cf6"}],lines:[{id:"demo-line",name:"Demo Line",color:"#8b5cf6",tension:.7,stations:["station-1","station-2","station-3","station-4","station-1"]}]},{id:"yamanote",name:"Yamanote Line",description:"Japan",stations:[{id:"tokyo",x:390,y:240,name:"Tokyo",color:"#10b981"},{id:"yurakucho",x:360,y:210,name:"Yurakucho",color:"#10b981"},{id:"shimbashi",x:330,y:180,name:"Shimbashi",color:"#10b981"},{id:"hamamatsucho",x:300,y:180,name:"Hamamatsucho",color:"#10b981"},{id:"tamachi",x:270,y:210,name:"Tamachi",color:"#10b981"},{id:"shinagawa",x:270,y:270,name:"Shinagawa",color:"#10b981"},{id:"osaki",x:270,y:330,name:"Osaki",color:"#10b981"},{id:"gotanda",x:300,y:360,name:"Gotanda",color:"#10b981"},{id:"meguro",x:330,y:390,name:"Meguro",color:"#10b981"},{id:"ebisu",x:360,y:390,name:"Ebisu",color:"#10b981"},{id:"shibuya",x:420,y:390,name:"Shibuya",color:"#10b981"},{id:"harajuku",x:450,y:360,name:"Harajuku",color:"#10b981"},{id:"yoyogi",x:480,y:330,name:"Yoyogi",color:"#10b981"},{id:"shinjuku",x:510,y:300,name:"Shinjuku",color:"#10b981"},{id:"shin-okubo",x:540,y:270,name:"Shin-Okubo",color:"#10b981"},{id:"takadanobaba",x:570,y:240,name:"Takadanobaba",color:"#10b981"},{id:"ikebukuro",x:570,y:180,name:"Ikebukuro",color:"#10b981"},{id:"uguisudani",x:510,y:120,name:"Uguisudani",color:"#10b981"},{id:"ueno",x:450,y:120,name:"Ueno",color:"#10b981"},{id:"akihabara",x:420,y:180,name:"Akihabara",color:"#10b981"},{id:"kanda",x:420,y:210,name:"Kanda",color:"#10b981"}],lines:[{id:"yamanote-line",name:"Yamanote Line",color:"#10b981",tension:.5,stations:["tokyo","yurakucho","shimbashi","hamamatsucho","tamachi","shinagawa","osaki","gotanda","meguro","ebisu","shibuya","harajuku","yoyogi","shinjuku","shin-okubo","takadanobaba","ikebukuro","uguisudani","ueno","akihabara","kanda","tokyo"]}]},{id:"chuo",name:"Chuo Line",description:"Japan",stations:[{id:"tokyo-c",x:150,y:300,name:"Tokyo",color:"#f97316"},{id:"kanda-c",x:210,y:300,name:"Kanda",color:"#f97316"},{id:"ochanomizu",x:270,y:300,name:"Ochanomizu",color:"#f97316"},{id:"yotsuya",x:330,y:300,name:"Yotsuya",color:"#f97316"},{id:"shinjuku-c",x:390,y:300,name:"Shinjuku",color:"#f97316"},{id:"nakano",x:450,y:300,name:"Nakano",color:"#f97316"},{id:"koenji",x:510,y:300,name:"Koenji",color:"#f97316"},{id:"asagaya",x:570,y:300,name:"Asagaya",color:"#f97316"},{id:"ogikubo",x:630,y:300,name:"Ogikubo",color:"#f97316"}],lines:[{id:"chuo-line",name:"Chuo Line",color:"#f97316",tension:.3,stations:["tokyo-c","kanda-c","ochanomizu","yotsuya","shinjuku-c","nakano","koenji","asagaya","ogikubo"]}]},{id:"ginza",name:"Ginza Line",description:"Japan",stations:[{id:"shibuya-g",x:150,y:450,name:"Shibuya",color:"#f59e0b"},{id:"omotesando",x:210,y:420,name:"Omotesando",color:"#f59e0b"},{id:"gaiemmae",x:270,y:390,name:"Gaiemmae",color:"#f59e0b"},{id:"aoyama-itchome",x:330,y:360,name:"Aoyama-itchome",color:"#f59e0b"},{id:"akasaka-mitsuke",x:390,y:330,name:"Akasaka-mitsuke",color:"#f59e0b"},{id:"ginza-g",x:450,y:300,name:"Ginza",color:"#f59e0b"},{id:"nihombashi",x:510,y:270,name:"Nihombashi",color:"#f59e0b"},{id:"ueno-g",x:570,y:240,name:"Ueno",color:"#f59e0b"},{id:"asakusa",x:630,y:210,name:"Asakusa",color:"#f59e0b"}],lines:[{id:"ginza-line",name:"Ginza Line",color:"#f59e0b",tension:.6,stations:["shibuya-g","omotesando","gaiemmae","aoyama-itchome","akasaka-mitsuke","ginza-g","nihombashi","ueno-g","asakusa"]}]},{id:"taiyokei",name:"Taiyokei Line",description:"Solar System train line from Mercury to Pluto in Japanese",stations:[{id:"mercury",x:100,y:250,name:"Mercury",color:"#000000"},{id:"venus",x:160,y:220,name:"Venus",color:"#000000"},{id:"earth",x:230,y:200,name:"Earth",color:"#000000"},{id:"mars",x:310,y:190,name:"Mars",color:"#000000"},{id:"jupiter",x:400,y:200,name:"Jupiter",color:"#000000"},{id:"saturn",x:490,y:220,name:"Saturn",color:"#000000"},{id:"uranus",x:570,y:250,name:"Uranus",color:"#000000"},{id:"neptune",x:640,y:290,name:"Neptune",color:"#000000"},{id:"pluto",x:700,y:340,name:"Pluto",color:"#000000"}],lines:[{id:"taiyokei-line",name:"Taiyokei Line",color:"#000000",tension:.4,stations:["mercury","venus","earth","mars","jupiter","saturn","uranus","neptune","pluto"]}],audioAssignments:{"station-mercury":{type:"preset",filename:"Taioykei Mercury JP.mp3",name:"Mercury Arrival",transcription:"太陽系線をご利用くださいまして、ありがとうございます。 この電車は、冥王星ゆきです。停車駅は、金星、地球中央駅、火星、木星、土星、天王星、海王星、冥王星です。次は金星です。"},"between-mercury-venus":{type:"preset",filename:"Taioykei Dep Mercury JP.mp3",name:"Mercury Departure",transcription:"次は金星です。"},"station-venus":{type:"preset",filename:"Taioykei Venus JP.mp3",name:"Venus Arrival",transcription:"金星。金星。"},"between-venus-earth":{type:"preset",filename:"Taioykei Dep Venus JP.mp3",name:"Venus Departure",transcription:"次は地球中央駅です。"},"station-earth":{type:"preset",filename:"Taioykei Earth JP.mp3",name:"Earth Arrival",transcription:"地球中央駅。地球中央駅。"},"between-earth-mars":{type:"preset",filename:"Taioykei Dep Earth JP.mp3",name:"Earth Departure",transcription:"次は火星です。"},"station-mars":{type:"preset",filename:"Taioykei Mars JP.mp3",name:"Mars Arrival",transcription:"火星。火星。"},"between-mars-jupiter":{type:"preset",filename:"Taioykei Dep Mars JP.mp3",name:"Mars Departure",transcription:"次は木星です。"},"station-jupiter":{type:"preset",filename:"Taioykei Jupiter JP.mp3",name:"Jupiter Arrival",transcription:"木星。木星。"},"between-jupiter-saturn":{type:"preset",filename:"Taioykei Dep Jupiter JP.mp3",name:"Jupiter Departure",transcription:"次は土星です。"},"station-saturn":{type:"preset",filename:"Taioykei Saturn JP.mp3",name:"Saturn Arrival",transcription:"土星。土星。"},"between-saturn-uranus":{type:"preset",filename:"Taioykei Dep Saturn JP.mp3",name:"Saturn Departure",transcription:"次は天王星です。"},"station-uranus":{type:"preset",filename:"Taioykei Uranus JP.mp3",name:"Uranus Arrival",transcription:"天王星。天王星。"},"between-uranus-neptune":{type:"preset",filename:"Taioykei Dep Uranus JP.mp3",name:"Uranus Departure",transcription:"次は海王星です。"},"station-neptune":{type:"preset",filename:"Taioykei Neptune JP.mp3",name:"Neptune Arrival",transcription:"海王星。海王星。"},"between-neptune-pluto":{type:"preset",filename:"Taioykei Dep Neptune JP.mp3",name:"Neptune Departure",transcription:"次は冥王星です。"},"station-pluto":{type:"preset",filename:"Taioykei Pluto JP.mp3",name:"Pluto Arrival",transcription:"冥王星。冥王星。"}}},{id:"taiyokei-en",name:"Taiyokei Line (English)",description:"Solar System train line from Mercury to Pluto in English",stations:[{id:"mercury-en",x:100,y:250,name:"Mercury",color:"#4a5568"},{id:"venus-en",x:160,y:220,name:"Venus",color:"#4a5568"},{id:"earth-en",x:230,y:200,name:"Earth",color:"#4a5568"},{id:"mars-en",x:310,y:190,name:"Mars",color:"#4a5568"},{id:"jupiter-en",x:400,y:200,name:"Jupiter",color:"#4a5568"},{id:"saturn-en",x:490,y:220,name:"Saturn",color:"#4a5568"},{id:"uranus-en",x:570,y:250,name:"Uranus",color:"#4a5568"},{id:"neptune-en",x:640,y:290,name:"Neptune",color:"#4a5568"},{id:"pluto-en",x:700,y:340,name:"Pluto",color:"#4a5568"}],lines:[{id:"taiyokei-line-en",name:"Taiyokei Line (EN)",color:"#4a5568",tension:.4,stations:["mercury-en","venus-en","earth-en","mars-en","jupiter-en","saturn-en","uranus-en","neptune-en","pluto-en"]}],audioAssignments:{"station-mercury-en":{type:"preset",filename:"Taioykei Mercury EN.mp3",name:"Mercury Arrival",transcription:"Thank you for using the Taiyōkei Line. This train is bound for Pluto. We will stop at Venus, Earth, Mars, Jupiter, Saturn, Uranus, Neptune, and Pluto. The next station is Venus."},"between-mercury-en-venus-en":{type:"preset",filename:"Taioykei Dep Mercury EN.mp3",name:"Mercury Departure",transcription:"The next station is Venus."},"station-venus-en":{type:"preset",filename:"Taioykei Venus EN.mp3",name:"Venus Arrival",transcription:"Venus. Venus."},"between-venus-en-earth-en":{type:"preset",filename:"Taioykei Dep Venus EN.mp3",name:"Venus Departure",transcription:"The next station is Earth Central Station."},"station-earth-en":{type:"preset",filename:"Taioykei Earth EN.mp3",name:"Earth Arrival",transcription:"Earth Central Station. Earth Central Station."},"between-earth-en-mars-en":{type:"preset",filename:"Taioykei Dep Earth EN.mp3",name:"Earth Departure",transcription:"The next station is Mars."},"station-mars-en":{type:"preset",filename:"Taioykei Mars EN.mp3",name:"Mars Arrival",transcription:"Mars. Mars."},"between-mars-en-jupiter-en":{type:"preset",filename:"Taioykei Dep Mars EN.mp3",name:"Mars Departure",transcription:"The next station is Jupiter."},"station-jupiter-en":{type:"preset",filename:"Taioykei Jupiter EN.mp3",name:"Jupiter Arrival",transcription:"Jupiter. Jupiter."},"between-jupiter-en-saturn-en":{type:"preset",filename:"Taioykei Dep Jupiter EN.mp3",name:"Jupiter Departure",transcription:"The next station is Saturn."},"station-saturn-en":{type:"preset",filename:"Taioykei Saturn EN.mp3",name:"Saturn Arrival",transcription:"Saturn. Saturn."},"between-saturn-en-uranus-en":{type:"preset",filename:"Taioykei Dep Saturn EN.mp3",name:"Saturn Departure",transcription:"The next station is Uranus."},"station-uranus-en":{type:"preset",filename:"Taioykei Uranus EN.mp3",name:"Uranus Arrival",transcription:"Uranus. Uranus."},"between-uranus-en-neptune-en":{type:"preset",filename:"Taioykei Dep Uranus EN.mp3",name:"Uranus Departure",transcription:"The next station is Neptune."},"station-neptune-en":{type:"preset",filename:"Taioykei Neptune EN.mp3",name:"Neptune Arrival",transcription:"Neptune. Neptune."},"between-neptune-en-pluto-en":{type:"preset",filename:"Taioykei Dep Neptune EN.mp3",name:"Neptune Departure",transcription:"The next station is Pluto."},"station-pluto-en":{type:"preset",filename:"Taioykei Pluto EN.mp3",name:"Pluto Arrival",transcription:"Pluto. Pluto."}}}],Km=({onLoadPreset:e,currentPresetId:t,language:n="en",isMobile:r,onClose:l})=>{const{t:i}=jr(n);return o.jsxs("div",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[o.jsx(Sm,{size:20}),i("trainLinePresets")]}),r&&l&&o.jsx("button",{onClick:l,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:o.jsx(pr,{size:20,className:"text-gray-600 dark:text-gray-400"})})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:i("loadPresetHint")})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:No.map(a=>o.jsx("button",{onClick:()=>e(a),className:`w-full text-left p-3 rounded-lg border-2 transition-all hover:border-blue-400 hover:shadow-md ${t===a.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 text-sm",children:i(a.name)}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mt-1",children:i(a.description)}),o.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500 dark:text-gray-400",children:[o.jsx(mm,{size:12}),o.jsxs("span",{children:[a.stations.length," ",i("stations")]})]})]}),t===a.id?o.jsx("div",{className:"ml-2 px-2 py-1 bg-blue-500 text-white text-xs rounded",children:i("active")}):o.jsx(pm,{size:16,className:"ml-2 text-gray-400 dark:text-gray-500 flex-shrink-0"})]})},a.id))}),o.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:o.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["💡 ",i("clickPresetToLoad")]})})]})};function Ym(){const[e,t]=k.useState([]),[n,r]=k.useState([]),[l,i]=k.useState([]),[a,u]=k.useState({}),[s,c]=k.useState({}),[g,y]=k.useState({}),[f,P]=k.useState([]),[C,_]=k.useState({}),[Q,m]=k.useState("select"),[d,h]=k.useState([]),[N,E]=k.useState(sessionStorage.getItem("elevenLabsApiKey")||""),[M,b]=k.useState(!1),[A,L]=k.useState(null),[F,oe]=k.useState(()=>localStorage.getItem("darkMode")==="true"),[I,le]=k.useState(1),[q,Se]=k.useState(()=>localStorage.getItem("language")||"en"),[J,se]=k.useState(!1),[R,V]=k.useState(!1),[B,ee]=k.useState(!1),[ie,de]=k.useState(!0),[ue,je]=k.useState(()=>localStorage.getItem("lineStyle")||"smooth"),[he,Me]=k.useState([]),[Ve,Sn]=k.useState(-1),Lt=k.useRef(-1),Re=k.useRef(null),[dt,Ge]=k.useState(!1),[K,Vt]=k.useState(null),[zt,Nt]=k.useState(null),[Cr,At]=k.useState(!1),[Un,He]=k.useState(!1),[Vn,Nn]=k.useState("");k.useEffect(()=>{const x=No.find(w=>w.id==="simple");x&&e.length===0&&Dt(x)},[]),k.useEffect(()=>{localStorage.setItem("darkMode",F.toString());const x=document.documentElement,w=document.body;x.classList.remove("dark"),w&&w.classList.remove("dark"),F&&(x.classList.add("dark"),w&&w.classList.add("dark"))},[F]),k.useEffect(()=>{localStorage.setItem("language",q)},[q]),k.useEffect(()=>{localStorage.setItem("lineStyle",ue)},[ue]),k.useEffect(()=>{const x=()=>se(window.innerWidth<768);return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const Pr=k.useCallback(x=>{sessionStorage.setItem("elevenLabsApiKey",x),E(x),b(!1)},[]),Dt=k.useCallback(x=>{const $=x.stations.map(ge=>({...ge,gridIndexX:ge.gridIndexX??Math.round(ge.x/30),gridIndexY:ge.gridIndexY??Math.round(ge.y/30)})),te={},Pe=x.audioAssignments||{};Object.keys(Pe).forEach(ge=>{const Be=Pe[ge];Be.filename?te[ge]={...Be,url:xf(Be.filename)}:te[ge]=Be});const ne=te,ft=x.announcementTypes||{},pt=x.betweenSegments||{},$t=x.uploadedAudios||[],Ee={};t($),r(x.lines),u(ne),c(ft),y(pt),P($t),_(Ee),Me([{stations:$,lines:x.lines,audioAssignments:ne,announcementTypes:ft,betweenSegments:pt,uploadedAudios:$t,generatedAudioHistory:Ee}]),Sn(0),L(x.id),h([]),i([])},[]),Er=()=>{oe(!F)};k.useEffect(()=>{Lt.current=Ve},[Ve]);const fe=k.useCallback((x,w,$,te,Pe,ne,ft)=>{const pt={stations:structuredClone(x),lines:structuredClone(w),audioAssignments:structuredClone($),announcementTypes:structuredClone(te),betweenSegments:structuredClone(Pe),uploadedAudios:structuredClone(ne),generatedAudioHistory:structuredClone(ft)};Me($t=>{const Ee=$t.slice(0,Lt.current+1);return Ee.push(pt),Ee.length>100&&Ee.shift(),Ee}),Sn($t=>Math.min($t+1,99))},[]),Hn=k.useCallback(x=>{typeof x=="function"?t(w=>{const $=x(w);return fe($,n,a,s,g,f,C),$}):(fe(x,n,a,s,g,f,C),t(x))},[n,a,s,g,f,C,fe]),jt=k.useCallback(x=>{typeof x=="function"?r(w=>{const $=x(w);return fe(e,$,a,s,g,f,C),$}):(fe(e,x,a,s,g,f,C),r(x))},[e,a,s,g,f,C,fe]),jn=k.useCallback(x=>{typeof x=="function"?u(w=>{const $=x(w);return fe(e,n,$,s,g,f,C),$}):(fe(e,n,x,s,g,f,C),u(x))},[e,n,s,g,f,C,fe]),Cn=k.useCallback(x=>{typeof x=="function"?c(w=>{const $=x(w);return fe(e,n,a,$,g,f,C),$}):(fe(e,n,a,x,g,f,C),c(x))},[e,n,a,g,f,C,fe]),Je=k.useCallback(x=>{typeof x=="function"?y(w=>{const $=x(w);return fe(e,n,a,s,$,f,C),$}):(fe(e,n,a,s,x,f,C),y(x))},[e,n,a,s,f,C,fe]),br=k.useCallback(x=>{typeof x=="function"?P(w=>{const $=x(w);return fe(e,n,a,s,g,$,C),$}):(fe(e,n,a,s,g,x,C),P(x))},[e,n,a,s,g,C,fe]),Tr=k.useCallback(x=>{typeof x=="function"?_(w=>{const $=x(w);return fe(e,n,a,s,g,f,$),$}):(fe(e,n,a,s,g,f,x),_(x))},[e,n,a,s,g,f,fe]),Xe=()=>{if(Ve>0){const x=Ve-1;Sn(x);const w=he[x];t(w.stations),r(w.lines),u(w.audioAssignments||{}),c(w.announcementTypes||{}),y(w.betweenSegments||{}),P(w.uploadedAudios||[]),_(w.generatedAudioHistory||{})}},lt=()=>{if(Ve<he.length-1){const x=Ve+1;Sn(x);const w=he[x];t(w.stations),r(w.lines),u(w.audioAssignments||{}),c(w.announcementTypes||{}),y(w.betweenSegments||{}),P(w.uploadedAudios||[]),_(w.generatedAudioHistory||{})}},S=k.useCallback(()=>{const x=No.find(w=>w.id==="simple");x&&(Dt(x),le(1))},[Dt]),v=k.useCallback((x,w)=>{Nt(x),At(w)},[]);return o.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[(!J||ie)&&o.jsx(Wm,{currentTool:Q,onToolChange:m,onShowApiKey:()=>b(!0),hasApiKey:!!N,isDarkMode:F,onToggleDarkMode:Er,gridZoom:I,onGridZoomChange:le,onReset:S,language:q,onLanguageChange:Se,lineStyle:ue,onLineStyleChange:je,onUndo:Xe,onRedo:lt,canUndo:Ve>0,canRedo:Ve<he.length-1,isMobile:J,showMobileHeader:ie,onToggleMobileHeader:()=>de(!ie),showStationNumbers:dt,onToggleStationNumbers:()=>Ge(!dt)}),M&&o.jsx(Qm,{onSave:Pr,onClose:()=>b(!1),initialKey:N,language:q}),o.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[(!J||R)&&o.jsx("div",{className:`${J?"absolute left-0 top-0 bottom-0 z-20 w-64 shadow-xl":""}`,children:o.jsx(Km,{onLoadPreset:Dt,currentPresetId:A,language:q,isMobile:J,onClose:()=>V(!1)})}),o.jsxs("div",{className:"flex-1 border-r border-gray-200 dark:border-gray-700 relative",children:[o.jsx(kf,{ref:Re,stations:e,setStations:Hn,setStationsNoHistory:t,lines:n,setLines:jt,currentTool:Q,selectedStations:d,setSelectedStations:h,gridZoom:I,language:q,lineStyle:ue,showStationNumbers:dt,isMobile:J,selectedStationId:K,playingStationId:zt,isStationPlaying:Cr,showTranscription:Un,setShowTranscription:He,currentTranscription:Vn}),J&&o.jsxs("div",{className:"absolute bottom-4 right-4 flex flex-col gap-2 z-10",children:[!ie&&o.jsx("button",{onClick:()=>de(!0),className:"bg-blue-500 text-white p-3 rounded-lg shadow-lg",title:"Show Menu",children:"☰"}),o.jsx("button",{onClick:()=>V(!R),className:"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg shadow-lg text-sm font-medium",children:R?"✕":"📋"}),o.jsx("button",{onClick:()=>ee(!B),className:"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg shadow-lg text-sm font-medium",children:B?"✕":"🔊"})]})]}),(!J||B)&&o.jsx("div",{className:`${J?"absolute right-0 top-0 bottom-0 z-20 w-80 shadow-xl":"w-96"} flex flex-col bg-white dark:bg-gray-800`,children:o.jsx(Bm,{stations:e,lines:n,announcements:l,setAnnouncements:i,audioAssignments:a,setAudioAssignments:jn,announcementTypes:s,setAnnouncementTypes:Cn,betweenSegments:g,setBetweenSegments:Je,uploadedAudios:f,setUploadedAudios:br,generatedAudioHistory:C,setGeneratedAudioHistory:Tr,apiKey:N,language:q,isMobile:J,onClose:()=>ee(!1),onStationSelect:Vt,selectedStationId:K,showStationNumbers:dt,onPlayingStationChange:v,showTranscription:Un,setShowTranscription:He,setCurrentTranscription:Nn})})]})]})}Pa.createRoot(document.getElementById("root")).render(o.jsx(qf.StrictMode,{children:o.jsx(Ym,{})}));
