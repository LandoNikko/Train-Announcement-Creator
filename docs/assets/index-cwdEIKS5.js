(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var na=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ec(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zc={exports:{}},us={},Pc={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yi=Symbol.for("react.element"),qf=Symbol.for("react.portal"),eh=Symbol.for("react.fragment"),th=Symbol.for("react.strict_mode"),nh=Symbol.for("react.profiler"),rh=Symbol.for("react.provider"),ih=Symbol.for("react.context"),ah=Symbol.for("react.forward_ref"),sh=Symbol.for("react.suspense"),oh=Symbol.for("react.memo"),lh=Symbol.for("react.lazy"),Xl=Symbol.iterator;function uh(e){return e===null||typeof e!="object"?null:(e=Xl&&e[Xl]||e["@@iterator"],typeof e=="function"?e:null)}var Tc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ac=Object.assign,Lc={};function Jr(e,t,n){this.props=e,this.context=t,this.refs=Lc,this.updater=n||Tc}Jr.prototype.isReactComponent={};Jr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mc(){}Mc.prototype=Jr.prototype;function el(e,t,n){this.props=e,this.context=t,this.refs=Lc,this.updater=n||Tc}var tl=el.prototype=new Mc;tl.constructor=el;Ac(tl,Jr.prototype);tl.isPureReactComponent=!0;var Ql=Array.isArray,Dc=Object.prototype.hasOwnProperty,nl={current:null},Rc={key:!0,ref:!0,__self:!0,__source:!0};function Ic(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)Dc.call(t,r)&&!Rc.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),g=0;g<o;g++)l[g]=arguments[g+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Yi,type:e,key:a,ref:s,props:i,_owner:nl.current}}function ch(e,t){return{$$typeof:Yi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yi}function dh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Jl=/\/+/g;function zs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dh(""+e.key):t.toString(36)}function ba(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Yi:case qf:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+zs(s,0):r,Ql(i)?(n="",e!=null&&(n=e.replace(Jl,"$&/")+"/"),ba(i,t,n,"",function(g){return g})):i!=null&&(rl(i)&&(i=ch(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Jl,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Ql(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+zs(a,o);s+=ba(a,t,n,l,i)}else if(l=uh(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+zs(a,o++),s+=ba(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ra(e,t,n){if(e==null)return e;var r=[],i=0;return ba(e,r,"","",function(a){return t.call(n,a,i++)}),r}function fh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},Na={transition:null},hh={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Na,ReactCurrentOwner:nl};function Oc(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:ra,forEach:function(e,t,n){ra(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ra(e,function(){t++}),t},toArray:function(e){return ra(e,function(t){return t})||[]},only:function(e){if(!rl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=Jr;De.Fragment=eh;De.Profiler=nh;De.PureComponent=el;De.StrictMode=th;De.Suspense=sh;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hh;De.act=Oc;De.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ac({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=nl.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Dc.call(t,l)&&!Rc.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var g=0;g<l;g++)o[g]=arguments[g+2];r.children=o}return{$$typeof:Yi,type:e.type,key:i,ref:a,props:r,_owner:s}};De.createContext=function(e){return e={$$typeof:ih,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rh,_context:e},e.Consumer=e};De.createElement=Ic;De.createFactory=function(e){var t=Ic.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:ah,render:e}};De.isValidElement=rl;De.lazy=function(e){return{$$typeof:lh,_payload:{_status:-1,_result:e},_init:fh}};De.memo=function(e,t){return{$$typeof:oh,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=Na.transition;Na.transition={};try{e()}finally{Na.transition=t}};De.unstable_act=Oc;De.useCallback=function(e,t){return jt.current.useCallback(e,t)};De.useContext=function(e){return jt.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};De.useEffect=function(e,t){return jt.current.useEffect(e,t)};De.useId=function(){return jt.current.useId()};De.useImperativeHandle=function(e,t,n){return jt.current.useImperativeHandle(e,t,n)};De.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return jt.current.useMemo(e,t)};De.useReducer=function(e,t,n){return jt.current.useReducer(e,t,n)};De.useRef=function(e){return jt.current.useRef(e)};De.useState=function(e){return jt.current.useState(e)};De.useSyncExternalStore=function(e,t,n){return jt.current.useSyncExternalStore(e,t,n)};De.useTransition=function(){return jt.current.useTransition()};De.version="18.3.1";Pc.exports=De;var W=Pc.exports;const ph=Ec(W);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh=W,gh=Symbol.for("react.element"),yh=Symbol.for("react.fragment"),vh=Object.prototype.hasOwnProperty,xh=mh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kh={key:!0,ref:!0,__self:!0,__source:!0};function Fc(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)vh.call(t,r)&&!kh.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:gh,type:e,key:a,ref:s,props:i,_owner:xh.current}}us.Fragment=yh;us.jsx=Fc;us.jsxs=Fc;zc.exports=us;var u=zc.exports,ro={},$c={exports:{}},Bt={},Uc={exports:{}},Bc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,O){var J=V.length;V.push(O);e:for(;0<J;){var D=J-1>>>1,A=V[D];if(0<i(A,O))V[D]=O,V[J]=A,J=D;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var O=V[0],J=V.pop();if(J!==O){V[0]=J;e:for(var D=0,A=V.length,fe=A>>>1;D<fe;){var ee=2*(D+1)-1,te=V[ee],Ne=ee+1,Re=V[Ne];if(0>i(te,J))Ne<A&&0>i(Re,te)?(V[D]=Re,V[Ne]=J,D=Ne):(V[D]=te,V[ee]=J,D=ee);else if(Ne<A&&0>i(Re,J))V[D]=Re,V[Ne]=J,D=Ne;else break e}}return O}function i(V,O){var J=V.sortIndex-O.sortIndex;return J!==0?J:V.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],g=[],w=1,k=null,v=3,h=!1,y=!1,p=!1,_=typeof setTimeout=="function"?setTimeout:null,c=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var O=n(g);O!==null;){if(O.callback===null)r(g);else if(O.startTime<=V)r(g),O.sortIndex=O.expirationTime,t(l,O);else break;O=n(g)}}function b(V){if(p=!1,x(V),!y)if(n(l)!==null)y=!0,oe(j);else{var O=n(g);O!==null&&U(b,O.startTime-V)}}function j(V,O){y=!1,p&&(p=!1,c(L),L=-1),h=!0;var J=v;try{for(x(O),k=n(l);k!==null&&(!(k.expirationTime>O)||V&&!F());){var D=k.callback;if(typeof D=="function"){k.callback=null,v=k.priorityLevel;var A=D(k.expirationTime<=O);O=e.unstable_now(),typeof A=="function"?k.callback=A:k===n(l)&&r(l),x(O)}else r(l);k=n(l)}if(k!==null)var fe=!0;else{var ee=n(g);ee!==null&&U(b,ee.startTime-O),fe=!1}return fe}finally{k=null,v=J,h=!1}}var E=!1,P=null,L=-1,T=5,I=-1;function F(){return!(e.unstable_now()-I<T)}function S(){if(P!==null){var V=e.unstable_now();I=V;var O=!0;try{O=P(!0,V)}finally{O?$():(E=!1,P=null)}}else E=!1}var $;if(typeof f=="function")$=function(){f(S)};else if(typeof MessageChannel<"u"){var m=new MessageChannel,Y=m.port2;m.port1.onmessage=S,$=function(){Y.postMessage(null)}}else $=function(){_(S,0)};function oe(V){P=V,E||(E=!0,$())}function U(V,O){L=_(function(){V(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){y||h||(y=!0,oe(j))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(V){switch(v){case 1:case 2:case 3:var O=3;break;default:O=v}var J=v;v=O;try{return V()}finally{v=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,O){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=v;v=V;try{return O()}finally{v=J}},e.unstable_scheduleCallback=function(V,O,J){var D=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?D+J:D):J=D,V){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=J+A,V={id:w++,callback:O,priorityLevel:V,startTime:J,expirationTime:A,sortIndex:-1},J>D?(V.sortIndex=J,t(g,V),n(l)===null&&V===n(g)&&(p?(c(L),L=-1):p=!0,U(b,J-D))):(V.sortIndex=A,t(l,V),y||h||(y=!0,oe(j))),V},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(V){var O=v;return function(){var J=v;v=O;try{return V.apply(this,arguments)}finally{v=J}}}})(Bc);Uc.exports=Bc;var wh=Uc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h=W,Ut=wh;function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wc=new Set,Pi={};function mr(e,t){Hr(e,t),Hr(e+"Capture",t)}function Hr(e,t){for(Pi[e]=t,e=0;e<t.length;e++)Wc.add(t[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=Object.prototype.hasOwnProperty,Sh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ql={},eu={};function bh(e){return io.call(eu,e)?!0:io.call(ql,e)?!1:Sh.test(e)?eu[e]=!0:(ql[e]=!0,!1)}function Nh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ch(e,t,n,r){if(t===null||typeof t>"u"||Nh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Et(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mt[e]=new Et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mt[t]=new Et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mt[e]=new Et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mt[e]=new Et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mt[e]=new Et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mt[e]=new Et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mt[e]=new Et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mt[e]=new Et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mt[e]=new Et(e,5,!1,e.toLowerCase(),null,!1,!1)});var il=/[\-:]([a-z])/g;function al(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(il,al);mt[t]=new Et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(il,al);mt[t]=new Et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(il,al);mt[t]=new Et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mt[e]=new Et(e,1,!1,e.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mt[e]=new Et(e,1,!1,e.toLowerCase(),null,!0,!0)});function sl(e,t,n,r){var i=mt.hasOwnProperty(t)?mt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ch(t,n,i,r)&&(n=null),r||i===null?bh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var zn=_h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ia=Symbol.for("react.element"),br=Symbol.for("react.portal"),Nr=Symbol.for("react.fragment"),ol=Symbol.for("react.strict_mode"),ao=Symbol.for("react.profiler"),Vc=Symbol.for("react.provider"),Hc=Symbol.for("react.context"),ll=Symbol.for("react.forward_ref"),so=Symbol.for("react.suspense"),oo=Symbol.for("react.suspense_list"),ul=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),Gc=Symbol.for("react.offscreen"),tu=Symbol.iterator;function oi(e){return e===null||typeof e!="object"?null:(e=tu&&e[tu]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,Ps;function mi(e){if(Ps===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ps=t&&t[1]||""}return`
`+Ps+e}var Ts=!1;function As(e,t){if(!e||Ts)return"";Ts=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Ts=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mi(e):""}function jh(e){switch(e.tag){case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return e=As(e.type,!1),e;case 11:return e=As(e.type.render,!1),e;case 1:return e=As(e.type,!0),e;default:return""}}function lo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nr:return"Fragment";case br:return"Portal";case ao:return"Profiler";case ol:return"StrictMode";case so:return"Suspense";case oo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hc:return(e.displayName||"Context")+".Consumer";case Vc:return(e._context.displayName||"Context")+".Provider";case ll:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ul:return t=e.displayName||null,t!==null?t:lo(e.type)||"Memo";case Dn:t=e._payload,e=e._init;try{return lo(e(t))}catch{}}return null}function Eh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lo(t);case 8:return t===ol?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zh(e){var t=Yc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function aa(e){e._valueTracker||(e._valueTracker=zh(e))}function Kc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Yc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uo(e,t){var n=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zc(e,t){t=t.checked,t!=null&&sl(e,"checked",t,!1)}function co(e,t){Zc(e,t);var n=Zn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fo(e,t.type,n):t.hasOwnProperty("defaultValue")&&fo(e,t.type,Zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ru(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fo(e,t,n){(t!=="number"||Ia(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gi=Array.isArray;function Or(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ho(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ie(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function iu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ie(92));if(gi(n)){if(1<n.length)throw Error(ie(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zn(n)}}function Xc(e,t){var n=Zn(t.value),r=Zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function au(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function po(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sa,Jc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sa=sa||document.createElement("div"),sa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ti(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ph=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(e){Ph.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wi[t]=wi[e]})});function qc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wi.hasOwnProperty(e)&&wi[e]?(""+t).trim():t+"px"}function ed(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Th=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mo(e,t){if(t){if(Th[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ie(62))}}function go(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yo=null;function cl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vo=null,Fr=null,$r=null;function su(e){if(e=Xi(e)){if(typeof vo!="function")throw Error(ie(280));var t=e.stateNode;t&&(t=ps(t),vo(e.stateNode,e.type,t))}}function td(e){Fr?$r?$r.push(e):$r=[e]:Fr=e}function nd(){if(Fr){var e=Fr,t=$r;if($r=Fr=null,su(e),t)for(e=0;e<t.length;e++)su(t[e])}}function rd(e,t){return e(t)}function id(){}var Ls=!1;function ad(e,t,n){if(Ls)return e(t,n);Ls=!0;try{return rd(e,t,n)}finally{Ls=!1,(Fr!==null||$r!==null)&&(id(),nd())}}function Ai(e,t){var n=e.stateNode;if(n===null)return null;var r=ps(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ie(231,t,typeof n));return n}var xo=!1;if(Nn)try{var li={};Object.defineProperty(li,"passive",{get:function(){xo=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{xo=!1}function Ah(e,t,n,r,i,a,s,o,l){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(w){this.onError(w)}}var _i=!1,Oa=null,Fa=!1,ko=null,Lh={onError:function(e){_i=!0,Oa=e}};function Mh(e,t,n,r,i,a,s,o,l){_i=!1,Oa=null,Ah.apply(Lh,arguments)}function Dh(e,t,n,r,i,a,s,o,l){if(Mh.apply(this,arguments),_i){if(_i){var g=Oa;_i=!1,Oa=null}else throw Error(ie(198));Fa||(Fa=!0,ko=g)}}function gr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ou(e){if(gr(e)!==e)throw Error(ie(188))}function Rh(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error(ie(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return ou(i),e;if(a===r)return ou(i),t;a=a.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?e:t}function od(e){return e=Rh(e),e!==null?ld(e):null}function ld(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ld(e);if(t!==null)return t;e=e.sibling}return null}var ud=Ut.unstable_scheduleCallback,lu=Ut.unstable_cancelCallback,Ih=Ut.unstable_shouldYield,Oh=Ut.unstable_requestPaint,nt=Ut.unstable_now,Fh=Ut.unstable_getCurrentPriorityLevel,dl=Ut.unstable_ImmediatePriority,cd=Ut.unstable_UserBlockingPriority,$a=Ut.unstable_NormalPriority,$h=Ut.unstable_LowPriority,dd=Ut.unstable_IdlePriority,cs=null,gn=null;function Uh(e){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(cs,e,void 0,(e.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:Vh,Bh=Math.log,Wh=Math.LN2;function Vh(e){return e>>>=0,e===0?32:31-(Bh(e)/Wh|0)|0}var oa=64,la=4194304;function yi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ua(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=yi(o):(a&=s,a!==0&&(r=yi(a)))}else s=n&~i,s!==0?r=yi(s):a!==0&&(r=yi(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-on(t),i=1<<n,r|=e[n],t&=~i;return r}function Hh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-on(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=Hh(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function wo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fd(){var e=oa;return oa<<=1,!(oa&4194240)&&(oa=64),e}function Ms(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ki(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-on(t),e[t]=n}function Yh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-on(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function fl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-on(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ue=0;function hd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pd,hl,md,gd,yd,_o=!1,ua=[],Un=null,Bn=null,Wn=null,Li=new Map,Mi=new Map,In=[],Kh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uu(e,t){switch(e){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Li.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(t.pointerId)}}function ui(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Xi(t),t!==null&&hl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Zh(e,t,n,r,i){switch(t){case"focusin":return Un=ui(Un,e,t,n,r,i),!0;case"dragenter":return Bn=ui(Bn,e,t,n,r,i),!0;case"mouseover":return Wn=ui(Wn,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Li.set(a,ui(Li.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Mi.set(a,ui(Mi.get(a)||null,e,t,n,r,i)),!0}return!1}function vd(e){var t=ar(e.target);if(t!==null){var n=gr(t);if(n!==null){if(t=n.tag,t===13){if(t=sd(n),t!==null){e.blockedOn=t,yd(e.priority,function(){md(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ca(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=So(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yo=r,n.target.dispatchEvent(r),yo=null}else return t=Xi(n),t!==null&&hl(t),e.blockedOn=n,!1;t.shift()}return!0}function cu(e,t,n){Ca(e)&&n.delete(t)}function Xh(){_o=!1,Un!==null&&Ca(Un)&&(Un=null),Bn!==null&&Ca(Bn)&&(Bn=null),Wn!==null&&Ca(Wn)&&(Wn=null),Li.forEach(cu),Mi.forEach(cu)}function ci(e,t){e.blockedOn===t&&(e.blockedOn=null,_o||(_o=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,Xh)))}function Di(e){function t(i){return ci(i,e)}if(0<ua.length){ci(ua[0],e);for(var n=1;n<ua.length;n++){var r=ua[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Un!==null&&ci(Un,e),Bn!==null&&ci(Bn,e),Wn!==null&&ci(Wn,e),Li.forEach(t),Mi.forEach(t),n=0;n<In.length;n++)r=In[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<In.length&&(n=In[0],n.blockedOn===null);)vd(n),n.blockedOn===null&&In.shift()}var Ur=zn.ReactCurrentBatchConfig,Ba=!0;function Qh(e,t,n,r){var i=Ue,a=Ur.transition;Ur.transition=null;try{Ue=1,pl(e,t,n,r)}finally{Ue=i,Ur.transition=a}}function Jh(e,t,n,r){var i=Ue,a=Ur.transition;Ur.transition=null;try{Ue=4,pl(e,t,n,r)}finally{Ue=i,Ur.transition=a}}function pl(e,t,n,r){if(Ba){var i=So(e,t,n,r);if(i===null)Vs(e,t,r,Wa,n),uu(e,r);else if(Zh(i,e,t,n,r))r.stopPropagation();else if(uu(e,r),t&4&&-1<Kh.indexOf(e)){for(;i!==null;){var a=Xi(i);if(a!==null&&pd(a),a=So(e,t,n,r),a===null&&Vs(e,t,r,Wa,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Vs(e,t,r,null,n)}}var Wa=null;function So(e,t,n,r){if(Wa=null,e=cl(r),e=ar(e),e!==null)if(t=gr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wa=e,null}function xd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fh()){case dl:return 1;case cd:return 4;case $a:case $h:return 16;case dd:return 536870912;default:return 16}default:return 16}}var Fn=null,ml=null,ja=null;function kd(){if(ja)return ja;var e,t=ml,n=t.length,r,i="value"in Fn?Fn.value:Fn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return ja=i.slice(e,1<r?1-r:void 0)}function Ea(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ca(){return!0}function du(){return!1}function Wt(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ca:du,this.isPropagationStopped=du,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gl=Wt(qr),Zi=Qe({},qr,{view:0,detail:0}),qh=Wt(Zi),Ds,Rs,di,ds=Qe({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(Ds=e.screenX-di.screenX,Rs=e.screenY-di.screenY):Rs=Ds=0,di=e),Ds)},movementY:function(e){return"movementY"in e?e.movementY:Rs}}),fu=Wt(ds),ep=Qe({},ds,{dataTransfer:0}),tp=Wt(ep),np=Qe({},Zi,{relatedTarget:0}),Is=Wt(np),rp=Qe({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),ip=Wt(rp),ap=Qe({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sp=Wt(ap),op=Qe({},qr,{data:0}),hu=Wt(op),lp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},up={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cp[e])?!!t[e]:!1}function yl(){return dp}var fp=Qe({},Zi,{key:function(e){if(e.key){var t=lp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ea(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?up[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(e){return e.type==="keypress"?Ea(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ea(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hp=Wt(fp),pp=Qe({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pu=Wt(pp),mp=Qe({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),gp=Wt(mp),yp=Qe({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vp=Wt(yp),xp=Qe({},ds,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kp=Wt(xp),wp=[9,13,27,32],vl=Nn&&"CompositionEvent"in window,Si=null;Nn&&"documentMode"in document&&(Si=document.documentMode);var _p=Nn&&"TextEvent"in window&&!Si,wd=Nn&&(!vl||Si&&8<Si&&11>=Si),mu=" ",gu=!1;function _d(e,t){switch(e){case"keyup":return wp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cr=!1;function Sp(e,t){switch(e){case"compositionend":return Sd(t);case"keypress":return t.which!==32?null:(gu=!0,mu);case"textInput":return e=t.data,e===mu&&gu?null:e;default:return null}}function bp(e,t){if(Cr)return e==="compositionend"||!vl&&_d(e,t)?(e=kd(),ja=ml=Fn=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wd&&t.locale!=="ko"?null:t.data;default:return null}}var Np={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Np[e.type]:t==="textarea"}function bd(e,t,n,r){td(r),t=Va(t,"onChange"),0<t.length&&(n=new gl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bi=null,Ri=null;function Cp(e){Dd(e,0)}function fs(e){var t=zr(e);if(Kc(t))return e}function jp(e,t){if(e==="change")return t}var Nd=!1;if(Nn){var Os;if(Nn){var Fs="oninput"in document;if(!Fs){var vu=document.createElement("div");vu.setAttribute("oninput","return;"),Fs=typeof vu.oninput=="function"}Os=Fs}else Os=!1;Nd=Os&&(!document.documentMode||9<document.documentMode)}function xu(){bi&&(bi.detachEvent("onpropertychange",Cd),Ri=bi=null)}function Cd(e){if(e.propertyName==="value"&&fs(Ri)){var t=[];bd(t,Ri,e,cl(e)),ad(Cp,t)}}function Ep(e,t,n){e==="focusin"?(xu(),bi=t,Ri=n,bi.attachEvent("onpropertychange",Cd)):e==="focusout"&&xu()}function zp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fs(Ri)}function Pp(e,t){if(e==="click")return fs(t)}function Tp(e,t){if(e==="input"||e==="change")return fs(t)}function Ap(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:Ap;function Ii(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!io.call(t,i)||!un(e[i],t[i]))return!1}return!0}function ku(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wu(e,t){var n=ku(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ku(n)}}function jd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ed(){for(var e=window,t=Ia();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ia(e.document)}return t}function xl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lp(e){var t=Ed(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jd(n.ownerDocument.documentElement,n)){if(r!==null&&xl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=wu(n,a);var s=wu(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mp=Nn&&"documentMode"in document&&11>=document.documentMode,jr=null,bo=null,Ni=null,No=!1;function _u(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;No||jr==null||jr!==Ia(r)||(r=jr,"selectionStart"in r&&xl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ni&&Ii(Ni,r)||(Ni=r,r=Va(bo,"onSelect"),0<r.length&&(t=new gl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jr)))}function da(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionend:da("Transition","TransitionEnd")},$s={},zd={};Nn&&(zd=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function hs(e){if($s[e])return $s[e];if(!Er[e])return e;var t=Er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zd)return $s[e]=t[n];return e}var Pd=hs("animationend"),Td=hs("animationiteration"),Ad=hs("animationstart"),Ld=hs("transitionend"),Md=new Map,Su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(e,t){Md.set(e,t),mr(t,[e])}for(var Us=0;Us<Su.length;Us++){var Bs=Su[Us],Dp=Bs.toLowerCase(),Rp=Bs[0].toUpperCase()+Bs.slice(1);Qn(Dp,"on"+Rp)}Qn(Pd,"onAnimationEnd");Qn(Td,"onAnimationIteration");Qn(Ad,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(Ld,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ip=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function bu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Dh(r,t,void 0,e),e.currentTarget=null}function Dd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,g=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;bu(i,o,g),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,g=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;bu(i,o,g),a=l}}}if(Fa)throw e=ko,Fa=!1,ko=null,e}function Ge(e,t){var n=t[Po];n===void 0&&(n=t[Po]=new Set);var r=e+"__bubble";n.has(r)||(Rd(t,e,2,!1),n.add(r))}function Ws(e,t,n){var r=0;t&&(r|=4),Rd(n,e,r,t)}var fa="_reactListening"+Math.random().toString(36).slice(2);function Oi(e){if(!e[fa]){e[fa]=!0,Wc.forEach(function(n){n!=="selectionchange"&&(Ip.has(n)||Ws(n,!1,e),Ws(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fa]||(t[fa]=!0,Ws("selectionchange",!1,t))}}function Rd(e,t,n,r){switch(xd(t)){case 1:var i=Qh;break;case 4:i=Jh;break;default:i=pl}n=i.bind(null,t,n,e),i=void 0,!xo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vs(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=ar(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}ad(function(){var g=a,w=cl(n),k=[];e:{var v=Md.get(e);if(v!==void 0){var h=gl,y=e;switch(e){case"keypress":if(Ea(n)===0)break e;case"keydown":case"keyup":h=hp;break;case"focusin":y="focus",h=Is;break;case"focusout":y="blur",h=Is;break;case"beforeblur":case"afterblur":h=Is;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=gp;break;case Pd:case Td:case Ad:h=ip;break;case Ld:h=vp;break;case"scroll":h=qh;break;case"wheel":h=kp;break;case"copy":case"cut":case"paste":h=sp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=pu}var p=(t&4)!==0,_=!p&&e==="scroll",c=p?v!==null?v+"Capture":null:v;p=[];for(var f=g,x;f!==null;){x=f;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,c!==null&&(b=Ai(f,c),b!=null&&p.push(Fi(f,b,x)))),_)break;f=f.return}0<p.length&&(v=new h(v,y,null,n,w),k.push({event:v,listeners:p}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",v&&n!==yo&&(y=n.relatedTarget||n.fromElement)&&(ar(y)||y[Cn]))break e;if((h||v)&&(v=w.window===w?w:(v=w.ownerDocument)?v.defaultView||v.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=g,y=y?ar(y):null,y!==null&&(_=gr(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=g),h!==y)){if(p=fu,b="onMouseLeave",c="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(p=pu,b="onPointerLeave",c="onPointerEnter",f="pointer"),_=h==null?v:zr(h),x=y==null?v:zr(y),v=new p(b,f+"leave",h,n,w),v.target=_,v.relatedTarget=x,b=null,ar(w)===g&&(p=new p(c,f+"enter",y,n,w),p.target=x,p.relatedTarget=_,b=p),_=b,h&&y)t:{for(p=h,c=y,f=0,x=p;x;x=wr(x))f++;for(x=0,b=c;b;b=wr(b))x++;for(;0<f-x;)p=wr(p),f--;for(;0<x-f;)c=wr(c),x--;for(;f--;){if(p===c||c!==null&&p===c.alternate)break t;p=wr(p),c=wr(c)}p=null}else p=null;h!==null&&Nu(k,v,h,p,!1),y!==null&&_!==null&&Nu(k,_,y,p,!0)}}e:{if(v=g?zr(g):window,h=v.nodeName&&v.nodeName.toLowerCase(),h==="select"||h==="input"&&v.type==="file")var j=jp;else if(yu(v))if(Nd)j=Tp;else{j=zp;var E=Ep}else(h=v.nodeName)&&h.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(j=Pp);if(j&&(j=j(e,g))){bd(k,j,n,w);break e}E&&E(e,v,g),e==="focusout"&&(E=v._wrapperState)&&E.controlled&&v.type==="number"&&fo(v,"number",v.value)}switch(E=g?zr(g):window,e){case"focusin":(yu(E)||E.contentEditable==="true")&&(jr=E,bo=g,Ni=null);break;case"focusout":Ni=bo=jr=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,_u(k,n,w);break;case"selectionchange":if(Mp)break;case"keydown":case"keyup":_u(k,n,w)}var P;if(vl)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Cr?_d(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(wd&&n.locale!=="ko"&&(Cr||L!=="onCompositionStart"?L==="onCompositionEnd"&&Cr&&(P=kd()):(Fn=w,ml="value"in Fn?Fn.value:Fn.textContent,Cr=!0)),E=Va(g,L),0<E.length&&(L=new hu(L,e,null,n,w),k.push({event:L,listeners:E}),P?L.data=P:(P=Sd(n),P!==null&&(L.data=P)))),(P=_p?Sp(e,n):bp(e,n))&&(g=Va(g,"onBeforeInput"),0<g.length&&(w=new hu("onBeforeInput","beforeinput",null,n,w),k.push({event:w,listeners:g}),w.data=P))}Dd(k,t)})}function Fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Va(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ai(e,n),a!=null&&r.unshift(Fi(e,a,i)),a=Ai(e,t),a!=null&&r.push(Fi(e,a,i))),e=e.return}return r}function wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nu(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,g=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&g!==null&&(o=g,i?(l=Ai(n,a),l!=null&&s.unshift(Fi(n,l,o))):i||(l=Ai(n,a),l!=null&&s.push(Fi(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Op=/\r\n?/g,Fp=/\u0000|\uFFFD/g;function Cu(e){return(typeof e=="string"?e:""+e).replace(Op,`
`).replace(Fp,"")}function ha(e,t,n){if(t=Cu(t),Cu(e)!==t&&n)throw Error(ie(425))}function Ha(){}var Co=null,jo=null;function Eo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zo=typeof setTimeout=="function"?setTimeout:void 0,$p=typeof clearTimeout=="function"?clearTimeout:void 0,ju=typeof Promise=="function"?Promise:void 0,Up=typeof queueMicrotask=="function"?queueMicrotask:typeof ju<"u"?function(e){return ju.resolve(null).then(e).catch(Bp)}:zo;function Bp(e){setTimeout(function(){throw e})}function Hs(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Di(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Di(t)}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Eu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ei=Math.random().toString(36).slice(2),mn="__reactFiber$"+ei,$i="__reactProps$"+ei,Cn="__reactContainer$"+ei,Po="__reactEvents$"+ei,Wp="__reactListeners$"+ei,Vp="__reactHandles$"+ei;function ar(e){var t=e[mn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cn]||n[mn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Eu(e);e!==null;){if(n=e[mn])return n;e=Eu(e)}return t}e=n,n=e.parentNode}return null}function Xi(e){return e=e[mn]||e[Cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function ps(e){return e[$i]||null}var To=[],Pr=-1;function Jn(e){return{current:e}}function Ye(e){0>Pr||(e.current=To[Pr],To[Pr]=null,Pr--)}function Ve(e,t){Pr++,To[Pr]=e.current,e.current=t}var Xn={},kt=Jn(Xn),Lt=Jn(!1),cr=Xn;function Gr(e,t){var n=e.type.contextTypes;if(!n)return Xn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mt(e){return e=e.childContextTypes,e!=null}function Ga(){Ye(Lt),Ye(kt)}function zu(e,t,n){if(kt.current!==Xn)throw Error(ie(168));Ve(kt,t),Ve(Lt,n)}function Id(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ie(108,Eh(e)||"Unknown",i));return Qe({},n,r)}function Ya(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xn,cr=kt.current,Ve(kt,e),Ve(Lt,Lt.current),!0}function Pu(e,t,n){var r=e.stateNode;if(!r)throw Error(ie(169));n?(e=Id(e,t,cr),r.__reactInternalMemoizedMergedChildContext=e,Ye(Lt),Ye(kt),Ve(kt,e)):Ye(Lt),Ve(Lt,n)}var wn=null,ms=!1,Gs=!1;function Od(e){wn===null?wn=[e]:wn.push(e)}function Hp(e){ms=!0,Od(e)}function qn(){if(!Gs&&wn!==null){Gs=!0;var e=0,t=Ue;try{var n=wn;for(Ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wn=null,ms=!1}catch(i){throw wn!==null&&(wn=wn.slice(e+1)),ud(dl,qn),i}finally{Ue=t,Gs=!1}}return null}var Tr=[],Ar=0,Ka=null,Za=0,Zt=[],Xt=0,dr=null,_n=1,Sn="";function nr(e,t){Tr[Ar++]=Za,Tr[Ar++]=Ka,Ka=e,Za=t}function Fd(e,t,n){Zt[Xt++]=_n,Zt[Xt++]=Sn,Zt[Xt++]=dr,dr=e;var r=_n;e=Sn;var i=32-on(r)-1;r&=~(1<<i),n+=1;var a=32-on(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,_n=1<<32-on(t)+i|n<<i|r,Sn=a+e}else _n=1<<a|n<<i|r,Sn=e}function kl(e){e.return!==null&&(nr(e,1),Fd(e,1,0))}function wl(e){for(;e===Ka;)Ka=Tr[--Ar],Tr[Ar]=null,Za=Tr[--Ar],Tr[Ar]=null;for(;e===dr;)dr=Zt[--Xt],Zt[Xt]=null,Sn=Zt[--Xt],Zt[Xt]=null,_n=Zt[--Xt],Zt[Xt]=null}var $t=null,Ft=null,Ke=!1,sn=null;function $d(e,t){var n=Qt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,Ft=Vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,Ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dr!==null?{id:_n,overflow:Sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$t=e,Ft=null,!0):!1;default:return!1}}function Ao(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lo(e){if(Ke){var t=Ft;if(t){var n=t;if(!Tu(e,t)){if(Ao(e))throw Error(ie(418));t=Vn(n.nextSibling);var r=$t;t&&Tu(e,t)?$d(r,n):(e.flags=e.flags&-4097|2,Ke=!1,$t=e)}}else{if(Ao(e))throw Error(ie(418));e.flags=e.flags&-4097|2,Ke=!1,$t=e}}}function Au(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function pa(e){if(e!==$t)return!1;if(!Ke)return Au(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Eo(e.type,e.memoizedProps)),t&&(t=Ft)){if(Ao(e))throw Ud(),Error(ie(418));for(;t;)$d(e,t),t=Vn(t.nextSibling)}if(Au(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ft=Vn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ft=null}}else Ft=$t?Vn(e.stateNode.nextSibling):null;return!0}function Ud(){for(var e=Ft;e;)e=Vn(e.nextSibling)}function Yr(){Ft=$t=null,Ke=!1}function _l(e){sn===null?sn=[e]:sn.push(e)}var Gp=zn.ReactCurrentBatchConfig;function fi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,e))}return e}function ma(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lu(e){var t=e._init;return t(e._payload)}function Bd(e){function t(c,f){if(e){var x=c.deletions;x===null?(c.deletions=[f],c.flags|=16):x.push(f)}}function n(c,f){if(!e)return null;for(;f!==null;)t(c,f),f=f.sibling;return null}function r(c,f){for(c=new Map;f!==null;)f.key!==null?c.set(f.key,f):c.set(f.index,f),f=f.sibling;return c}function i(c,f){return c=Kn(c,f),c.index=0,c.sibling=null,c}function a(c,f,x){return c.index=x,e?(x=c.alternate,x!==null?(x=x.index,x<f?(c.flags|=2,f):x):(c.flags|=2,f)):(c.flags|=1048576,f)}function s(c){return e&&c.alternate===null&&(c.flags|=2),c}function o(c,f,x,b){return f===null||f.tag!==6?(f=qs(x,c.mode,b),f.return=c,f):(f=i(f,x),f.return=c,f)}function l(c,f,x,b){var j=x.type;return j===Nr?w(c,f,x.props.children,b,x.key):f!==null&&(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Dn&&Lu(j)===f.type)?(b=i(f,x.props),b.ref=fi(c,f,x),b.return=c,b):(b=Da(x.type,x.key,x.props,null,c.mode,b),b.ref=fi(c,f,x),b.return=c,b)}function g(c,f,x,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=eo(x,c.mode,b),f.return=c,f):(f=i(f,x.children||[]),f.return=c,f)}function w(c,f,x,b,j){return f===null||f.tag!==7?(f=ur(x,c.mode,b,j),f.return=c,f):(f=i(f,x),f.return=c,f)}function k(c,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=qs(""+f,c.mode,x),f.return=c,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ia:return x=Da(f.type,f.key,f.props,null,c.mode,x),x.ref=fi(c,null,f),x.return=c,x;case br:return f=eo(f,c.mode,x),f.return=c,f;case Dn:var b=f._init;return k(c,b(f._payload),x)}if(gi(f)||oi(f))return f=ur(f,c.mode,x,null),f.return=c,f;ma(c,f)}return null}function v(c,f,x,b){var j=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:o(c,f,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ia:return x.key===j?l(c,f,x,b):null;case br:return x.key===j?g(c,f,x,b):null;case Dn:return j=x._init,v(c,f,j(x._payload),b)}if(gi(x)||oi(x))return j!==null?null:w(c,f,x,b,null);ma(c,x)}return null}function h(c,f,x,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return c=c.get(x)||null,o(f,c,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ia:return c=c.get(b.key===null?x:b.key)||null,l(f,c,b,j);case br:return c=c.get(b.key===null?x:b.key)||null,g(f,c,b,j);case Dn:var E=b._init;return h(c,f,x,E(b._payload),j)}if(gi(b)||oi(b))return c=c.get(x)||null,w(f,c,b,j,null);ma(f,b)}return null}function y(c,f,x,b){for(var j=null,E=null,P=f,L=f=0,T=null;P!==null&&L<x.length;L++){P.index>L?(T=P,P=null):T=P.sibling;var I=v(c,P,x[L],b);if(I===null){P===null&&(P=T);break}e&&P&&I.alternate===null&&t(c,P),f=a(I,f,L),E===null?j=I:E.sibling=I,E=I,P=T}if(L===x.length)return n(c,P),Ke&&nr(c,L),j;if(P===null){for(;L<x.length;L++)P=k(c,x[L],b),P!==null&&(f=a(P,f,L),E===null?j=P:E.sibling=P,E=P);return Ke&&nr(c,L),j}for(P=r(c,P);L<x.length;L++)T=h(P,c,L,x[L],b),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?L:T.key),f=a(T,f,L),E===null?j=T:E.sibling=T,E=T);return e&&P.forEach(function(F){return t(c,F)}),Ke&&nr(c,L),j}function p(c,f,x,b){var j=oi(x);if(typeof j!="function")throw Error(ie(150));if(x=j.call(x),x==null)throw Error(ie(151));for(var E=j=null,P=f,L=f=0,T=null,I=x.next();P!==null&&!I.done;L++,I=x.next()){P.index>L?(T=P,P=null):T=P.sibling;var F=v(c,P,I.value,b);if(F===null){P===null&&(P=T);break}e&&P&&F.alternate===null&&t(c,P),f=a(F,f,L),E===null?j=F:E.sibling=F,E=F,P=T}if(I.done)return n(c,P),Ke&&nr(c,L),j;if(P===null){for(;!I.done;L++,I=x.next())I=k(c,I.value,b),I!==null&&(f=a(I,f,L),E===null?j=I:E.sibling=I,E=I);return Ke&&nr(c,L),j}for(P=r(c,P);!I.done;L++,I=x.next())I=h(P,c,L,I.value,b),I!==null&&(e&&I.alternate!==null&&P.delete(I.key===null?L:I.key),f=a(I,f,L),E===null?j=I:E.sibling=I,E=I);return e&&P.forEach(function(S){return t(c,S)}),Ke&&nr(c,L),j}function _(c,f,x,b){if(typeof x=="object"&&x!==null&&x.type===Nr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ia:e:{for(var j=x.key,E=f;E!==null;){if(E.key===j){if(j=x.type,j===Nr){if(E.tag===7){n(c,E.sibling),f=i(E,x.props.children),f.return=c,c=f;break e}}else if(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Dn&&Lu(j)===E.type){n(c,E.sibling),f=i(E,x.props),f.ref=fi(c,E,x),f.return=c,c=f;break e}n(c,E);break}else t(c,E);E=E.sibling}x.type===Nr?(f=ur(x.props.children,c.mode,b,x.key),f.return=c,c=f):(b=Da(x.type,x.key,x.props,null,c.mode,b),b.ref=fi(c,f,x),b.return=c,c=b)}return s(c);case br:e:{for(E=x.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){n(c,f.sibling),f=i(f,x.children||[]),f.return=c,c=f;break e}else{n(c,f);break}else t(c,f);f=f.sibling}f=eo(x,c.mode,b),f.return=c,c=f}return s(c);case Dn:return E=x._init,_(c,f,E(x._payload),b)}if(gi(x))return y(c,f,x,b);if(oi(x))return p(c,f,x,b);ma(c,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(n(c,f.sibling),f=i(f,x),f.return=c,c=f):(n(c,f),f=qs(x,c.mode,b),f.return=c,c=f),s(c)):n(c,f)}return _}var Kr=Bd(!0),Wd=Bd(!1),Xa=Jn(null),Qa=null,Lr=null,Sl=null;function bl(){Sl=Lr=Qa=null}function Nl(e){var t=Xa.current;Ye(Xa),e._currentValue=t}function Mo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Br(e,t){Qa=e,Sl=Lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(At=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(Sl!==e)if(e={context:e,memoizedValue:t,next:null},Lr===null){if(Qa===null)throw Error(ie(308));Lr=e,Qa.dependencies={lanes:0,firstContext:e}}else Lr=Lr.next=e;return t}var sr=null;function Cl(e){sr===null?sr=[e]:sr.push(e)}function Vd(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Cl(t)):(n.next=i.next,i.next=n),t.interleaved=n,jn(e,r)}function jn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rn=!1;function jl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,jn(e,n)}return i=r.interleaved,i===null?(t.next=t,Cl(r)):(t.next=i.next,i.next=t),r.interleaved=t,jn(e,n)}function za(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fl(e,n)}}function Mu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ja(e,t,n,r){var i=e.updateQueue;Rn=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,g=l.next;l.next=null,s===null?a=g:s.next=g,s=l;var w=e.alternate;w!==null&&(w=w.updateQueue,o=w.lastBaseUpdate,o!==s&&(o===null?w.firstBaseUpdate=g:o.next=g,w.lastBaseUpdate=l))}if(a!==null){var k=i.baseState;s=0,w=g=l=null,o=a;do{var v=o.lane,h=o.eventTime;if((r&v)===v){w!==null&&(w=w.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,p=o;switch(v=t,h=n,p.tag){case 1:if(y=p.payload,typeof y=="function"){k=y.call(h,k,v);break e}k=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,v=typeof y=="function"?y.call(h,k,v):y,v==null)break e;k=Qe({},k,v);break e;case 2:Rn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[o]:v.push(o))}else h={eventTime:h,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},w===null?(g=w=h,l=k):w=w.next=h,s|=v;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;v=o,o=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(w===null&&(l=k),i.baseState=l,i.firstBaseUpdate=g,i.lastBaseUpdate=w,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);hr|=s,e.lanes=s,e.memoizedState=k}}function Du(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var Qi={},yn=Jn(Qi),Ui=Jn(Qi),Bi=Jn(Qi);function or(e){if(e===Qi)throw Error(ie(174));return e}function El(e,t){switch(Ve(Bi,t),Ve(Ui,e),Ve(yn,Qi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:po(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=po(t,e)}Ye(yn),Ve(yn,t)}function Zr(){Ye(yn),Ye(Ui),Ye(Bi)}function Gd(e){or(Bi.current);var t=or(yn.current),n=po(t,e.type);t!==n&&(Ve(Ui,e),Ve(yn,n))}function zl(e){Ui.current===e&&(Ye(yn),Ye(Ui))}var Ze=Jn(0);function qa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ys=[];function Pl(){for(var e=0;e<Ys.length;e++)Ys[e]._workInProgressVersionPrimary=null;Ys.length=0}var Pa=zn.ReactCurrentDispatcher,Ks=zn.ReactCurrentBatchConfig,fr=0,Xe=null,ot=null,dt=null,es=!1,Ci=!1,Wi=0,Yp=0;function yt(){throw Error(ie(321))}function Tl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function Al(e,t,n,r,i,a){if(fr=a,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pa.current=e===null||e.memoizedState===null?Qp:Jp,e=n(r,i),Ci){a=0;do{if(Ci=!1,Wi=0,25<=a)throw Error(ie(301));a+=1,dt=ot=null,t.updateQueue=null,Pa.current=qp,e=n(r,i)}while(Ci)}if(Pa.current=ts,t=ot!==null&&ot.next!==null,fr=0,dt=ot=Xe=null,es=!1,t)throw Error(ie(300));return e}function Ll(){var e=Wi!==0;return Wi=0,e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Xe.memoizedState=dt=e:dt=dt.next=e,dt}function en(){if(ot===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=dt===null?Xe.memoizedState:dt.next;if(t!==null)dt=t,ot=e;else{if(e===null)throw Error(ie(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?Xe.memoizedState=dt=e:dt=dt.next=e}return dt}function Vi(e,t){return typeof t=="function"?t(e):t}function Zs(e){var t=en(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var r=ot,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,g=a;do{var w=g.lane;if((fr&w)===w)l!==null&&(l=l.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var k={lane:w,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};l===null?(o=l=k,s=r):l=l.next=k,Xe.lanes|=w,hr|=w}g=g.next}while(g!==null&&g!==a);l===null?s=r:l.next=o,un(r,t.memoizedState)||(At=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Xe.lanes|=a,hr|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xs(e){var t=en(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);un(a,t.memoizedState)||(At=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Yd(){}function Kd(e,t){var n=Xe,r=en(),i=t(),a=!un(r.memoizedState,i);if(a&&(r.memoizedState=i,At=!0),r=r.queue,Ml(Qd.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Hi(9,Xd.bind(null,n,r,i,t),void 0,null),ft===null)throw Error(ie(349));fr&30||Zd(n,t,i)}return i}function Zd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xd(e,t,n,r){t.value=n,t.getSnapshot=r,Jd(t)&&qd(e)}function Qd(e,t,n){return n(function(){Jd(t)&&qd(e)})}function Jd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function qd(e){var t=jn(e,1);t!==null&&ln(t,e,1,-1)}function Ru(e){var t=pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},t.queue=e,e=e.dispatch=Xp.bind(null,Xe,e),[t.memoizedState,e]}function Hi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ef(){return en().memoizedState}function Ta(e,t,n,r){var i=pn();Xe.flags|=e,i.memoizedState=Hi(1|t,n,void 0,r===void 0?null:r)}function gs(e,t,n,r){var i=en();r=r===void 0?null:r;var a=void 0;if(ot!==null){var s=ot.memoizedState;if(a=s.destroy,r!==null&&Tl(r,s.deps)){i.memoizedState=Hi(t,n,a,r);return}}Xe.flags|=e,i.memoizedState=Hi(1|t,n,a,r)}function Iu(e,t){return Ta(8390656,8,e,t)}function Ml(e,t){return gs(2048,8,e,t)}function tf(e,t){return gs(4,2,e,t)}function nf(e,t){return gs(4,4,e,t)}function rf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function af(e,t,n){return n=n!=null?n.concat([e]):null,gs(4,4,rf.bind(null,t,e),n)}function Dl(){}function sf(e,t){var n=en();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function of(e,t){var n=en();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lf(e,t,n){return fr&21?(un(n,t)||(n=fd(),Xe.lanes|=n,hr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=n)}function Kp(e,t){var n=Ue;Ue=n!==0&&4>n?n:4,e(!0);var r=Ks.transition;Ks.transition={};try{e(!1),t()}finally{Ue=n,Ks.transition=r}}function uf(){return en().memoizedState}function Zp(e,t,n){var r=Yn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cf(e))df(t,n);else if(n=Vd(e,t,n,r),n!==null){var i=Ct();ln(n,e,r,i),ff(n,t,r)}}function Xp(e,t,n){var r=Yn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cf(e))df(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,un(o,s)){var l=t.interleaved;l===null?(i.next=i,Cl(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Vd(e,t,i,r),n!==null&&(i=Ct(),ln(n,e,r,i),ff(n,t,r))}}function cf(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function df(e,t){Ci=es=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ff(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fl(e,n)}}var ts={readContext:qt,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},Qp={readContext:qt,useCallback:function(e,t){return pn().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:Iu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ta(4194308,4,rf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ta(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ta(4,2,e,t)},useMemo:function(e,t){var n=pn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zp.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=pn();return e={current:e},t.memoizedState=e},useState:Ru,useDebugValue:Dl,useDeferredValue:function(e){return pn().memoizedState=e},useTransition:function(){var e=Ru(!1),t=e[0];return e=Kp.bind(null,e[1]),pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,i=pn();if(Ke){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=t(),ft===null)throw Error(ie(349));fr&30||Zd(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Iu(Qd.bind(null,r,a,e),[e]),r.flags|=2048,Hi(9,Xd.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=pn(),t=ft.identifierPrefix;if(Ke){var n=Sn,r=_n;n=(r&~(1<<32-on(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Yp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jp={readContext:qt,useCallback:sf,useContext:qt,useEffect:Ml,useImperativeHandle:af,useInsertionEffect:tf,useLayoutEffect:nf,useMemo:of,useReducer:Zs,useRef:ef,useState:function(){return Zs(Vi)},useDebugValue:Dl,useDeferredValue:function(e){var t=en();return lf(t,ot.memoizedState,e)},useTransition:function(){var e=Zs(Vi)[0],t=en().memoizedState;return[e,t]},useMutableSource:Yd,useSyncExternalStore:Kd,useId:uf,unstable_isNewReconciler:!1},qp={readContext:qt,useCallback:sf,useContext:qt,useEffect:Ml,useImperativeHandle:af,useInsertionEffect:tf,useLayoutEffect:nf,useMemo:of,useReducer:Xs,useRef:ef,useState:function(){return Xs(Vi)},useDebugValue:Dl,useDeferredValue:function(e){var t=en();return ot===null?t.memoizedState=e:lf(t,ot.memoizedState,e)},useTransition:function(){var e=Xs(Vi)[0],t=en().memoizedState;return[e,t]},useMutableSource:Yd,useSyncExternalStore:Kd,useId:uf,unstable_isNewReconciler:!1};function rn(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Do(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ys={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ct(),i=Yn(e),a=bn(r,i);a.payload=t,n!=null&&(a.callback=n),t=Hn(e,a,i),t!==null&&(ln(t,e,i,r),za(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ct(),i=Yn(e),a=bn(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Hn(e,a,i),t!==null&&(ln(t,e,i,r),za(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ct(),r=Yn(e),i=bn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Hn(e,i,r),t!==null&&(ln(t,e,r,n),za(t,e,r))}};function Ou(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Ii(n,r)||!Ii(i,a):!0}function hf(e,t,n){var r=!1,i=Xn,a=t.contextType;return typeof a=="object"&&a!==null?a=qt(a):(i=Mt(t)?cr:kt.current,r=t.contextTypes,a=(r=r!=null)?Gr(e,i):Xn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ys,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Fu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ys.enqueueReplaceState(t,t.state,null)}function Ro(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},jl(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=qt(a):(a=Mt(t)?cr:kt.current,i.context=Gr(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Do(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ys.enqueueReplaceState(i,i.state,null),Ja(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var n="",r=t;do n+=jh(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Qs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Io(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var e0=typeof WeakMap=="function"?WeakMap:Map;function pf(e,t,n){n=bn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){rs||(rs=!0,Yo=r),Io(e,t)},n}function mf(e,t,n){n=bn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Io(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Io(e,t),typeof r!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function $u(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new e0;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=p0.bind(null,e,t,n),t.then(e,e))}function Uu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bu(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bn(-1,1),t.tag=2,Hn(n,t,1))),n.lanes|=1),e)}var t0=zn.ReactCurrentOwner,At=!1;function Nt(e,t,n,r){t.child=e===null?Wd(t,null,n,r):Kr(t,e.child,n,r)}function Wu(e,t,n,r,i){n=n.render;var a=t.ref;return Br(t,i),r=Al(e,t,n,r,a,i),n=Ll(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,En(e,t,i)):(Ke&&n&&kl(t),t.flags|=1,Nt(e,t,r,i),t.child)}function Vu(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Wl(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,gf(e,t,a,r,i)):(e=Da(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ii,n(s,r)&&e.ref===t.ref)return En(e,t,i)}return t.flags|=1,e=Kn(a,r),e.ref=t.ref,e.return=t,t.child=e}function gf(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Ii(a,r)&&e.ref===t.ref)if(At=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(At=!0);else return t.lanes=e.lanes,En(e,t,i)}return Oo(e,t,n,r,i)}function yf(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Dr,Ot),Ot|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(Dr,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ve(Dr,Ot),Ot|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ve(Dr,Ot),Ot|=r;return Nt(e,t,i,n),t.child}function vf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Oo(e,t,n,r,i){var a=Mt(n)?cr:kt.current;return a=Gr(t,a),Br(t,i),n=Al(e,t,n,r,a,i),r=Ll(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,En(e,t,i)):(Ke&&r&&kl(t),t.flags|=1,Nt(e,t,n,i),t.child)}function Hu(e,t,n,r,i){if(Mt(n)){var a=!0;Ya(t)}else a=!1;if(Br(t,i),t.stateNode===null)Aa(e,t),hf(t,n,r),Ro(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,g=n.contextType;typeof g=="object"&&g!==null?g=qt(g):(g=Mt(n)?cr:kt.current,g=Gr(t,g));var w=n.getDerivedStateFromProps,k=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function";k||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==g)&&Fu(t,s,r,g),Rn=!1;var v=t.memoizedState;s.state=v,Ja(t,r,s,i),l=t.memoizedState,o!==r||v!==l||Lt.current||Rn?(typeof w=="function"&&(Do(t,n,w,r),l=t.memoizedState),(o=Rn||Ou(t,n,o,r,v,l,g))?(k||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=g,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Hd(e,t),o=t.memoizedProps,g=t.type===t.elementType?o:rn(t.type,o),s.props=g,k=t.pendingProps,v=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=qt(l):(l=Mt(n)?cr:kt.current,l=Gr(t,l));var h=n.getDerivedStateFromProps;(w=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==k||v!==l)&&Fu(t,s,r,l),Rn=!1,v=t.memoizedState,s.state=v,Ja(t,r,s,i);var y=t.memoizedState;o!==k||v!==y||Lt.current||Rn?(typeof h=="function"&&(Do(t,n,h,r),y=t.memoizedState),(g=Rn||Ou(t,n,g,r,v,y,l)||!1)?(w||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=l,r=g):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return Fo(e,t,n,r,a,i)}function Fo(e,t,n,r,i,a){vf(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Pu(t,n,!1),En(e,t,a);r=t.stateNode,t0.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Kr(t,e.child,null,a),t.child=Kr(t,null,o,a)):Nt(e,t,o,a),t.memoizedState=r.state,i&&Pu(t,n,!0),t.child}function xf(e){var t=e.stateNode;t.pendingContext?zu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zu(e,t.context,!1),El(e,t.containerInfo)}function Gu(e,t,n,r,i){return Yr(),_l(i),t.flags|=256,Nt(e,t,n,r),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0};function Uo(e){return{baseLanes:e,cachePool:null,transitions:null}}function kf(e,t,n){var r=t.pendingProps,i=Ze.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ve(Ze,i&1),e===null)return Lo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=ks(s,r,0,null),e=ur(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Uo(n),t.memoizedState=$o,e):Rl(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return n0(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Kn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Kn(o,a):(a=ur(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Uo(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=$o,r}return a=e.child,e=a.sibling,r=Kn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rl(e,t){return t=ks({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ga(e,t,n,r){return r!==null&&_l(r),Kr(t,e.child,null,n),e=Rl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function n0(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Qs(Error(ie(422))),ga(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=ks({mode:"visible",children:r.children},i,0,null),a=ur(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Kr(t,e.child,null,s),t.child.memoizedState=Uo(s),t.memoizedState=$o,a);if(!(t.mode&1))return ga(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(ie(419)),r=Qs(a,r,void 0),ga(e,t,s,r)}if(o=(s&e.childLanes)!==0,At||o){if(r=ft,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,jn(e,i),ln(r,e,i,-1))}return Bl(),r=Qs(Error(ie(421))),ga(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=m0.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ft=Vn(i.nextSibling),$t=t,Ke=!0,sn=null,e!==null&&(Zt[Xt++]=_n,Zt[Xt++]=Sn,Zt[Xt++]=dr,_n=e.id,Sn=e.overflow,dr=t),t=Rl(t,r.children),t.flags|=4096,t)}function Yu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Mo(e.return,t,n)}function Js(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function wf(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Nt(e,t,r.children,n),r=Ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yu(e,n,t);else if(e.tag===19)Yu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ve(Ze,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&qa(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Js(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qa(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Js(t,!0,n,null,a);break;case"together":Js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Aa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function En(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ie(153));if(t.child!==null){for(e=t.child,n=Kn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function r0(e,t,n){switch(t.tag){case 3:xf(t),Yr();break;case 5:Gd(t);break;case 1:Mt(t.type)&&Ya(t);break;case 4:El(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ve(Xa,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Ze,Ze.current&1),t.flags|=128,null):n&t.child.childLanes?kf(e,t,n):(Ve(Ze,Ze.current&1),e=En(e,t,n),e!==null?e.sibling:null);Ve(Ze,Ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wf(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Ze,Ze.current),r)break;return null;case 22:case 23:return t.lanes=0,yf(e,t,n)}return En(e,t,n)}var _f,Bo,Sf,bf;_f=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bo=function(){};Sf=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,or(yn.current);var a=null;switch(n){case"input":i=uo(e,i),r=uo(e,r),a=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),a=[];break;case"textarea":i=ho(e,i),r=ho(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ha)}mo(n,r);var s;n=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var o=i[g];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Pi.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in r){var l=r[g];if(o=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&l!==o&&(l!=null||o!=null))if(g==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(g,n)),n=l;else g==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(g,l)):g==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(g,""+l):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Pi.hasOwnProperty(g)?(l!=null&&g==="onScroll"&&Ge("scroll",e),a||o===l||(a=[])):(a=a||[]).push(g,l))}n&&(a=a||[]).push("style",n);var g=a;(t.updateQueue=g)&&(t.flags|=4)}};bf=function(e,t,n,r){n!==r&&(t.flags|=4)};function hi(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function i0(e,t,n){var r=t.pendingProps;switch(wl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return Mt(t.type)&&Ga(),vt(t),null;case 3:return r=t.stateNode,Zr(),Ye(Lt),Ye(kt),Pl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sn!==null&&(Xo(sn),sn=null))),Bo(e,t),vt(t),null;case 5:zl(t);var i=or(Bi.current);if(n=t.type,e!==null&&t.stateNode!=null)Sf(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ie(166));return vt(t),null}if(e=or(yn.current),pa(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[mn]=t,r[$i]=a,e=(t.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<vi.length;i++)Ge(vi[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":nu(r,a),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ge("invalid",r);break;case"textarea":iu(r,a),Ge("invalid",r)}mo(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&ha(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&ha(r.textContent,o,e),i=["children",""+o]):Pi.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Ge("scroll",r)}switch(n){case"input":aa(r),ru(r,a,!0);break;case"textarea":aa(r),au(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ha)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[mn]=t,e[$i]=r,_f(e,t,!1,!1),t.stateNode=e;e:{switch(s=go(n,r),n){case"dialog":Ge("cancel",e),Ge("close",e),i=r;break;case"iframe":case"object":case"embed":Ge("load",e),i=r;break;case"video":case"audio":for(i=0;i<vi.length;i++)Ge(vi[i],e);i=r;break;case"source":Ge("error",e),i=r;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),i=r;break;case"details":Ge("toggle",e),i=r;break;case"input":nu(e,r),i=uo(e,r),Ge("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),Ge("invalid",e);break;case"textarea":iu(e,r),i=ho(e,r),Ge("invalid",e);break;default:i=r}mo(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?ed(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Jc(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ti(e,l):typeof l=="number"&&Ti(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Pi.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ge("scroll",e):l!=null&&sl(e,a,l,s))}switch(n){case"input":aa(e),ru(e,r,!1);break;case"textarea":aa(e),au(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Or(e,!!r.multiple,a,!1):r.defaultValue!=null&&Or(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ha)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vt(t),null;case 6:if(e&&t.stateNode!=null)bf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ie(166));if(n=or(Bi.current),or(yn.current),pa(t)){if(r=t.stateNode,n=t.memoizedProps,r[mn]=t,(a=r.nodeValue!==n)&&(e=$t,e!==null))switch(e.tag){case 3:ha(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ha(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mn]=t,t.stateNode=r}return vt(t),null;case 13:if(Ye(Ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&Ft!==null&&t.mode&1&&!(t.flags&128))Ud(),Yr(),t.flags|=98560,a=!1;else if(a=pa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ie(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ie(317));a[mn]=t}else Yr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vt(t),a=!1}else sn!==null&&(Xo(sn),sn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?lt===0&&(lt=3):Bl())),t.updateQueue!==null&&(t.flags|=4),vt(t),null);case 4:return Zr(),Bo(e,t),e===null&&Oi(t.stateNode.containerInfo),vt(t),null;case 10:return Nl(t.type._context),vt(t),null;case 17:return Mt(t.type)&&Ga(),vt(t),null;case 19:if(Ye(Ze),a=t.memoizedState,a===null)return vt(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)hi(a,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=qa(e),s!==null){for(t.flags|=128,hi(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ve(Ze,Ze.current&1|2),t.child}e=e.sibling}a.tail!==null&&nt()>Qr&&(t.flags|=128,r=!0,hi(a,!1),t.lanes=4194304)}else{if(!r)if(e=qa(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ke)return vt(t),null}else 2*nt()-a.renderingStartTime>Qr&&n!==1073741824&&(t.flags|=128,r=!0,hi(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=nt(),t.sibling=null,n=Ze.current,Ve(Ze,r?n&1|2:n&1),t):(vt(t),null);case 22:case 23:return Ul(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ot&1073741824&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),null;case 24:return null;case 25:return null}throw Error(ie(156,t.tag))}function a0(e,t){switch(wl(t),t.tag){case 1:return Mt(t.type)&&Ga(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zr(),Ye(Lt),Ye(kt),Pl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zl(t),null;case 13:if(Ye(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ie(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ye(Ze),null;case 4:return Zr(),null;case 10:return Nl(t.type._context),null;case 22:case 23:return Ul(),null;case 24:return null;default:return null}}var ya=!1,xt=!1,s0=typeof WeakSet=="function"?WeakSet:Set,me=null;function Mr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(e,t,r)}else n.current=null}function Wo(e,t,n){try{n()}catch(r){tt(e,t,r)}}var Ku=!1;function o0(e,t){if(Co=Ba,e=Ed(),xl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,g=0,w=0,k=e,v=null;t:for(;;){for(var h;k!==n||i!==0&&k.nodeType!==3||(o=s+i),k!==a||r!==0&&k.nodeType!==3||(l=s+r),k.nodeType===3&&(s+=k.nodeValue.length),(h=k.firstChild)!==null;)v=k,k=h;for(;;){if(k===e)break t;if(v===n&&++g===i&&(o=s),v===a&&++w===r&&(l=s),(h=k.nextSibling)!==null)break;k=v,v=k.parentNode}k=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jo={focusedElem:e,selectionRange:n},Ba=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,_=y.memoizedState,c=t.stateNode,f=c.getSnapshotBeforeUpdate(t.elementType===t.type?p:rn(t.type,p),_);c.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(b){tt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return y=Ku,Ku=!1,y}function ji(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Wo(t,n,a)}i=i.next}while(i!==r)}}function vs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Vo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Nf(e){var t=e.alternate;t!==null&&(e.alternate=null,Nf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mn],delete t[$i],delete t[Po],delete t[Wp],delete t[Vp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cf(e){return e.tag===5||e.tag===3||e.tag===4}function Zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ho(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ha));else if(r!==4&&(e=e.child,e!==null))for(Ho(e,t,n),e=e.sibling;e!==null;)Ho(e,t,n),e=e.sibling}function Go(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Go(e,t,n),e=e.sibling;e!==null;)Go(e,t,n),e=e.sibling}var ht=null,an=!1;function Mn(e,t,n){for(n=n.child;n!==null;)jf(e,t,n),n=n.sibling}function jf(e,t,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(cs,n)}catch{}switch(n.tag){case 5:xt||Mr(n,t);case 6:var r=ht,i=an;ht=null,Mn(e,t,n),ht=r,an=i,ht!==null&&(an?(e=ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(an?(e=ht,n=n.stateNode,e.nodeType===8?Hs(e.parentNode,n):e.nodeType===1&&Hs(e,n),Di(e)):Hs(ht,n.stateNode));break;case 4:r=ht,i=an,ht=n.stateNode.containerInfo,an=!0,Mn(e,t,n),ht=r,an=i;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Wo(n,t,s),i=i.next}while(i!==r)}Mn(e,t,n);break;case 1:if(!xt&&(Mr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){tt(n,t,o)}Mn(e,t,n);break;case 21:Mn(e,t,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,Mn(e,t,n),xt=r):Mn(e,t,n);break;default:Mn(e,t,n)}}function Xu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new s0),t.forEach(function(r){var i=g0.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:ht=o.stateNode,an=!1;break e;case 3:ht=o.stateNode.containerInfo,an=!0;break e;case 4:ht=o.stateNode.containerInfo,an=!0;break e}o=o.return}if(ht===null)throw Error(ie(160));jf(a,s,i),ht=null,an=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(g){tt(i,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ef(t,e),t=t.sibling}function Ef(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nn(t,e),hn(e),r&4){try{ji(3,e,e.return),vs(3,e)}catch(p){tt(e,e.return,p)}try{ji(5,e,e.return)}catch(p){tt(e,e.return,p)}}break;case 1:nn(t,e),hn(e),r&512&&n!==null&&Mr(n,n.return);break;case 5:if(nn(t,e),hn(e),r&512&&n!==null&&Mr(n,n.return),e.flags&32){var i=e.stateNode;try{Ti(i,"")}catch(p){tt(e,e.return,p)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Zc(i,a),go(o,s);var g=go(o,a);for(s=0;s<l.length;s+=2){var w=l[s],k=l[s+1];w==="style"?ed(i,k):w==="dangerouslySetInnerHTML"?Jc(i,k):w==="children"?Ti(i,k):sl(i,w,k,g)}switch(o){case"input":co(i,a);break;case"textarea":Xc(i,a);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Or(i,!!a.multiple,h,!1):v!==!!a.multiple&&(a.defaultValue!=null?Or(i,!!a.multiple,a.defaultValue,!0):Or(i,!!a.multiple,a.multiple?[]:"",!1))}i[$i]=a}catch(p){tt(e,e.return,p)}}break;case 6:if(nn(t,e),hn(e),r&4){if(e.stateNode===null)throw Error(ie(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(p){tt(e,e.return,p)}}break;case 3:if(nn(t,e),hn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Di(t.containerInfo)}catch(p){tt(e,e.return,p)}break;case 4:nn(t,e),hn(e);break;case 13:nn(t,e),hn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Fl=nt())),r&4&&Xu(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(xt=(g=xt)||w,nn(t,e),xt=g):nn(t,e),hn(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!w&&e.mode&1)for(me=e,w=e.child;w!==null;){for(k=me=w;me!==null;){switch(v=me,h=v.child,v.tag){case 0:case 11:case 14:case 15:ji(4,v,v.return);break;case 1:Mr(v,v.return);var y=v.stateNode;if(typeof y.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(p){tt(r,n,p)}}break;case 5:Mr(v,v.return);break;case 22:if(v.memoizedState!==null){Ju(k);continue}}h!==null?(h.return=v,me=h):Ju(k)}w=w.sibling}e:for(w=null,k=e;;){if(k.tag===5){if(w===null){w=k;try{i=k.stateNode,g?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=k.stateNode,l=k.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=qc("display",s))}catch(p){tt(e,e.return,p)}}}else if(k.tag===6){if(w===null)try{k.stateNode.nodeValue=g?"":k.memoizedProps}catch(p){tt(e,e.return,p)}}else if((k.tag!==22&&k.tag!==23||k.memoizedState===null||k===e)&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===e)break e;for(;k.sibling===null;){if(k.return===null||k.return===e)break e;w===k&&(w=null),k=k.return}w===k&&(w=null),k.sibling.return=k.return,k=k.sibling}}break;case 19:nn(t,e),hn(e),r&4&&Xu(e);break;case 21:break;default:nn(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cf(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ti(i,""),r.flags&=-33);var a=Zu(e);Go(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=Zu(e);Ho(e,o,s);break;default:throw Error(ie(161))}}catch(l){tt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function l0(e,t,n){me=e,zf(e)}function zf(e,t,n){for(var r=(e.mode&1)!==0;me!==null;){var i=me,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ya;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||xt;o=ya;var g=xt;if(ya=s,(xt=l)&&!g)for(me=i;me!==null;)s=me,l=s.child,s.tag===22&&s.memoizedState!==null?qu(i):l!==null?(l.return=s,me=l):qu(i);for(;a!==null;)me=a,zf(a),a=a.sibling;me=i,ya=o,xt=g}Qu(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,me=a):Qu(e)}}function Qu(e){for(;me!==null;){var t=me;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xt||vs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:rn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Du(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Du(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var w=g.memoizedState;if(w!==null){var k=w.dehydrated;k!==null&&Di(k)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}xt||t.flags&512&&Vo(t)}catch(v){tt(t,t.return,v)}}if(t===e){me=null;break}if(n=t.sibling,n!==null){n.return=t.return,me=n;break}me=t.return}}function Ju(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var n=t.sibling;if(n!==null){n.return=t.return,me=n;break}me=t.return}}function qu(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vs(4,t)}catch(l){tt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){tt(t,i,l)}}var a=t.return;try{Vo(t)}catch(l){tt(t,a,l)}break;case 5:var s=t.return;try{Vo(t)}catch(l){tt(t,s,l)}}}catch(l){tt(t,t.return,l)}if(t===e){me=null;break}var o=t.sibling;if(o!==null){o.return=t.return,me=o;break}me=t.return}}var u0=Math.ceil,ns=zn.ReactCurrentDispatcher,Il=zn.ReactCurrentOwner,Jt=zn.ReactCurrentBatchConfig,Fe=0,ft=null,at=null,pt=0,Ot=0,Dr=Jn(0),lt=0,Gi=null,hr=0,xs=0,Ol=0,Ei=null,Tt=null,Fl=0,Qr=1/0,kn=null,rs=!1,Yo=null,Gn=null,va=!1,$n=null,is=0,zi=0,Ko=null,La=-1,Ma=0;function Ct(){return Fe&6?nt():La!==-1?La:La=nt()}function Yn(e){return e.mode&1?Fe&2&&pt!==0?pt&-pt:Gp.transition!==null?(Ma===0&&(Ma=fd()),Ma):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:xd(e.type)),e):1}function ln(e,t,n,r){if(50<zi)throw zi=0,Ko=null,Error(ie(185));Ki(e,n,r),(!(Fe&2)||e!==ft)&&(e===ft&&(!(Fe&2)&&(xs|=n),lt===4&&On(e,pt)),Dt(e,r),n===1&&Fe===0&&!(t.mode&1)&&(Qr=nt()+500,ms&&qn()))}function Dt(e,t){var n=e.callbackNode;Gh(e,t);var r=Ua(e,e===ft?pt:0);if(r===0)n!==null&&lu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&lu(n),t===1)e.tag===0?Hp(ec.bind(null,e)):Od(ec.bind(null,e)),Up(function(){!(Fe&6)&&qn()}),n=null;else{switch(hd(r)){case 1:n=dl;break;case 4:n=cd;break;case 16:n=$a;break;case 536870912:n=dd;break;default:n=$a}n=If(n,Pf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Pf(e,t){if(La=-1,Ma=0,Fe&6)throw Error(ie(327));var n=e.callbackNode;if(Wr()&&e.callbackNode!==n)return null;var r=Ua(e,e===ft?pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=as(e,r);else{t=r;var i=Fe;Fe|=2;var a=Af();(ft!==e||pt!==t)&&(kn=null,Qr=nt()+500,lr(e,t));do try{f0();break}catch(o){Tf(e,o)}while(!0);bl(),ns.current=a,Fe=i,at!==null?t=0:(ft=null,pt=0,t=lt)}if(t!==0){if(t===2&&(i=wo(e),i!==0&&(r=i,t=Zo(e,i))),t===1)throw n=Gi,lr(e,0),On(e,r),Dt(e,nt()),n;if(t===6)On(e,r);else{if(i=e.current.alternate,!(r&30)&&!c0(i)&&(t=as(e,r),t===2&&(a=wo(e),a!==0&&(r=a,t=Zo(e,a))),t===1))throw n=Gi,lr(e,0),On(e,r),Dt(e,nt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ie(345));case 2:rr(e,Tt,kn);break;case 3:if(On(e,r),(r&130023424)===r&&(t=Fl+500-nt(),10<t)){if(Ua(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ct(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zo(rr.bind(null,e,Tt,kn),t);break}rr(e,Tt,kn);break;case 4:if(On(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-on(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*u0(r/1960))-r,10<r){e.timeoutHandle=zo(rr.bind(null,e,Tt,kn),r);break}rr(e,Tt,kn);break;case 5:rr(e,Tt,kn);break;default:throw Error(ie(329))}}}return Dt(e,nt()),e.callbackNode===n?Pf.bind(null,e):null}function Zo(e,t){var n=Ei;return e.current.memoizedState.isDehydrated&&(lr(e,t).flags|=256),e=as(e,t),e!==2&&(t=Tt,Tt=n,t!==null&&Xo(t)),e}function Xo(e){Tt===null?Tt=e:Tt.push.apply(Tt,e)}function c0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!un(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function On(e,t){for(t&=~Ol,t&=~xs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-on(t),r=1<<n;e[n]=-1,t&=~r}}function ec(e){if(Fe&6)throw Error(ie(327));Wr();var t=Ua(e,0);if(!(t&1))return Dt(e,nt()),null;var n=as(e,t);if(e.tag!==0&&n===2){var r=wo(e);r!==0&&(t=r,n=Zo(e,r))}if(n===1)throw n=Gi,lr(e,0),On(e,t),Dt(e,nt()),n;if(n===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rr(e,Tt,kn),Dt(e,nt()),null}function $l(e,t){var n=Fe;Fe|=1;try{return e(t)}finally{Fe=n,Fe===0&&(Qr=nt()+500,ms&&qn())}}function pr(e){$n!==null&&$n.tag===0&&!(Fe&6)&&Wr();var t=Fe;Fe|=1;var n=Jt.transition,r=Ue;try{if(Jt.transition=null,Ue=1,e)return e()}finally{Ue=r,Jt.transition=n,Fe=t,!(Fe&6)&&qn()}}function Ul(){Ot=Dr.current,Ye(Dr)}function lr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$p(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(wl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ga();break;case 3:Zr(),Ye(Lt),Ye(kt),Pl();break;case 5:zl(r);break;case 4:Zr();break;case 13:Ye(Ze);break;case 19:Ye(Ze);break;case 10:Nl(r.type._context);break;case 22:case 23:Ul()}n=n.return}if(ft=e,at=e=Kn(e.current,null),pt=Ot=t,lt=0,Gi=null,Ol=xs=hr=0,Tt=Ei=null,sr!==null){for(t=0;t<sr.length;t++)if(n=sr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}sr=null}return e}function Tf(e,t){do{var n=at;try{if(bl(),Pa.current=ts,es){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}es=!1}if(fr=0,dt=ot=Xe=null,Ci=!1,Wi=0,Il.current=null,n===null||n.return===null){lt=1,Gi=t,at=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=pt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var g=l,w=o,k=w.tag;if(!(w.mode&1)&&(k===0||k===11||k===15)){var v=w.alternate;v?(w.updateQueue=v.updateQueue,w.memoizedState=v.memoizedState,w.lanes=v.lanes):(w.updateQueue=null,w.memoizedState=null)}var h=Uu(s);if(h!==null){h.flags&=-257,Bu(h,s,o,a,t),h.mode&1&&$u(a,g,t),t=h,l=g;var y=t.updateQueue;if(y===null){var p=new Set;p.add(l),t.updateQueue=p}else y.add(l);break e}else{if(!(t&1)){$u(a,g,t),Bl();break e}l=Error(ie(426))}}else if(Ke&&o.mode&1){var _=Uu(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Bu(_,s,o,a,t),_l(Xr(l,o));break e}}a=l=Xr(l,o),lt!==4&&(lt=2),Ei===null?Ei=[a]:Ei.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var c=pf(a,l,t);Mu(a,c);break e;case 1:o=l;var f=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Gn===null||!Gn.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=mf(a,o,t);Mu(a,b);break e}}a=a.return}while(a!==null)}Mf(n)}catch(j){t=j,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function Af(){var e=ns.current;return ns.current=ts,e===null?ts:e}function Bl(){(lt===0||lt===3||lt===2)&&(lt=4),ft===null||!(hr&268435455)&&!(xs&268435455)||On(ft,pt)}function as(e,t){var n=Fe;Fe|=2;var r=Af();(ft!==e||pt!==t)&&(kn=null,lr(e,t));do try{d0();break}catch(i){Tf(e,i)}while(!0);if(bl(),Fe=n,ns.current=r,at!==null)throw Error(ie(261));return ft=null,pt=0,lt}function d0(){for(;at!==null;)Lf(at)}function f0(){for(;at!==null&&!Ih();)Lf(at)}function Lf(e){var t=Rf(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?Mf(e):at=t,Il.current=null}function Mf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=a0(n,t),n!==null){n.flags&=32767,at=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,at=null;return}}else if(n=i0(n,t,Ot),n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);lt===0&&(lt=5)}function rr(e,t,n){var r=Ue,i=Jt.transition;try{Jt.transition=null,Ue=1,h0(e,t,n,r)}finally{Jt.transition=i,Ue=r}return null}function h0(e,t,n,r){do Wr();while($n!==null);if(Fe&6)throw Error(ie(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Yh(e,a),e===ft&&(at=ft=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||va||(va=!0,If($a,function(){return Wr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Jt.transition,Jt.transition=null;var s=Ue;Ue=1;var o=Fe;Fe|=4,Il.current=null,o0(e,n),Ef(n,e),Lp(jo),Ba=!!Co,jo=Co=null,e.current=n,l0(n),Oh(),Fe=o,Ue=s,Jt.transition=a}else e.current=n;if(va&&(va=!1,$n=e,is=i),a=e.pendingLanes,a===0&&(Gn=null),Uh(n.stateNode),Dt(e,nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rs)throw rs=!1,e=Yo,Yo=null,e;return is&1&&e.tag!==0&&Wr(),a=e.pendingLanes,a&1?e===Ko?zi++:(zi=0,Ko=e):zi=0,qn(),null}function Wr(){if($n!==null){var e=hd(is),t=Jt.transition,n=Ue;try{if(Jt.transition=null,Ue=16>e?16:e,$n===null)var r=!1;else{if(e=$n,$n=null,is=0,Fe&6)throw Error(ie(331));var i=Fe;for(Fe|=4,me=e.current;me!==null;){var a=me,s=a.child;if(me.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var g=o[l];for(me=g;me!==null;){var w=me;switch(w.tag){case 0:case 11:case 15:ji(8,w,a)}var k=w.child;if(k!==null)k.return=w,me=k;else for(;me!==null;){w=me;var v=w.sibling,h=w.return;if(Nf(w),w===g){me=null;break}if(v!==null){v.return=h,me=v;break}me=h}}}var y=a.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var _=p.sibling;p.sibling=null,p=_}while(p!==null)}}me=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,me=s;else e:for(;me!==null;){if(a=me,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ji(9,a,a.return)}var c=a.sibling;if(c!==null){c.return=a.return,me=c;break e}me=a.return}}var f=e.current;for(me=f;me!==null;){s=me;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,me=x;else e:for(s=f;me!==null;){if(o=me,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:vs(9,o)}}catch(j){tt(o,o.return,j)}if(o===s){me=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,me=b;break e}me=o.return}}if(Fe=i,qn(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(cs,e)}catch{}r=!0}return r}finally{Ue=n,Jt.transition=t}}return!1}function tc(e,t,n){t=Xr(n,t),t=pf(e,t,1),e=Hn(e,t,1),t=Ct(),e!==null&&(Ki(e,1,t),Dt(e,t))}function tt(e,t,n){if(e.tag===3)tc(e,e,n);else for(;t!==null;){if(t.tag===3){tc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gn===null||!Gn.has(r))){e=Xr(n,e),e=mf(t,e,1),t=Hn(t,e,1),e=Ct(),t!==null&&(Ki(t,1,e),Dt(t,e));break}}t=t.return}}function p0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ct(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(pt&n)===n&&(lt===4||lt===3&&(pt&130023424)===pt&&500>nt()-Fl?lr(e,0):Ol|=n),Dt(e,t)}function Df(e,t){t===0&&(e.mode&1?(t=la,la<<=1,!(la&130023424)&&(la=4194304)):t=1);var n=Ct();e=jn(e,t),e!==null&&(Ki(e,t,n),Dt(e,n))}function m0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Df(e,n)}function g0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(t),Df(e,n)}var Rf;Rf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lt.current)At=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return At=!1,r0(e,t,n);At=!!(e.flags&131072)}else At=!1,Ke&&t.flags&1048576&&Fd(t,Za,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Aa(e,t),e=t.pendingProps;var i=Gr(t,kt.current);Br(t,n),i=Al(null,t,r,e,i,n);var a=Ll();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mt(r)?(a=!0,Ya(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jl(t),i.updater=ys,t.stateNode=i,i._reactInternals=t,Ro(t,r,e,n),t=Fo(null,t,r,!0,a,n)):(t.tag=0,Ke&&a&&kl(t),Nt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Aa(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=v0(r),e=rn(r,e),i){case 0:t=Oo(null,t,r,e,n);break e;case 1:t=Hu(null,t,r,e,n);break e;case 11:t=Wu(null,t,r,e,n);break e;case 14:t=Vu(null,t,r,rn(r.type,e),n);break e}throw Error(ie(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rn(r,i),Oo(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rn(r,i),Hu(e,t,r,i,n);case 3:e:{if(xf(t),e===null)throw Error(ie(387));r=t.pendingProps,a=t.memoizedState,i=a.element,Hd(e,t),Ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Xr(Error(ie(423)),t),t=Gu(e,t,r,n,i);break e}else if(r!==i){i=Xr(Error(ie(424)),t),t=Gu(e,t,r,n,i);break e}else for(Ft=Vn(t.stateNode.containerInfo.firstChild),$t=t,Ke=!0,sn=null,n=Wd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yr(),r===i){t=En(e,t,n);break e}Nt(e,t,r,n)}t=t.child}return t;case 5:return Gd(t),e===null&&Lo(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Eo(r,i)?s=null:a!==null&&Eo(r,a)&&(t.flags|=32),vf(e,t),Nt(e,t,s,n),t.child;case 6:return e===null&&Lo(t),null;case 13:return kf(e,t,n);case 4:return El(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Kr(t,null,r,n):Nt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rn(r,i),Wu(e,t,r,i,n);case 7:return Nt(e,t,t.pendingProps,n),t.child;case 8:return Nt(e,t,t.pendingProps.children,n),t.child;case 12:return Nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ve(Xa,r._currentValue),r._currentValue=s,a!==null)if(un(a.value,s)){if(a.children===i.children&&!Lt.current){t=En(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=bn(-1,n&-n),l.tag=2;var g=a.updateQueue;if(g!==null){g=g.shared;var w=g.pending;w===null?l.next=l:(l.next=w.next,w.next=l),g.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Mo(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ie(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Mo(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Nt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Br(t,n),i=qt(i),r=r(i),t.flags|=1,Nt(e,t,r,n),t.child;case 14:return r=t.type,i=rn(r,t.pendingProps),i=rn(r.type,i),Vu(e,t,r,i,n);case 15:return gf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rn(r,i),Aa(e,t),t.tag=1,Mt(r)?(e=!0,Ya(t)):e=!1,Br(t,n),hf(t,r,i),Ro(t,r,i,n),Fo(null,t,r,!0,e,n);case 19:return wf(e,t,n);case 22:return yf(e,t,n)}throw Error(ie(156,t.tag))};function If(e,t){return ud(e,t)}function y0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,n,r){return new y0(e,t,n,r)}function Wl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v0(e){if(typeof e=="function")return Wl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ll)return 11;if(e===ul)return 14}return 2}function Kn(e,t){var n=e.alternate;return n===null?(n=Qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Da(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")Wl(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Nr:return ur(n.children,i,a,t);case ol:s=8,i|=8;break;case ao:return e=Qt(12,n,t,i|2),e.elementType=ao,e.lanes=a,e;case so:return e=Qt(13,n,t,i),e.elementType=so,e.lanes=a,e;case oo:return e=Qt(19,n,t,i),e.elementType=oo,e.lanes=a,e;case Gc:return ks(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vc:s=10;break e;case Hc:s=9;break e;case ll:s=11;break e;case ul:s=14;break e;case Dn:s=16,r=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return t=Qt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function ur(e,t,n,r){return e=Qt(7,e,r,t),e.lanes=n,e}function ks(e,t,n,r){return e=Qt(22,e,r,t),e.elementType=Gc,e.lanes=n,e.stateNode={isHidden:!1},e}function qs(e,t,n){return e=Qt(6,e,null,t),e.lanes=n,e}function eo(e,t,n){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function x0(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ms(0),this.expirationTimes=Ms(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ms(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,r,i,a,s,o,l){return e=new x0(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Qt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jl(a),e}function k0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:br,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Of(e){if(!e)return Xn;e=e._reactInternals;e:{if(gr(e)!==e||e.tag!==1)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ie(171))}if(e.tag===1){var n=e.type;if(Mt(n))return Id(e,n,t)}return t}function Ff(e,t,n,r,i,a,s,o,l){return e=Vl(n,r,!0,e,i,a,s,o,l),e.context=Of(null),n=e.current,r=Ct(),i=Yn(n),a=bn(r,i),a.callback=t??null,Hn(n,a,i),e.current.lanes=i,Ki(e,i,r),Dt(e,r),e}function ws(e,t,n,r){var i=t.current,a=Ct(),s=Yn(i);return n=Of(n),t.context===null?t.context=n:t.pendingContext=n,t=bn(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hn(i,t,s),e!==null&&(ln(e,i,s,a),za(e,i,s)),s}function ss(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hl(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function w0(){return null}var $f=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gl(e){this._internalRoot=e}_s.prototype.render=Gl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ie(409));ws(e,t,null,null)};_s.prototype.unmount=Gl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pr(function(){ws(null,e,null,null)}),t[Cn]=null}};function _s(e){this._internalRoot=e}_s.prototype.unstable_scheduleHydration=function(e){if(e){var t=gd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<In.length&&t!==0&&t<In[n].priority;n++);In.splice(n,0,e),n===0&&vd(e)}};function Yl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ss(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rc(){}function _0(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var g=ss(s);a.call(g)}}var s=Ff(t,r,e,0,null,!1,!1,"",rc);return e._reactRootContainer=s,e[Cn]=s.current,Oi(e.nodeType===8?e.parentNode:e),pr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var g=ss(l);o.call(g)}}var l=Vl(e,0,!1,null,null,!1,!1,"",rc);return e._reactRootContainer=l,e[Cn]=l.current,Oi(e.nodeType===8?e.parentNode:e),pr(function(){ws(t,l,n,r)}),l}function bs(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=ss(s);o.call(l)}}ws(t,s,e,i)}else s=_0(n,t,e,i,r);return ss(s)}pd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yi(t.pendingLanes);n!==0&&(fl(t,n|1),Dt(t,nt()),!(Fe&6)&&(Qr=nt()+500,qn()))}break;case 13:pr(function(){var r=jn(e,1);if(r!==null){var i=Ct();ln(r,e,1,i)}}),Hl(e,1)}};hl=function(e){if(e.tag===13){var t=jn(e,134217728);if(t!==null){var n=Ct();ln(t,e,134217728,n)}Hl(e,134217728)}};md=function(e){if(e.tag===13){var t=Yn(e),n=jn(e,t);if(n!==null){var r=Ct();ln(n,e,t,r)}Hl(e,t)}};gd=function(){return Ue};yd=function(e,t){var n=Ue;try{return Ue=e,t()}finally{Ue=n}};vo=function(e,t,n){switch(t){case"input":if(co(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ps(r);if(!i)throw Error(ie(90));Kc(r),co(r,i)}}}break;case"textarea":Xc(e,n);break;case"select":t=n.value,t!=null&&Or(e,!!n.multiple,t,!1)}};rd=$l;id=pr;var S0={usingClientEntryPoint:!1,Events:[Xi,zr,ps,td,nd,$l]},pi={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b0={bundleType:pi.bundleType,version:pi.version,rendererPackageName:pi.rendererPackageName,rendererConfig:pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=od(e),e===null?null:e.stateNode},findFiberByHostInstance:pi.findFiberByHostInstance||w0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{cs=xa.inject(b0),gn=xa}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S0;Bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yl(t))throw Error(ie(200));return k0(e,t,null,n)};Bt.createRoot=function(e,t){if(!Yl(e))throw Error(ie(299));var n=!1,r="",i=$f;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Vl(e,1,!1,null,null,n,!1,r,i),e[Cn]=t.current,Oi(e.nodeType===8?e.parentNode:e),new Gl(t)};Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=od(t),e=e===null?null:e.stateNode,e};Bt.flushSync=function(e){return pr(e)};Bt.hydrate=function(e,t,n){if(!Ss(t))throw Error(ie(200));return bs(null,e,t,!0,n)};Bt.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=$f;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Ff(t,null,e,1,n??null,i,!1,a,s),e[Cn]=t.current,Oi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new _s(t)};Bt.render=function(e,t,n){if(!Ss(t))throw Error(ie(200));return bs(null,e,t,!1,n)};Bt.unmountComponentAtNode=function(e){if(!Ss(e))throw Error(ie(40));return e._reactRootContainer?(pr(function(){bs(null,null,e,!1,function(){e._reactRootContainer=null,e[Cn]=null})}),!0):!1};Bt.unstable_batchedUpdates=$l;Bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ss(n))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return bs(e,t,n,!1,r)};Bt.version="18.3.1-next-f1338f8080-20240426";function Uf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uf)}catch(e){console.error(e)}}Uf(),$c.exports=Bt;var N0=$c.exports,ic=N0;ro.createRoot=ic.createRoot,ro.hydrateRoot=ic.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),be=(e,t)=>{const n=W.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...g},w)=>W.createElement("svg",{ref:w,...C0,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${j0(e)}`,o].join(" "),...g},[...t.map(([k,v])=>W.createElement(k,v)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=be("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=be("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=be("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=be("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=be("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=be("FolderArchive",[["circle",{cx:"15",cy:"19",r:"2",key:"u2pros"}],["path",{d:"M20.9 19.8A2 2 0 0 0 22 18V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h5.1",key:"1jj40k"}],["path",{d:"M15 11v-1",key:"cntcp"}],["path",{d:"M15 17v-2",key:"1279jj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=be("Fullscreen",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["rect",{width:"10",height:"8",x:"7",y:"8",rx:"1",key:"vys8me"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=be("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=be("GitCommitVertical",[["path",{d:"M12 3v6",key:"1holv5"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 15v6",key:"a9ows0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=be("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=be("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=be("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=be("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=be("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=be("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=be("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=be("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=be("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=be("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=be("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=be("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=be("ScanEye",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M5 12s2.5-5 7-5 7 5 7 5-2.5 5-7 5-7-5-7-5",key:"nhuolu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=be("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=be("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=be("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=be("TrainFront",[["path",{d:"M8 3.1V7a4 4 0 0 0 8 0V3.1",key:"1v71zp"}],["path",{d:"m9 15-1-1",key:"1yrq24"}],["path",{d:"m15 15 1-1",key:"1t0d6s"}],["path",{d:"M9 19c-2.8 0-5-2.2-5-5v-4a8 8 0 0 1 16 0v4c0 2.8-2.2 5-5 5Z",key:"1p0hjs"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m16 19 2 3",key:"xo31yx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=be("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=be("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=be("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=be("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=be("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Y0=({spacing:e,viewBox:t,zoom:n=1,currentTool:r="select",hoverPoint:i=null,gridStyle:a="dots"})=>{const s=Math.floor(t.x/e)*e,o=Math.ceil((t.x+t.width)/e)*e,l=Math.floor(t.y/e)*e,g=Math.ceil((t.y+t.height)/e)*e,w=Math.min(3.5,2*n),k=r==="station"||r==="createLine"||r==="drawPath",v=()=>{if(a==="none")return null;if(a==="dots"){const h=[];for(let y=s;y<=o;y+=e)for(let p=l;p<=g;p+=e)h.push({x:y,y:p,key:`${y}-${p}`});return h.map(y=>{const p=k&&i&&Math.abs(y.x-i.x)<1&&Math.abs(y.y-i.y)<1;return u.jsx("circle",{cx:y.x,cy:y.y,r:p?w*2:w,className:`grid-dot transition-all ${k?"cursor-pointer":""} ${p?"fill-blue-400 dark:fill-blue-500":k?"fill-gray-300 dark:fill-gray-600 hover:fill-blue-400 dark:hover:fill-blue-500":"fill-gray-300 dark:fill-gray-600"}`},y.key)})}if(a==="horizontal"){const h=[];for(let y=l;y<=g;y+=e)h.push(u.jsx("line",{x1:t.x,y1:y,x2:t.x+t.width,y2:y,className:"stroke-gray-300 dark:stroke-gray-600",strokeWidth:Math.min(1,.5*n)},`h-${y}`));return h}if(a==="vertical"){const h=[];for(let y=s;y<=o;y+=e)h.push(u.jsx("line",{x1:y,y1:t.y,x2:y,y2:t.y+t.height,className:"stroke-gray-300 dark:stroke-gray-600",strokeWidth:Math.min(1,.5*n)},`v-${y}`));return h}if(a==="grid"){const h=[];for(let y=l;y<=g;y+=e)h.push(u.jsx("line",{x1:t.x,y1:y,x2:t.x+t.width,y2:y,className:"stroke-gray-300 dark:stroke-gray-600",strokeWidth:Math.min(1,.5*n)},`h-${y}`));for(let y=s;y<=o;y+=e)h.push(u.jsx("line",{x1:y,y1:t.y,x2:y,y2:t.y+t.height,className:"stroke-gray-300 dark:stroke-gray-600",strokeWidth:Math.min(1,.5*n)},`v-${y}`));return h}if(a==="diagonal"){const h=[],y=t.x-e,p=t.x+t.width+e,_=t.y-e,c=t.y+t.height+e,f=_-p,x=c-y,b=Math.floor(f/e)*e,j=Math.ceil(x/e)*e;for(let I=b;I<=j;I+=e){let F=Math.max(y,_-I),S=F+I,$=Math.min(p,c-I),m=$+I;S<_&&(S=_,F=S-I),S>c&&(S=c,F=S-I),m<_&&(m=_,$=m-I),m>c&&(m=c,$=m-I),F<=p&&$>=y&&S<=c&&m>=_&&h.push(u.jsx("line",{x1:F,y1:S,x2:$,y2:m,className:"stroke-gray-300 dark:stroke-gray-600",strokeWidth:Math.min(1,.5*n)},`d1-${I}`))}const E=_+y,P=c+p,L=Math.floor(E/e)*e,T=Math.ceil(P/e)*e;for(let I=L;I<=T;I+=e){let F=Math.max(y,I-c),S=I-F,$=Math.min(p,I-_),m=I-$;S<_&&(S=_,F=I-S),S>c&&(S=c,F=I-S),m<_&&(m=_,$=I-m),m>c&&(m=c,$=I-m),F<=p&&$>=y&&S<=c&&m>=_&&h.push(u.jsx("line",{x1:F,y1:S,x2:$,y2:m,className:"stroke-gray-300 dark:stroke-gray-600",strokeWidth:Math.min(1,.5*n)},`d2-${I}`))}return h}return null};return u.jsxs("g",{children:[u.jsx("rect",{x:t.x,y:t.y,width:t.width,height:t.height,className:"pointer-events-none",style:{fill:"var(--canvas-bg)"}}),v(),k&&i&&u.jsx("circle",{cx:i.x,cy:i.y,r:w*3,className:"fill-blue-400 dark:fill-blue-500 pointer-events-none",opacity:"0.3"})]})},bc=({station:e,isSelected:t,isDragging:n,isHighlighted:r=!1,isPlaying:i=!1,onClick:a,onMouseDown:s,onTouchStart:o,allStations:l=[]})=>{const v=e.name.length*8.4+10*2,h=24,y=(L,T="top")=>{const I=L.name.length*8.4+20,F=h,S={top:{x:L.x-I/2,y:L.y-18-F},bottom:{x:L.x-I/2,y:L.y+18},left:{x:L.x-I-15,y:L.y-F/2},right:{x:L.x+15,y:L.y-F/2}},$=S[T]||S.top;return{x:$.x,y:$.y,width:I,height:F}},p=(L,T,I,F,S)=>l.some(m=>m.id===e.id?!1:["top","bottom","left","right"].some(oe=>{const U=y(m,oe);return!(L+I+5<U.x||L-5>U.x+U.width||T+F+5<U.y||T-5>U.y+U.height)})),_=[{x:e.x-v/2,y:e.y-18-h,name:"top"},{x:e.x-v/2,y:e.y+18,name:"bottom"},{x:e.x-v-15,y:e.y-h/2,name:"left"},{x:e.x+15,y:e.y-h/2,name:"right"}],c=l.findIndex(L=>L.id===e.id);if(l.filter(L=>Math.abs(L.y-e.y)<10&&L.x!==e.x).length>0){const L=c%2===1;_[0]=L?_[1]:_[0],_.splice(1,1)}let x=_[0];for(const L of _)if(!p(L.x,L.y,v,h,L.name)){x=L;break}const b=x.x,j=x.y,E=b+v/2,P=j+h/2;return u.jsxs("g",{onClick:a,onMouseDown:s,onTouchStart:o,className:n?"cursor-grabbing":"cursor-pointer",children:[r&&u.jsx("circle",{cx:e.x,cy:e.y,r:"16",fill:"none",stroke:"rgba(156, 163, 175, 0.6)",strokeWidth:"3",opacity:"0.8",className:i?"animate-[pulse_1s_ease-in-out_infinite] dark:stroke-white/40":"dark:stroke-white/40"}),u.jsx("circle",{cx:e.x,cy:e.y,r:n?"10":"8",fill:t?"#fbbf24":e.color,stroke:r?"rgba(156, 163, 175, 0.8)":"white",strokeWidth:r?"3":"2",className:"transition-all hover:r-10 dark:[stroke:rgba(255,255,255,0.5)]"}),u.jsx("circle",{cx:e.x,cy:e.y,r:"3",fill:"white"}),u.jsx("rect",{x:b,y:j,width:v,height:h,rx:h/2,className:"fill-white dark:fill-gray-700 pointer-events-none",stroke:e.color,strokeWidth:"1.5"}),u.jsx("text",{x:E,y:P,textAnchor:"middle",dominantBaseline:"middle",className:"font-semibold fill-gray-800 dark:fill-gray-200 pointer-events-none select-none",style:{fontSize:"14px"},children:e.name})]})};function _r(e){return function(){return e}}const Jo=Math.PI,qo=2*Jo,ir=1e-6,K0=qo-ir;function Vf(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Z0(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Vf;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class X0{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Vf:Z0(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,g=i-n,w=s-t,k=o-n,v=w*w+k*k;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>ir)if(!(Math.abs(k*l-g*w)>ir)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,y=i-o,p=l*l+g*g,_=h*h+y*y,c=Math.sqrt(p),f=Math.sqrt(v),x=a*Math.tan((Jo-Math.acos((p+v-_)/(2*c*f)))/2),b=x/f,j=x/c;Math.abs(b-1)>ir&&this._append`L${t+b*w},${n+b*k}`,this._append`A${a},${a},0,0,${+(k*h>w*y)},${this._x1=t+j*l},${this._y1=n+j*g}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),g=t+o,w=n+l,k=1^s,v=s?i-a:a-i;this._x1===null?this._append`M${g},${w}`:(Math.abs(this._x1-g)>ir||Math.abs(this._y1-w)>ir)&&this._append`L${g},${w}`,r&&(v<0&&(v=v%qo+qo),v>K0?this._append`A${r},${r},0,1,${k},${t-o},${n-l}A${r},${r},0,1,${k},${this._x1=g},${this._y1=w}`:v>ir&&this._append`A${r},${r},0,${+(v>=Jo)},${k},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Q0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new X0(t)}function J0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Hf(e){this._context=e}Hf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Gf(e){return new Hf(e)}function q0(e){return e[0]}function em(e){return e[1]}function Nc(e,t){var n=_r(!0),r=null,i=Gf,a=null,s=Q0(o);e=typeof e=="function"?e:e===void 0?q0:_r(e),t=typeof t=="function"?t:t===void 0?em:_r(t);function o(l){var g,w=(l=J0(l)).length,k,v=!1,h;for(r==null&&(a=i(h=s())),g=0;g<=w;++g)!(g<w&&n(k=l[g],g,l))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+e(k,g,l),+t(k,g,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:_r(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:_r(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:_r(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function Cc(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Yf(e,t){this._context=e,this._k=(1-t)/6}Yf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Cc(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Cc(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const tm=function e(t){function n(r){return new Yf(r,t)}return n.tension=function(r){return e(+r)},n}(0),to=({line:e,stations:t,lineStyle:n="smooth",onClick:r,isEditing:i=!1,isGhost:a=!1,ghostPoints:s=null,color:o=null})=>{const l=s||e.pathPoints||e.stations.map(v=>t.find(h=>h.id===v)).filter(Boolean);if(l.length<2)return null;const w=(()=>{if(n==="direct")return Nc().x(h=>h.x).y(h=>h.y).curve(Gf)(l);if(n==="minimal"){let v=`M ${l[0].x} ${l[0].y}`;for(let h=1;h<l.length;h++){const y=l[h-1],p=l[h],_=p.x-y.x,c=p.y-y.y,f=h>1?l[h-2]:null,x=h<l.length-1?l[h+1]:null;if(Math.abs(_)>5&&Math.abs(c)>5){const j=_>0?1:-1,E=c>0?1:-1;let P=Math.abs(_)>Math.abs(c);if(f){const T=y.x-f.x,I=y.y-f.y;Math.abs(T)>Math.abs(I)?P=!1:Math.abs(I)>Math.abs(T)&&(P=!0)}if(x){const T=x.x-p.x,I=x.y-p.y;Math.abs(I)>Math.abs(T)*1.5?P=!0:Math.abs(T)>Math.abs(I)*1.5&&(P=!1)}const L=.6;if(P){const T=y.x+_*L;v+=` L ${T-15*j} ${y.y}`,v+=` Q ${T} ${y.y}, ${T} ${y.y+15*E}`,v+=` L ${T} ${p.y-15*E}`,v+=` Q ${T} ${p.y}, ${T+15*j} ${p.y}`,v+=` L ${p.x} ${p.y}`}else{const T=y.y+c*L;v+=` L ${y.x} ${T-15*E}`,v+=` Q ${y.x} ${T}, ${y.x+15*j} ${T}`,v+=` L ${p.x-15*j} ${T}`,v+=` Q ${p.x} ${T}, ${p.x} ${T+15*E}`,v+=` L ${p.x} ${p.y}`}}else v+=` L ${p.x} ${p.y}`}return v}else return Nc().x(h=>h.x).y(h=>h.y).curve(tm.tension(-1))(l)})(),k=o||(e==null?void 0:e.color)||"#ef4444";return u.jsxs("g",{onClick:r,style:{cursor:r?"pointer":"default"},children:[!a&&u.jsx("path",{d:w,fill:"none",stroke:"transparent",strokeWidth:"20",strokeLinecap:"round",strokeLinejoin:"round",style:{pointerEvents:r?"stroke":"none"}}),u.jsx("path",{d:w,fill:"none",stroke:k,strokeWidth:a?"3":i?"6":"4",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:a?"5,5":"none",opacity:a?"0.5":i?"1":"0.8",style:{pointerEvents:"none"}})]})},Ir={en:{appTitle:"Train Line",selectTool:"Select",addStationTool:"Add Station",createTrainLineTool:"Create Train Line",drawPathTool:"Draw Path",resetToDefault:"Reset to Default",switchToLightMode:"Switch to Light Mode",switchToDarkMode:"Switch to Dark Mode",apiKeySet:"API Key Set",setApiKey:"Set API Key",zoom:"Zoom",lineStyle:"Line Style",lineStyleDirect:"Direct Path",lineStyleMinimal:"Path with Corners",lineStyleSmooth:"Smooth Path",gridStyle:"Grid Style",gridStyleNone:"None",gridStyleDots:"Dots",gridStyleHorizontal:"Horizontal Lines",gridStyleVertical:"Vertical Lines",gridStyleGrid:"Grid Lines",gridStyleDiagonal:"Diagonal Lines",canvasStyle:"Canvas Style",undo:"Undo",redo:"Redo",showStationNumbers:"Show Numbers",hideStationNumbers:"Hide Numbers",clickGridToAddStation:"Click on grid to add station",clickToAddStations:"Click grid points to add stations. Right-click to finish.",clickToDrawPath:"Click grid points to draw path. Right-click to finish.",tapToAddStations:'Tap grid points to add stations. Tap "Finish" when done.',tapToDrawPath:'Tap grid points to draw path. Tap "Finish" when done.',finishLine:"Finish Line",populateStations:"Populate Stations",centerView:"Center View",clickPresetToLoad:"Click any preset to load it onto the map",showPresets:"Presets",showAnnouncements:"Announcements",hideMenu:"Hide",editStation:"Edit Station",editLine:"Edit Line",editor:"Editor",name:"Name",color:"Color",delete:"Delete",trainLinePresets:"Train Line Presets",loadPresetHint:"Load a preset to get started",stations:"stations",active:"Active","Simple Demo":"Simple Demo","Yamanote Line":"Yamanote Line","Chuo Line":"Chuo Line","Ginza Line":"Ginza Line","Taiyokei Line":"Taiyōkei Line","Solar Express":"Solar Express",Japan:"Japan","Solar System":"Solar System",Misc:"Misc","A simple 4-station demo route":"Misc","Solar System train line from Mercury to Pluto in Japanese":"Solar System","Solar System train line from Mercury to Pluto in English":"Solar System","Four stations in a simple loop. Good for testing the announcement system.":"Four stations in a simple loop. Good for testing the announcement system.","Tokyo's circular line with 21 stations. Connects major areas around central Tokyo.":"Tokyo's circular line with 21 stations. Connects major areas around central Tokyo.","East-west line through central Tokyo. Orange trains connect Tokyo Station to western suburbs.":"East-west line through central Tokyo. Orange trains connect Tokyo Station to western suburbs.","Tokyo's oldest subway line from 1927. Runs from Shibuya to Asakusa through Ginza and Ueno.":"Tokyo's oldest subway line from 1927. Runs from Shibuya to Asakusa through Ginza and Ueno.","Solar system route with Japanese announcements. Stations from Mercury to Pluto.":"Solar system route with Japanese announcements. Stations from Mercury to Pluto.","Solar system route with English announcements. Stations from Mercury to Pluto.":"Solar system route with English announcements. Stations from Mercury to Pluto.",announcements:"Announcements",generateAnnouncement:"Generate Announcement",setApiKeyToGenerate:"Set API key to generate announcements",addStationsFirst:"Add stations to the map first",noAnnouncementsYet:"No announcements yet",createFirstAnnouncement:"Create stations and generate your first announcement",audioQueue:"Queue",audioControlPanel:"Audio Control Panel",displayAudioCaptions:"Display audio captions",selectLine:"Select a line to manage announcements",noLinesYet:"No train lines created yet",createLineFirst:"Create a train line to add announcements",stationAnnouncement:"Station",betweenStations:"Between Stations",uploadAudio:"Upload",generateAudio:"Generate",selectPreset:"Preset",noAudioAssigned:"No audio assigned",playAudio:"Play",removeAudio:"Remove",audioTypePreset:"Preset",audioTypeUpload:"Uploaded",audioTypeGenerated:"AI Voice",presetArrival:"We are now arriving at {station}. Please prepare to exit.",presetDeparture:"This train is departing from {station}. Next stop: [Next Station Name].",presetTransfer:"Transfer here for other lines. This is {station}.",presetInformation:"Welcome to {station}. Please mind the gap between the train and the platform.",presetLive:"Attention passengers. Live announcement for {station}.",presetWarning:"Attention. Important safety announcement for {station}.",presetCentralStation:"Now arriving at {station}, the central station. Transfer available for all lines.",playAll:"Play All",stopPlayback:"Stop",previousStation:"Previous Station",nextStation:"Next Station",playPause:"Play/Pause",transcription:"Captions",playAllSequence:"Play All",cycleSpeed:"Cycle Speed",toggleVolume:"Toggle Volume",mute:"Mute",unmute:"Unmute",stationOf:"Station {current} of {total}",elevenLabsApiKey:"ElevenLabs API Key",apiKeyDescription:"Enter your ElevenLabs API key. It will be stored in your browser session only and cleared when you close the browser.",apiKeyPlaceholder:"sk_...",saveKey:"Save Key",cancel:"Cancel",close:"Close",getApiKeyFrom:"Get your API key from",station:"Station",stationNamePresets:["Tokyo","Osaka","Kyoto","Nagoya","Kobe","Fukuoka","Sapporo","Yokohama","Sendai","Hiroshima","Kanazawa","Nagano","Shinjuku","Shibuya","Ikebukuro","Shinagawa","Ueno","Akihabara","London","Paris","Berlin","Madrid","Rome","Amsterdam","New York","Los Angeles","Chicago","Boston","Seattle","San Francisco","Seoul","Beijing","Shanghai","Hong Kong","Taipei","Bangkok","Singapore","Sydney","Melbourne","Toronto","Vancouver","Mexico City","São Paulo","Buenos Aires","Moscow","Istanbul","Dubai","Mumbai","Delhi","Central","North","South","East","West","Northeast","Northwest","Southeast","Southwest","Station Front","City Hall","University","Hospital","Airport","Harbor","Park","Stadium","Convention Center","Museum","Platform A","Platform B","Platform C","Junction","Terminal","Express Stop","Local Stop","Transfer","Interchange","Depot","Yard"],lineNamePresets:["Express Line","Local Line","Rapid Line","Limited Express","Main Line","Branch Line","Loop Line","Circle Line","Metro Line","Subway Line","Commuter Line","Regional Line","Red Line","Blue Line","Green Line","Yellow Line","Orange Line","Purple Line","Pink Line","Brown Line","Silver Line","Gold Line","North Line","South Line","East Line","West Line","Downtown Line","Uptown Line","Crosstown Line","Harbor Line","Mountain Line","Coastal Line","River Line","Valley Line"],createLoopLine:"Create Loop Line",selectLoopStation:"Select which station to use",firstStation:"First station",lastStation:"Last station",stationTypes:"Station Types",centralStation:"Central Station",arrival:"Arrival",departure:"Departure",transfer:"Transfer",information:"Information",live:"Live",warning:"Warning",general:"General",misc:"Misc",chime:"Chime",music:"Music",ambience:"Ambience"},ja:{appTitle:"路線図",selectTool:"選択",addStationTool:"駅を追加",createTrainLineTool:"路線を作成",drawPathTool:"パスを描く",resetToDefault:"デフォルトにリセット",switchToLightMode:"ライトモードに切り替え",switchToDarkMode:"ダークモードに切り替え",apiKeySet:"APIキー設定済み",setApiKey:"APIキーを設定",zoom:"ズーム",lineStyle:"路線スタイル",lineStyleDirect:"直線パス",lineStyleMinimal:"コーナー付きパス",lineStyleSmooth:"スムーズパス",gridStyle:"グリッドスタイル",gridStyleNone:"なし",gridStyleDots:"ドット",gridStyleHorizontal:"横線",gridStyleVertical:"縦線",gridStyleGrid:"グリッド線",gridStyleDiagonal:"対角線",canvasStyle:"キャンバススタイル",undo:"元に戻す",redo:"やり直す",showStationNumbers:"番号を表示",hideStationNumbers:"番号を非表示",clickGridToAddStation:"グリッドをクリックして駅を追加",clickToAddStations:"グリッドポイントをクリックして駅を追加。右クリックで完了。",clickToDrawPath:"グリッドポイントをクリックしてパスを描く。右クリックで完了。",tapToAddStations:"グリッドポイントをタップして駅を追加。完了したら「完了」をタップ。",tapToDrawPath:"グリッドポイントをタップしてパスを描く。完了したら「完了」をタップ。",finishLine:"路線を完了",populateStations:"駅を配置",centerView:"ビューを中央に",clickPresetToLoad:"プリセットをクリックしてマップに読み込む",showPresets:"プリセット",showAnnouncements:"アナウンス",hideMenu:"非表示",editStation:"駅を編集",editLine:"路線を編集",editor:"エディター",name:"名前",color:"色",delete:"削除",trainLinePresets:"路線プリセット",loadPresetHint:"プリセットを読み込んで開始",stations:"駅",active:"アクティブ","Simple Demo":"シンプルデモ","Yamanote Line":"山手線","Chuo Line":"中央線","Ginza Line":"銀座線","Taiyokei Line":"太陽系線","Solar Express":"ソーラーエクスプレス",Japan:"日本","Solar System":"太陽系",Misc:"その他","A simple 4-station demo route":"その他","Solar System train line from Mercury to Pluto in Japanese":"太陽系","Solar System train line from Mercury to Pluto in English":"太陽系","Four stations in a simple loop. Good for testing the announcement system.":"シンプルなループ状の4駅。アナウンスシステムのテスト用。","Tokyo's circular line with 21 stations. Connects major areas around central Tokyo.":"東京の環状線。21駅で中心部の主要エリアを結ぶ。","East-west line through central Tokyo. Orange trains connect Tokyo Station to western suburbs.":"東京中心部を東西に走る路線。オレンジ色の車両で東京駅から西部郊外へ。","Tokyo's oldest subway line from 1927. Runs from Shibuya to Asakusa through Ginza and Ueno.":"1927年開業の東京最古の地下鉄。渋谷から浅草まで銀座・上野経由。","Solar system route with Japanese announcements. Stations from Mercury to Pluto.":"太陽系ルート（日本語アナウンス）。水星から冥王星まで。","Solar system route with English announcements. Stations from Mercury to Pluto.":"太陽系ルート（英語アナウンス）。水星から冥王星まで。",announcements:"アナウンス",generateAnnouncement:"アナウンスを生成",setApiKeyToGenerate:"APIキーを設定してアナウンスを生成",addStationsFirst:"最初に駅をマップに追加",noAnnouncementsYet:"まだアナウンスがありません",createFirstAnnouncement:"駅を作成して最初のアナウンスを生成",audioQueue:"キュー",audioControlPanel:"オーディオコントロールパネル",displayAudioCaptions:"音声字幕を表示",selectLine:"路線を選択してアナウンスを管理",noLinesYet:"まだ路線が作成されていません",createLineFirst:"路線を作成してアナウンスを追加",stationAnnouncement:"駅",betweenStations:"駅間",uploadAudio:"アップロード",generateAudio:"生成",selectPreset:"プリセット",noAudioAssigned:"オーディオ未割り当て",playAudio:"再生",removeAudio:"削除",audioTypePreset:"プリセット",audioTypeUpload:"アップロード済み",audioTypeGenerated:"AI音声",presetArrival:"まもなく、{station}、{station}です。出口は右側です。",presetDeparture:"{station}を発車いたします。次は、[次の駅名]です。",presetTransfer:"お乗り換えの方は、{station}です。",presetInformation:"{station}にご到着です。足元にご注意ください。",presetLive:"お客様にお知らせいたします。{station}からのご案内です。",presetWarning:"ご注意ください。{station}からの重要なお知らせです。",presetCentralStation:"まもなく、{station}、{station}です。各線にお乗り換えいただけます。",playAll:"すべて再生",stopPlayback:"停止",previousStation:"前の駅",nextStation:"次の駅",playPause:"再生/一時停止",transcription:"車内放送原稿",playAllSequence:"すべて再生",cycleSpeed:"速度切替",toggleVolume:"音量切替",mute:"ミュート",unmute:"ミュート解除",stationOf:"駅 {current} / {total}",elevenLabsApiKey:"ElevenLabs APIキー",apiKeyDescription:"ElevenLabs APIキーを入力してください。ブラウザセッションにのみ保存され、ブラウザを閉じるとクリアされます。",apiKeyPlaceholder:"sk_...",saveKey:"キーを保存",cancel:"キャンセル",close:"閉じる",getApiKeyFrom:"APIキーを取得：",station:"駅",stationNamePresets:["東京","大阪","京都","名古屋","神戸","福岡","札幌","横浜","仙台","広島","金沢","長野","新宿","渋谷","池袋","品川","上野","秋葉原","ロンドン","パリ","ベルリン","マドリード","ローマ","アムステルダム","ニューヨーク","ロサンゼルス","シカゴ","ボストン","シアトル","サンフランシスコ","ソウル","北京","上海","香港","台北","バンコク","シンガポール","シドニー","メルボルン","トロント","バンクーバー","メキシコシティ","サンパウロ","ブエノスアイレス","モスクワ","イスタンブール","ドバイ","ムンバイ","デリー","中央","北","南","東","西","北東","北西","南東","南西","駅前","本町","市役所","大学","病院","空港","港","公園","スタジアム","国際展示場","博物館","一番線","二番線","三番線","ジャンクション","ターミナル","急行停車駅","各駅停車","乗換","インターチェンジ","車庫","操車場"],lineNamePresets:["急行線","各駅停車線","快速線","特急線","本線","支線","環状線","ループ線","地下鉄線","メトロ線","通勤線","地方線","赤線","青線","緑線","黄線","オレンジ線","紫線","ピンク線","茶線","銀線","金線","北線","南線","東線","西線","都心線","郊外線","横断線","港線","山岳線","海岸線","川沿い線","渓谷線"],createLoopLine:"ループ路線を作成",selectLoopStation:"使用する駅を選択",firstStation:"最初の駅",lastStation:"最後の駅",stationTypes:"駅種別",centralStation:"主要駅",arrival:"到着",departure:"発車",transfer:"乗換",information:"案内",live:"肉声放送",warning:"警告",general:"一般",misc:"その他",chime:"チャイム",music:"音楽",ambience:"環境音"}},jc=[{code:"en",name:"English",flag:"🇬🇧"},{code:"ja",name:"日本語",flag:"🇯🇵"}],ti=e=>({t:n=>{var r;return((r=Ir[e])==null?void 0:r[n])||Ir.en[n]||n}}),nm=({station:e,line:t,lines:n=[],stations:r=[],onUpdateStation:i,onUpdateLine:a,onDeleteStation:s,onDeleteLine:o,onClose:l,language:g="en",setStationsAndLines:w})=>{var oe;const{t:k}=ti(g),[v,h]=W.useState(!1),[y,p]=W.useState(!1),[_,c]=W.useState(!1),[f,x]=W.useState(!1),b=e?(oe=n.find(U=>{var V;return(V=U.stations)==null?void 0:V.includes(e.id)}))==null?void 0:oe.id:null;b&&n.find(U=>U.id===b);const j=(t==null?void 0:t.id)||b,E=n.find(U=>U.id===j),P=U=>{if(e&&i){const V={...e,name:U.target.value};i(V)}},L=U=>{if(e&&i){const V={...e,color:U};i(V)}},T=U=>{if(E&&a){const V={...E,name:U.target.value};a(V)}},I=U=>{if(E){const V={...E,color:U},O=n.map(J=>J.id===V.id?V:J);if(V.stations&&w){const J=r.map(D=>V.stations.includes(D.id)?{...D,color:U}:D);w(J,O)}else a&&a(V,!0)}},F=(U,V)=>{V?L(U.target.value):I(U.target.value)},S=U=>{var J,D;U?(c(!0),setTimeout(()=>c(!1),200)):(x(!0),setTimeout(()=>x(!1),200));const V=U?((J=Ir[g])==null?void 0:J.stationNamePresets)||Ir.en.stationNamePresets:((D=Ir[g])==null?void 0:D.lineNamePresets)||Ir.en.lineNamePresets,O=V[Math.floor(Math.random()*V.length)];if(U){if(e&&i){const A={...e,name:O};i(A)}}else if(E&&a){const A={...E,name:O};a(A)}},$=U=>{U?(h(!0),setTimeout(()=>h(!1),200)):(p(!0),setTimeout(()=>p(!1),200));const V=Math.floor(Math.random()*360),O=Math.floor(Math.random()*60)+20,J=Math.floor(Math.random()*60)+20,A=((fe,ee,te)=>{ee/=100,te/=100;const Ne=ee*Math.min(te,1-te),Re=Ce=>{const Le=(Ce+fe/30)%12,ge=te-Ne*Math.max(Math.min(Le-3,9-Le,1),-1);return Math.round(255*ge).toString(16).padStart(2,"0")};return`#${Re(0)}${Re(8)}${Re(4)}`})(V,O,J);U?L(A):I(A)},m=(U,V,O,J,D,A,fe)=>{const ee=U===k("editStation");return u.jsxs("div",{className:"p-3 rounded-lg border border-transparent",style:{backgroundColor:"var(--btn-unselected-bg)"},children:[u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 text-sm flex items-center gap-2",children:[U,A&&u.jsx("button",{onClick:()=>A(fe),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",title:k("delete"),children:u.jsx(V0,{size:14})})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1 block",children:k("name")}),u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx("input",{type:"text",value:V,onChange:J,className:"flex-1 px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),u.jsx("button",{onClick:()=>S(ee),className:"flex-shrink-0 w-[34px] h-[34px] flex items-center justify-center rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors shadow-sm",title:"Randomize name",children:u.jsx(xc,{size:16,className:`text-gray-700 dark:text-gray-300 transition-transform ${ee&&_||!ee&&f?"animate-shuffle":""}`})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2 block",children:k("color")}),u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx("label",{className:"relative flex-1 h-[34px] rounded-lg border border-gray-300 dark:border-gray-600 cursor-pointer overflow-hidden shadow-sm hover:shadow-md transition-shadow",style:{backgroundColor:O},children:u.jsx("input",{type:"color",value:O,onChange:te=>F(te,ee),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})}),u.jsx("button",{onClick:()=>$(ee),className:"flex-shrink-0 w-[34px] h-[34px] flex items-center justify-center rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors shadow-sm",title:"Randomize color",children:u.jsx(xc,{size:16,className:`text-gray-700 dark:text-gray-300 transition-transform ${ee&&v||!ee&&y?"animate-shuffle":""}`})})]})]})]})]})},Y=e?r.find(U=>U.id===e.id)||e:null;return u.jsxs("div",{className:"absolute top-4 right-4 bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 w-72 z-10 max-h-[calc(100vh-2rem)] overflow-y-auto",children:[u.jsxs("div",{className:"space-y-3",style:{"--editor-section-bg":"var(--btn-unselected-bg)"},children:[Y&&m(k("editStation"),Y.name,Y.color,P,L,s,Y.id),E&&m(k("editLine"),E.name,E.color,T,I,t?o:null,E.id)]}),u.jsx("button",{onClick:l,className:"w-full px-3 py-2 mt-4 bg-transparent hover:bg-gray-50 dark:hover:bg-gray-700/50 text-gray-600 dark:text-gray-300 rounded-lg transition-colors text-sm border border-gray-300 dark:border-gray-600",children:k("close")})]})},no={english:["Central Station","North Station","South Station","East Station","West Station","Downtown","Midtown","Uptown","Riverside","Hillside","Park View","Garden Plaza","Market Square","City Center","Town Hall","University","Hospital","Airport","Harbor","Bridge","Highland","Lakeside","Woodland","Meadow","Summit","Valley","Bay View","Oceanside","Sunset","Sunrise","Liberty","Victory","Union","Grand","Royal"],japanese:["東京","新宿","渋谷","池袋","上野","品川","横浜","大宮","千葉","川崎","中野","吉祥寺","立川","八王子","町田","新橋","有楽町","秋葉原","神田","浅草","目黒","恵比寿","五反田","大崎","田町","原宿","代々木","高田馬場","新大久保","鶯谷","日暮里","西日暮里","駒込","巣鴨","大塚"],generic:["Station A","Station B","Station C","Station D","Station E","Station F","Station G","Station H","Station I","Station J","Station K","Station L","Station M","Station N","Station O","Station P","Station Q","Station R","Station S","Station T","Station U","Station V","Station W","Station X","Station Y","Station Z"]},_a=(e,t="en",n=null)=>{const r=new Set(e.map(a=>a.name));let i=no.generic;t==="ja"?i=no.japanese:t==="en"&&(i=no.english);for(const a of i)if(!r.has(a))return a;return`Station ${e.length+1}`},rm=()=>"/Train-Announcement-Creator/",Kf=e=>`${rm()}audio/presets/${e}`.replace(/\/\//g,"/"),im=()=>["shinjuku1bansen-jihatu.mp3","shinjuku1bansen-sekkin.mp3","shinjuku1bansen-totyaku.mp3","Taioykei Mercury JP.mp3","Taioykei Dep Mercury JP.mp3","Taioykei Venus JP.mp3","Taioykei Dep Venus JP.mp3","Taioykei Earth JP.mp3","Taioykei Dep Earth JP.mp3","Taioykei Mars JP.mp3","Taioykei Dep Mars JP.mp3","Taioykei Jupiter JP.mp3","Taioykei Dep Jupiter JP.mp3","Taioykei Saturn JP.mp3","Taioykei Dep Saturn JP.mp3","Taioykei Uranus JP.mp3","Taioykei Dep Uranus JP.mp3","Taioykei Neptune JP.mp3","Taioykei Dep Neptune JP.mp3","Taioykei Pluto JP.mp3","Taioykei Mercury EN.mp3","Taioykei Dep Mercury EN.mp3","Taioykei Venus EN.mp3","Taioykei Dep Venus EN.mp3","Taioykei Earth EN.mp3","Taioykei Dep Earth EN.mp3","Taioykei Mars EN.mp3","Taioykei Dep Mars EN.mp3","Taioykei Jupiter EN.mp3","Taioykei Dep Jupiter EN.mp3","Taioykei Saturn EN.mp3","Taioykei Dep Saturn EN.mp3","Taioykei Uranus EN.mp3","Taioykei Dep Uranus EN.mp3","Taioykei Neptune EN.mp3","Taioykei Dep Neptune EN.mp3","Taioykei Pluto EN.mp3"].map((t,n)=>({id:`preset-${n}`,name:t.replace(".mp3",""),path:Kf(t),index:n}));function Sa(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zf={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,a){function s(g,w){if(!i[g]){if(!r[g]){var k=typeof Sa=="function"&&Sa;if(!w&&k)return k(g,!0);if(o)return o(g,!0);var v=new Error("Cannot find module '"+g+"'");throw v.code="MODULE_NOT_FOUND",v}var h=i[g]={exports:{}};r[g][0].call(h.exports,function(y){var p=r[g][1][y];return s(p||y)},h,h.exports,n,r,i,a)}return i[g].exports}for(var o=typeof Sa=="function"&&Sa,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(n,r,i){var a=n("./utils"),s=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var g,w,k,v,h,y,p,_=[],c=0,f=l.length,x=f,b=a.getTypeOf(l)!=="string";c<l.length;)x=f-c,k=b?(g=l[c++],w=c<f?l[c++]:0,c<f?l[c++]:0):(g=l.charCodeAt(c++),w=c<f?l.charCodeAt(c++):0,c<f?l.charCodeAt(c++):0),v=g>>2,h=(3&g)<<4|w>>4,y=1<x?(15&w)<<2|k>>6:64,p=2<x?63&k:64,_.push(o.charAt(v)+o.charAt(h)+o.charAt(y)+o.charAt(p));return _.join("")},i.decode=function(l){var g,w,k,v,h,y,p=0,_=0,c="data:";if(l.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var f,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&x--,l.charAt(l.length-2)===o.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=s.uint8array?new Uint8Array(0|x):new Array(0|x);p<l.length;)g=o.indexOf(l.charAt(p++))<<2|(v=o.indexOf(l.charAt(p++)))>>4,w=(15&v)<<4|(h=o.indexOf(l.charAt(p++)))>>2,k=(3&h)<<6|(y=o.indexOf(l.charAt(p++))),f[_++]=g,h!==64&&(f[_++]=w),y!==64&&(f[_++]=k);return f}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),s=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function g(w,k,v,h,y){this.compressedSize=w,this.uncompressedSize=k,this.crc32=v,this.compression=h,this.compressedContent=y}g.prototype={getContentWorker:function(){var w=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),k=this;return w.on("end",function(){if(this.streamInfo.data_length!==k.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(w,k,v){return w.pipe(new o).pipe(new l("uncompressedSize")).pipe(k.compressWorker(v)).pipe(new l("compressedSize")).withStreamInfo("compression",k)},r.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),s=function(){for(var o,l=[],g=0;g<256;g++){o=g;for(var w=0;w<8;w++)o=1&o?3988292384^o>>>1:o>>>1;l[g]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(g,w,k,v){var h=s,y=v+k;g^=-1;for(var p=v;p<y;p++)g=g>>>8^h[255&(g^w[p])];return-1^g}(0|l,o,o.length,0):function(g,w,k,v){var h=s,y=v+k;g^=-1;for(var p=v;p<y;p++)g=g>>>8^h[255&(g^w.charCodeAt(p))];return-1^g}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),g=a?"uint8array":"array";function w(k,v){l.call(this,"FlateWorker/"+k),this._pako=null,this._pakoAction=k,this._pakoOptions=v,this.meta={}}i.magic="\b\0",o.inherits(w,l),w.prototype.processChunk=function(k){this.meta=k.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(g,k.data),!1)},w.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var k=this;this._pako.onData=function(v){k.push({data:v,meta:k.meta})}},i.compressWorker=function(k){return new w("Deflate",k)},i.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(h,y){var p,_="";for(p=0;p<y;p++)_+=String.fromCharCode(255&h),h>>>=8;return _}function s(h,y,p,_,c,f){var x,b,j=h.file,E=h.compression,P=f!==g.utf8encode,L=o.transformTo("string",f(j.name)),T=o.transformTo("string",g.utf8encode(j.name)),I=j.comment,F=o.transformTo("string",f(I)),S=o.transformTo("string",g.utf8encode(I)),$=T.length!==j.name.length,m=S.length!==I.length,Y="",oe="",U="",V=j.dir,O=j.date,J={crc32:0,compressedSize:0,uncompressedSize:0};y&&!p||(J.crc32=h.crc32,J.compressedSize=h.compressedSize,J.uncompressedSize=h.uncompressedSize);var D=0;y&&(D|=8),P||!$&&!m||(D|=2048);var A=0,fe=0;V&&(A|=16),c==="UNIX"?(fe=798,A|=function(te,Ne){var Re=te;return te||(Re=Ne?16893:33204),(65535&Re)<<16}(j.unixPermissions,V)):(fe=20,A|=function(te){return 63&(te||0)}(j.dosPermissions)),x=O.getUTCHours(),x<<=6,x|=O.getUTCMinutes(),x<<=5,x|=O.getUTCSeconds()/2,b=O.getUTCFullYear()-1980,b<<=4,b|=O.getUTCMonth()+1,b<<=5,b|=O.getUTCDate(),$&&(oe=a(1,1)+a(w(L),4)+T,Y+="up"+a(oe.length,2)+oe),m&&(U=a(1,1)+a(w(F),4)+S,Y+="uc"+a(U.length,2)+U);var ee="";return ee+=`
\0`,ee+=a(D,2),ee+=E.magic,ee+=a(x,2),ee+=a(b,2),ee+=a(J.crc32,4),ee+=a(J.compressedSize,4),ee+=a(J.uncompressedSize,4),ee+=a(L.length,2),ee+=a(Y.length,2),{fileRecord:k.LOCAL_FILE_HEADER+ee+L+Y,dirRecord:k.CENTRAL_FILE_HEADER+a(fe,2)+ee+a(F.length,2)+"\0\0\0\0"+a(A,4)+a(_,4)+L+Y+F}}var o=n("../utils"),l=n("../stream/GenericWorker"),g=n("../utf8"),w=n("../crc32"),k=n("../signature");function v(h,y,p,_){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=p,this.encodeFileName=_,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(v,l),v.prototype.push=function(h){var y=h.meta.percent||0,p=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:p?(y+100*(p-_-1))/p:100}}))},v.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var y=this.streamFiles&&!h.file.dir;if(y){var p=s(h,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(h){this.accumulate=!1;var y=this.streamFiles&&!h.file.dir,p=s(h,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),y)this.push({data:function(_){return k.DATA_DESCRIPTOR+a(_.crc32,4)+a(_.compressedSize,4)+a(_.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var h=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var p=this.bytesWritten-h,_=function(c,f,x,b,j){var E=o.transformTo("string",j(b));return k.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(c,2)+a(c,2)+a(f,4)+a(x,4)+a(E.length,2)+E}(this.dirRecords.length,p,h,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(h){this._sources.push(h);var y=this;return h.on("data",function(p){y.processChunk(p)}),h.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),h.on("error",function(p){y.error(p)}),this},v.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(h){var y=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var p=0;p<y.length;p++)try{y[p].error(h)}catch{}return!0},v.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,y=0;y<h.length;y++)h[y].lock()},r.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(o,l,g){var w=new s(l.streamFiles,g,l.platform,l.encodeFileName),k=0;try{o.forEach(function(v,h){k++;var y=function(f,x){var b=f||x,j=a[b];if(!j)throw new Error(b+" is not a valid compression method !");return j}(h.options.compression,l.compression),p=h.options.compressionOptions||l.compressionOptions||{},_=h.dir,c=h.date;h._compressWorker(y,p).withStreamInfo("file",{name:v,dir:_,date:c,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(w)}),w.entriesCount=k}catch(v){w.error(v)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),s=n("./external"),o=n("./utf8"),l=n("./zipEntries"),g=n("./stream/Crc32Probe"),w=n("./nodejsUtils");function k(v){return new s.Promise(function(h,y){var p=v.decompressed.getContentWorker().pipe(new g);p.on("error",function(_){y(_)}).on("end",function(){p.streamInfo.crc32!==v.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(v,h){var y=this;return h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),w.isNode&&w.isStream(v)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",v,!0,h.optimizedBinaryString,h.base64).then(function(p){var _=new l(h);return _.load(p),_}).then(function(p){var _=[s.Promise.resolve(p)],c=p.files;if(h.checkCRC32)for(var f=0;f<c.length;f++)_.push(k(c[f]));return s.Promise.all(_)}).then(function(p){for(var _=p.shift(),c=_.files,f=0;f<c.length;f++){var x=c[f],b=x.fileNameStr,j=a.resolve(x.fileNameStr);y.file(j,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:h.createFolders}),x.dir||(y.file(j).unsafeOriginalName=b)}return _.zipComment.length&&(y.comment=_.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),s=n("../stream/GenericWorker");function o(l,g){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(g)}a.inherits(o,s),o.prototype._bindStream=function(l){var g=this;(this._stream=l).pause(),l.on("data",function(w){g.push({data:w,meta:{percent:0}})}).on("error",function(w){g.isPaused?this.generatedError=w:g.error(w)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function s(o,l,g){a.call(this,l),this._helper=o;var w=this;o.on("data",function(k,v){w.push(k)||w._helper.pause(),g&&g(v)}).on("error",function(k){w.emit("error",k)}).on("end",function(){w.push(null)})}n("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(j,E,P){var L,T=o.getTypeOf(E),I=o.extend(P||{},w);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(j=c(j)),I.createFolders&&(L=_(j))&&f.call(this,L,!0);var F=T==="string"&&I.binary===!1&&I.base64===!1;P&&P.binary!==void 0||(I.binary=!F),(E instanceof k&&E.uncompressedSize===0||I.dir||!E||E.length===0)&&(I.base64=!1,I.binary=!0,E="",I.compression="STORE",T="string");var S=null;S=E instanceof k||E instanceof l?E:y.isNode&&y.isStream(E)?new p(j,E):o.prepareContent(j,E,I.binary,I.optimizedBinaryString,I.base64);var $=new v(j,S,I);this.files[j]=$}var s=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),g=n("./stream/StreamHelper"),w=n("./defaults"),k=n("./compressedObject"),v=n("./zipObject"),h=n("./generate"),y=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),_=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var E=j.lastIndexOf("/");return 0<E?j.substring(0,E):""},c=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},f=function(j,E){return E=E!==void 0?E:w.createFolders,j=c(j),this.files[j]||a.call(this,j,null,{dir:!0,createFolders:E}),this.files[j]};function x(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var E,P,L;for(E in this.files)L=this.files[E],(P=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&j(P,L)},filter:function(j){var E=[];return this.forEach(function(P,L){j(P,L)&&E.push(L)}),E},file:function(j,E,P){if(arguments.length!==1)return j=this.root+j,a.call(this,j,E,P),this;if(x(j)){var L=j;return this.filter(function(I,F){return!F.dir&&L.test(I)})}var T=this.files[this.root+j];return T&&!T.dir?T:null},folder:function(j){if(!j)return this;if(x(j))return this.filter(function(T,I){return I.dir&&j.test(T)});var E=this.root+j,P=f.call(this,E),L=this.clone();return L.root=P.name,L},remove:function(j){j=this.root+j;var E=this.files[j];if(E||(j.slice(-1)!=="/"&&(j+="/"),E=this.files[j]),E&&!E.dir)delete this.files[j];else for(var P=this.filter(function(T,I){return I.name.slice(0,j.length)===j}),L=0;L<P.length;L++)delete this.files[P[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var E,P={};try{if((P=o.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");o.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var L=P.comment||this.comment||"";E=h.generateWorker(this,P,L)}catch(T){(E=new l("error")).error(T)}return new g(E,P.type||"string",P.mimeType)},generateAsync:function(j,E){return this.generateInternalStream(j).accumulate(E)},generateNodeStream:function(j,E){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(E)}};r.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),g=o.charCodeAt(1),w=o.charCodeAt(2),k=o.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===l&&this.data[v+1]===g&&this.data[v+2]===w&&this.data[v+3]===k)return v-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),g=o.charCodeAt(1),w=o.charCodeAt(2),k=o.charCodeAt(3),v=this.readData(4);return l===v[0]&&g===v[1]&&w===v[2]&&k===v[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,g=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)g=(g<<8)+this.byteAt(l);return this.index+=o,g},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),s=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),g=n("./NodeBufferReader"),w=n("./Uint8ArrayReader");r.exports=function(k){var v=a.getTypeOf(k);return a.checkSupport(v),v!=="string"||s.uint8array?v==="nodebuffer"?new g(k):s.uint8array?new w(a.transformTo("uint8array",k)):new o(a.transformTo("array",k)):new l(k)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),s=n("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),s=n("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(w){g.dataIsReady=!0,g.data=w,g.max=w&&w.length||0,g.type=a.getTypeOf(w),g.isPaused||g._tickAndRepeat()},function(w){g.error(w)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,g);break;case"uint8array":l=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":l=this.data.slice(this.index,g)}return this.index=g,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),s=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),g=n("../support"),w=n("../external"),k=null;if(g.nodestream)try{k=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(y,p){return new w.Promise(function(_,c){var f=[],x=y._internalType,b=y._outputType,j=y._mimeType;y.on("data",function(E,P){f.push(E),p&&p(P)}).on("error",function(E){f=[],c(E)}).on("end",function(){try{var E=function(P,L,T){switch(P){case"blob":return a.newBlob(a.transformTo("arraybuffer",L),T);case"base64":return l.encode(L);default:return a.transformTo(P,L)}}(b,function(P,L){var T,I=0,F=null,S=0;for(T=0;T<L.length;T++)S+=L[T].length;switch(P){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(F=new Uint8Array(S),T=0;T<L.length;T++)F.set(L[T],I),I+=L[T].length;return F;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+P+"'")}}(x,f),j);_(E)}catch(P){c(P)}f=[]}).resume()})}function h(y,p,_){var c=p;switch(p){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=p,this._mimeType=_,a.checkSupport(c),this._worker=y.pipe(new s(c)),y.lock()}catch(f){this._worker=new o("error"),this._worker.error(f)}}h.prototype={accumulate:function(y){return v(this,y)},on:function(y,p){var _=this;return y==="data"?this._worker.on(y,function(c){p.call(_,c.data,c.meta)}):this._worker.on(y,function(){a.delay(p,arguments,_)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new k(this,{objectMode:this._outputType!=="nodebuffer"},y)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),s=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),g=new Array(256),w=0;w<256;w++)g[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;g[254]=g[254]=1;function k(){l.call(this,"utf-8 decode"),this.leftOver=null}function v(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return s.nodebuffer?o.newBufferFrom(h,"utf-8"):function(y){var p,_,c,f,x,b=y.length,j=0;for(f=0;f<b;f++)(64512&(_=y.charCodeAt(f)))==55296&&f+1<b&&(64512&(c=y.charCodeAt(f+1)))==56320&&(_=65536+(_-55296<<10)+(c-56320),f++),j+=_<128?1:_<2048?2:_<65536?3:4;for(p=s.uint8array?new Uint8Array(j):new Array(j),f=x=0;x<j;f++)(64512&(_=y.charCodeAt(f)))==55296&&f+1<b&&(64512&(c=y.charCodeAt(f+1)))==56320&&(_=65536+(_-55296<<10)+(c-56320),f++),_<128?p[x++]=_:(_<2048?p[x++]=192|_>>>6:(_<65536?p[x++]=224|_>>>12:(p[x++]=240|_>>>18,p[x++]=128|_>>>12&63),p[x++]=128|_>>>6&63),p[x++]=128|63&_);return p}(h)},i.utf8decode=function(h){return s.nodebuffer?a.transformTo("nodebuffer",h).toString("utf-8"):function(y){var p,_,c,f,x=y.length,b=new Array(2*x);for(p=_=0;p<x;)if((c=y[p++])<128)b[_++]=c;else if(4<(f=g[c]))b[_++]=65533,p+=f-1;else{for(c&=f===2?31:f===3?15:7;1<f&&p<x;)c=c<<6|63&y[p++],f--;1<f?b[_++]=65533:c<65536?b[_++]=c:(c-=65536,b[_++]=55296|c>>10&1023,b[_++]=56320|1023&c)}return b.length!==_&&(b.subarray?b=b.subarray(0,_):b.length=_),a.applyFromCharCode(b)}(h=a.transformTo(s.uint8array?"uint8array":"array",h))},a.inherits(k,l),k.prototype.processChunk=function(h){var y=a.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var p=y;(y=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),y.set(p,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var _=function(f,x){var b;for((x=x||f.length)>f.length&&(x=f.length),b=x-1;0<=b&&(192&f[b])==128;)b--;return b<0||b===0?x:b+g[f[b]]>x?b:x}(y),c=y;_!==y.length&&(s.uint8array?(c=y.subarray(0,_),this.leftOver=y.subarray(_,y.length)):(c=y.slice(0,_),this.leftOver=y.slice(_,y.length))),this.push({data:i.utf8decode(c),meta:h.meta})},k.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=k,a.inherits(v,l),v.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),s=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function g(p){return p}function w(p,_){for(var c=0;c<p.length;++c)_[c]=255&p.charCodeAt(c);return _}n("setimmediate"),i.newBlob=function(p,_){i.checkSupport("blob");try{return new Blob([p],{type:_})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(p),c.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var k={stringifyByChunk:function(p,_,c){var f=[],x=0,b=p.length;if(b<=c)return String.fromCharCode.apply(null,p);for(;x<b;)_==="array"||_==="nodebuffer"?f.push(String.fromCharCode.apply(null,p.slice(x,Math.min(x+c,b)))):f.push(String.fromCharCode.apply(null,p.subarray(x,Math.min(x+c,b)))),x+=c;return f.join("")},stringifyByChar:function(p){for(var _="",c=0;c<p.length;c++)_+=String.fromCharCode(p[c]);return _},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function v(p){var _=65536,c=i.getTypeOf(p),f=!0;if(c==="uint8array"?f=k.applyCanBeUsed.uint8array:c==="nodebuffer"&&(f=k.applyCanBeUsed.nodebuffer),f)for(;1<_;)try{return k.stringifyByChunk(p,c,_)}catch{_=Math.floor(_/2)}return k.stringifyByChar(p)}function h(p,_){for(var c=0;c<p.length;c++)_[c]=p[c];return _}i.applyFromCharCode=v;var y={};y.string={string:g,array:function(p){return w(p,new Array(p.length))},arraybuffer:function(p){return y.string.uint8array(p).buffer},uint8array:function(p){return w(p,new Uint8Array(p.length))},nodebuffer:function(p){return w(p,o.allocBuffer(p.length))}},y.array={string:v,array:g,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(p)}},y.arraybuffer={string:function(p){return v(new Uint8Array(p))},array:function(p){return h(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:g,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(new Uint8Array(p))}},y.uint8array={string:v,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:g,nodebuffer:function(p){return o.newBufferFrom(p)}},y.nodebuffer={string:v,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return y.nodebuffer.uint8array(p).buffer},uint8array:function(p){return h(p,new Uint8Array(p.length))},nodebuffer:g},i.transformTo=function(p,_){if(_=_||"",!p)return _;i.checkSupport(p);var c=i.getTypeOf(_);return y[c][p](_)},i.resolve=function(p){for(var _=p.split("/"),c=[],f=0;f<_.length;f++){var x=_[f];x==="."||x===""&&f!==0&&f!==_.length-1||(x===".."?c.pop():c.push(x))}return c.join("/")},i.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(p)?"nodebuffer":a.uint8array&&p instanceof Uint8Array?"uint8array":a.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(p){if(!a[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var _,c,f="";for(c=0;c<(p||"").length;c++)f+="\\x"+((_=p.charCodeAt(c))<16?"0":"")+_.toString(16).toUpperCase();return f},i.delay=function(p,_,c){setImmediate(function(){p.apply(c||null,_||[])})},i.inherits=function(p,_){function c(){}c.prototype=_.prototype,p.prototype=new c},i.extend=function(){var p,_,c={};for(p=0;p<arguments.length;p++)for(_ in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],_)&&c[_]===void 0&&(c[_]=arguments[p][_]);return c},i.prepareContent=function(p,_,c,f,x){return l.Promise.resolve(_).then(function(b){return a.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1)&&typeof FileReader<"u"?new l.Promise(function(j,E){var P=new FileReader;P.onload=function(L){j(L.target.result)},P.onerror=function(L){E(L.target.error)},P.readAsArrayBuffer(b)}):b}).then(function(b){var j=i.getTypeOf(b);return j?(j==="arraybuffer"?b=i.transformTo("uint8array",b):j==="string"&&(x?b=s.decode(b):c&&f!==!0&&(b=function(E){return w(E,a.uint8array?new Uint8Array(E.length):new Array(E.length))}(b))),b):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./signature"),l=n("./zipEntry"),g=n("./support");function w(k){this.files=[],this.loadOptions=k}w.prototype={checkSignature:function(k){if(!this.reader.readAndCheckSignature(k)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(v)+", expected "+s.pretty(k)+")")}},isSignature:function(k,v){var h=this.reader.index;this.reader.setIndex(k);var y=this.reader.readString(4)===v;return this.reader.setIndex(h),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var k=this.reader.readData(this.zipCommentLength),v=g.uint8array?"uint8array":"array",h=s.transformTo(v,k);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var k,v,h,y=this.zip64EndOfCentralSize-44;0<y;)k=this.reader.readInt(2),v=this.reader.readInt(4),h=this.reader.readData(v),this.zip64ExtensibleData[k]={id:k,length:v,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var k,v;for(k=0;k<this.files.length;k++)v=this.files[k],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var k;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(k=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(k);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var k=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(k<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(k);var v=k;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(k=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(k),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var y=v-h;if(0<y)this.isSignature(v,o.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(k){this.reader=a(k)},load:function(k){this.prepareReader(k),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),g=n("./utf8"),w=n("./compressions"),k=n("./support");function v(h,y){this.options=h,this.loadOptions=y}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var y,p;if(h.skip(22),this.fileNameLength=h.readInt(2),p=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(_){for(var c in w)if(Object.prototype.hasOwnProperty.call(w,c)&&w[c].magic===_)return w[c];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,y,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var y=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(y),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var y,p,_,c=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<c;)y=h.readInt(2),p=h.readInt(2),_=h.readData(p),this.extraFields[y]={id:y,length:p,value:_};h.setIndex(c)},handleUTF8:function(){var h=k.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var p=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var c=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var y=a(h.value);return y.readInt(1)!==1||l(this.fileName)!==y.readInt(4)?null:g.utf8decode(y.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var y=a(h.value);return y.readInt(1)!==1||l(this.fileComment)!==y.readInt(4)?null:g.utf8decode(y.readData(h.length-5))}return null}},r.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(y,p,_){this.name=y,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=p,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),g=n("./compressedObject"),w=n("./stream/GenericWorker");a.prototype={internalStream:function(y){var p=null,_="string";try{if(!y)throw new Error("No output type specified.");var c=(_=y.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),p=this._decompressWorker();var f=!this._dataBinary;f&&!c&&(p=p.pipe(new l.Utf8EncodeWorker)),!f&&c&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(x){(p=new w("error")).error(x)}return new s(p,_,"")},async:function(y,p){return this.internalStream(y).accumulate(p)},nodeStream:function(y,p){return this.internalStream(y||"nodebuffer").toNodejsStream(p)},_compressWorker:function(y,p){if(this._data instanceof g&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new l.Utf8EncodeWorker)),g.createWorkerFrom(_,y,p)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof w?this._data:new o(this._data)}};for(var k=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<k.length;h++)a.prototype[k[h]]=v;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var g=0,w=new l(y),k=a.document.createTextNode("");w.observe(k,{characterData:!0}),s=function(){k.data=g=++g%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var p=a.document.createElement("script");p.onreadystatechange=function(){y(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},a.document.documentElement.appendChild(p)}:function(){setTimeout(y,0)};else{var v=new a.MessageChannel;v.port1.onmessage=y,s=function(){v.port2.postMessage(0)}}var h=[];function y(){var p,_;o=!0;for(var c=h.length;c;){for(_=h,h=[],p=-1;++p<c;)_[p]();c=h.length}o=!1}r.exports=function(p){h.push(p)!==1||o||s()}}).call(this,typeof na<"u"?na:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function s(){}var o={},l=["REJECTED"],g=["FULFILLED"],w=["PENDING"];function k(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,c!==s&&p(this,c)}function v(c,f,x){this.promise=c,typeof f=="function"&&(this.onFulfilled=f,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function h(c,f,x){a(function(){var b;try{b=f(x)}catch(j){return o.reject(c,j)}b===c?o.reject(c,new TypeError("Cannot resolve promise with itself")):o.resolve(c,b)})}function y(c){var f=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof f=="function")return function(){f.apply(c,arguments)}}function p(c,f){var x=!1;function b(P){x||(x=!0,o.reject(c,P))}function j(P){x||(x=!0,o.resolve(c,P))}var E=_(function(){f(j,b)});E.status==="error"&&b(E.value)}function _(c,f){var x={};try{x.value=c(f),x.status="success"}catch(b){x.status="error",x.value=b}return x}(r.exports=k).prototype.finally=function(c){if(typeof c!="function")return this;var f=this.constructor;return this.then(function(x){return f.resolve(c()).then(function(){return x})},function(x){return f.resolve(c()).then(function(){throw x})})},k.prototype.catch=function(c){return this.then(null,c)},k.prototype.then=function(c,f){if(typeof c!="function"&&this.state===g||typeof f!="function"&&this.state===l)return this;var x=new this.constructor(s);return this.state!==w?h(x,this.state===g?c:f,this.outcome):this.queue.push(new v(x,c,f)),x},v.prototype.callFulfilled=function(c){o.resolve(this.promise,c)},v.prototype.otherCallFulfilled=function(c){h(this.promise,this.onFulfilled,c)},v.prototype.callRejected=function(c){o.reject(this.promise,c)},v.prototype.otherCallRejected=function(c){h(this.promise,this.onRejected,c)},o.resolve=function(c,f){var x=_(y,f);if(x.status==="error")return o.reject(c,x.value);var b=x.value;if(b)p(c,b);else{c.state=g,c.outcome=f;for(var j=-1,E=c.queue.length;++j<E;)c.queue[j].callFulfilled(f)}return c},o.reject=function(c,f){c.state=l,c.outcome=f;for(var x=-1,b=c.queue.length;++x<b;)c.queue[x].callRejected(f);return c},k.resolve=function(c){return c instanceof this?c:o.resolve(new this(s),c)},k.reject=function(c){var f=new this(s);return o.reject(f,c)},k.all=function(c){var f=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=c.length,b=!1;if(!x)return this.resolve([]);for(var j=new Array(x),E=0,P=-1,L=new this(s);++P<x;)T(c[P],P);return L;function T(I,F){f.resolve(I).then(function(S){j[F]=S,++E!==x||b||(b=!0,o.resolve(L,j))},function(S){b||(b=!0,o.reject(L,S))})}},k.race=function(c){var f=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=c.length,b=!1;if(!x)return this.resolve([]);for(var j=-1,E=new this(s);++j<x;)P=c[j],f.resolve(P).then(function(L){b||(b=!0,o.resolve(E,L))},function(L){b||(b=!0,o.reject(E,L))});var P;return E}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),g=n("./zlib/zstream"),w=Object.prototype.toString,k=0,v=-1,h=0,y=8;function p(c){if(!(this instanceof p))return new p(c);this.options=s.assign({level:v,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},c||{});var f=this.options;f.raw&&0<f.windowBits?f.windowBits=-f.windowBits:f.gzip&&0<f.windowBits&&f.windowBits<16&&(f.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var x=a.deflateInit2(this.strm,f.level,f.method,f.windowBits,f.memLevel,f.strategy);if(x!==k)throw new Error(l[x]);if(f.header&&a.deflateSetHeader(this.strm,f.header),f.dictionary){var b;if(b=typeof f.dictionary=="string"?o.string2buf(f.dictionary):w.call(f.dictionary)==="[object ArrayBuffer]"?new Uint8Array(f.dictionary):f.dictionary,(x=a.deflateSetDictionary(this.strm,b))!==k)throw new Error(l[x]);this._dict_set=!0}}function _(c,f){var x=new p(f);if(x.push(c,!0),x.err)throw x.msg||l[x.err];return x.result}p.prototype.push=function(c,f){var x,b,j=this.strm,E=this.options.chunkSize;if(this.ended)return!1;b=f===~~f?f:f===!0?4:0,typeof c=="string"?j.input=o.string2buf(c):w.call(c)==="[object ArrayBuffer]"?j.input=new Uint8Array(c):j.input=c,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new s.Buf8(E),j.next_out=0,j.avail_out=E),(x=a.deflate(j,b))!==1&&x!==k)return this.onEnd(x),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||b!==4&&b!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(j.output,j.next_out))):this.onData(s.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&x!==1);return b===4?(x=a.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===k):b!==2||(this.onEnd(k),!(j.avail_out=0))},p.prototype.onData=function(c){this.chunks.push(c)},p.prototype.onEnd=function(c){c===k&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},i.Deflate=p,i.deflate=_,i.deflateRaw=function(c,f){return(f=f||{}).raw=!0,_(c,f)},i.gzip=function(c,f){return(f=f||{}).gzip=!0,_(c,f)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),g=n("./zlib/messages"),w=n("./zlib/zstream"),k=n("./zlib/gzheader"),v=Object.prototype.toString;function h(p){if(!(this instanceof h))return new h(p);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},p||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||p&&p.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&!(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var c=a.inflateInit2(this.strm,_.windowBits);if(c!==l.Z_OK)throw new Error(g[c]);this.header=new k,a.inflateGetHeader(this.strm,this.header)}function y(p,_){var c=new h(_);if(c.push(p,!0),c.err)throw c.msg||g[c.err];return c.result}h.prototype.push=function(p,_){var c,f,x,b,j,E,P=this.strm,L=this.options.chunkSize,T=this.options.dictionary,I=!1;if(this.ended)return!1;f=_===~~_?_:_===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?P.input=o.binstring2buf(p):v.call(p)==="[object ArrayBuffer]"?P.input=new Uint8Array(p):P.input=p,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new s.Buf8(L),P.next_out=0,P.avail_out=L),(c=a.inflate(P,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&T&&(E=typeof T=="string"?o.string2buf(T):v.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,c=a.inflateSetDictionary(this.strm,E)),c===l.Z_BUF_ERROR&&I===!0&&(c=l.Z_OK,I=!1),c!==l.Z_STREAM_END&&c!==l.Z_OK)return this.onEnd(c),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&c!==l.Z_STREAM_END&&(P.avail_in!==0||f!==l.Z_FINISH&&f!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=o.utf8border(P.output,P.next_out),b=P.next_out-x,j=o.buf2string(P.output,x),P.next_out=b,P.avail_out=L-b,b&&s.arraySet(P.output,P.output,x,b,0),this.onData(j)):this.onData(s.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(I=!0)}while((0<P.avail_in||P.avail_out===0)&&c!==l.Z_STREAM_END);return c===l.Z_STREAM_END&&(f=l.Z_FINISH),f===l.Z_FINISH?(c=a.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===l.Z_OK):f!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(P.avail_out=0))},h.prototype.onData=function(p){this.chunks.push(p)},h.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Inflate=h,i.inflate=y,i.inflateRaw=function(p,_){return(_=_||{}).raw=!0,y(p,_)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var w=g.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var k in w)w.hasOwnProperty(k)&&(l[k]=w[k])}}return l},i.shrinkBuf=function(l,g){return l.length===g?l:l.subarray?l.subarray(0,g):(l.length=g,l)};var s={arraySet:function(l,g,w,k,v){if(g.subarray&&l.subarray)l.set(g.subarray(w,w+k),v);else for(var h=0;h<k;h++)l[v+h]=g[w+h]},flattenChunks:function(l){var g,w,k,v,h,y;for(g=k=0,w=l.length;g<w;g++)k+=l[g].length;for(y=new Uint8Array(k),g=v=0,w=l.length;g<w;g++)h=l[g],y.set(h,v),v+=h.length;return y}},o={arraySet:function(l,g,w,k,v){for(var h=0;h<k;h++)l[v+h]=g[w+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),g=0;g<256;g++)l[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function w(k,v){if(v<65537&&(k.subarray&&o||!k.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(k,v));for(var h="",y=0;y<v;y++)h+=String.fromCharCode(k[y]);return h}l[254]=l[254]=1,i.string2buf=function(k){var v,h,y,p,_,c=k.length,f=0;for(p=0;p<c;p++)(64512&(h=k.charCodeAt(p)))==55296&&p+1<c&&(64512&(y=k.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),p++),f+=h<128?1:h<2048?2:h<65536?3:4;for(v=new a.Buf8(f),p=_=0;_<f;p++)(64512&(h=k.charCodeAt(p)))==55296&&p+1<c&&(64512&(y=k.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),p++),h<128?v[_++]=h:(h<2048?v[_++]=192|h>>>6:(h<65536?v[_++]=224|h>>>12:(v[_++]=240|h>>>18,v[_++]=128|h>>>12&63),v[_++]=128|h>>>6&63),v[_++]=128|63&h);return v},i.buf2binstring=function(k){return w(k,k.length)},i.binstring2buf=function(k){for(var v=new a.Buf8(k.length),h=0,y=v.length;h<y;h++)v[h]=k.charCodeAt(h);return v},i.buf2string=function(k,v){var h,y,p,_,c=v||k.length,f=new Array(2*c);for(h=y=0;h<c;)if((p=k[h++])<128)f[y++]=p;else if(4<(_=l[p]))f[y++]=65533,h+=_-1;else{for(p&=_===2?31:_===3?15:7;1<_&&h<c;)p=p<<6|63&k[h++],_--;1<_?f[y++]=65533:p<65536?f[y++]=p:(p-=65536,f[y++]=55296|p>>10&1023,f[y++]=56320|1023&p)}return w(f,y)},i.utf8border=function(k,v){var h;for((v=v||k.length)>k.length&&(v=k.length),h=v-1;0<=h&&(192&k[h])==128;)h--;return h<0||h===0?v:h+l[k[h]]>v?h:v}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,s,o,l){for(var g=65535&a|0,w=a>>>16&65535|0,k=0;o!==0;){for(o-=k=2e3<o?2e3:o;w=w+(g=g+s[l++]|0)|0,--k;);g%=65521,w%=65521}return g|w<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var g=0;g<8;g++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();r.exports=function(s,o,l,g){var w=a,k=g+l;s^=-1;for(var v=g;v<k;v++)s=s>>>8^w[255&(s^o[v])];return-1^s}},{}],46:[function(n,r,i){var a,s=n("../utils/common"),o=n("./trees"),l=n("./adler32"),g=n("./crc32"),w=n("./messages"),k=0,v=4,h=0,y=-2,p=-1,_=4,c=2,f=8,x=9,b=286,j=30,E=19,P=2*b+1,L=15,T=3,I=258,F=I+T+1,S=42,$=113,m=1,Y=2,oe=3,U=4;function V(d,Z){return d.msg=w[Z],Z}function O(d){return(d<<1)-(4<d?9:0)}function J(d){for(var Z=d.length;0<=--Z;)d[Z]=0}function D(d){var Z=d.state,H=Z.pending;H>d.avail_out&&(H=d.avail_out),H!==0&&(s.arraySet(d.output,Z.pending_buf,Z.pending_out,H,d.next_out),d.next_out+=H,Z.pending_out+=H,d.total_out+=H,d.avail_out-=H,Z.pending-=H,Z.pending===0&&(Z.pending_out=0))}function A(d,Z){o._tr_flush_block(d,0<=d.block_start?d.block_start:-1,d.strstart-d.block_start,Z),d.block_start=d.strstart,D(d.strm)}function fe(d,Z){d.pending_buf[d.pending++]=Z}function ee(d,Z){d.pending_buf[d.pending++]=Z>>>8&255,d.pending_buf[d.pending++]=255&Z}function te(d,Z){var H,C,N=d.max_chain_length,M=d.strstart,X=d.prev_length,Q=d.nice_match,B=d.strstart>d.w_size-F?d.strstart-(d.w_size-F):0,ne=d.window,ue=d.w_mask,ae=d.prev,pe=d.strstart+I,Ie=ne[M+X-1],je=ne[M+X];d.prev_length>=d.good_match&&(N>>=2),Q>d.lookahead&&(Q=d.lookahead);do if(ne[(H=Z)+X]===je&&ne[H+X-1]===Ie&&ne[H]===ne[M]&&ne[++H]===ne[M+1]){M+=2,H++;do;while(ne[++M]===ne[++H]&&ne[++M]===ne[++H]&&ne[++M]===ne[++H]&&ne[++M]===ne[++H]&&ne[++M]===ne[++H]&&ne[++M]===ne[++H]&&ne[++M]===ne[++H]&&ne[++M]===ne[++H]&&M<pe);if(C=I-(pe-M),M=pe-I,X<C){if(d.match_start=Z,Q<=(X=C))break;Ie=ne[M+X-1],je=ne[M+X]}}while((Z=ae[Z&ue])>B&&--N!=0);return X<=d.lookahead?X:d.lookahead}function Ne(d){var Z,H,C,N,M,X,Q,B,ne,ue,ae=d.w_size;do{if(N=d.window_size-d.lookahead-d.strstart,d.strstart>=ae+(ae-F)){for(s.arraySet(d.window,d.window,ae,ae,0),d.match_start-=ae,d.strstart-=ae,d.block_start-=ae,Z=H=d.hash_size;C=d.head[--Z],d.head[Z]=ae<=C?C-ae:0,--H;);for(Z=H=ae;C=d.prev[--Z],d.prev[Z]=ae<=C?C-ae:0,--H;);N+=ae}if(d.strm.avail_in===0)break;if(X=d.strm,Q=d.window,B=d.strstart+d.lookahead,ne=N,ue=void 0,ue=X.avail_in,ne<ue&&(ue=ne),H=ue===0?0:(X.avail_in-=ue,s.arraySet(Q,X.input,X.next_in,ue,B),X.state.wrap===1?X.adler=l(X.adler,Q,ue,B):X.state.wrap===2&&(X.adler=g(X.adler,Q,ue,B)),X.next_in+=ue,X.total_in+=ue,ue),d.lookahead+=H,d.lookahead+d.insert>=T)for(M=d.strstart-d.insert,d.ins_h=d.window[M],d.ins_h=(d.ins_h<<d.hash_shift^d.window[M+1])&d.hash_mask;d.insert&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[M+T-1])&d.hash_mask,d.prev[M&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=M,M++,d.insert--,!(d.lookahead+d.insert<T)););}while(d.lookahead<F&&d.strm.avail_in!==0)}function Re(d,Z){for(var H,C;;){if(d.lookahead<F){if(Ne(d),d.lookahead<F&&Z===k)return m;if(d.lookahead===0)break}if(H=0,d.lookahead>=T&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+T-1])&d.hash_mask,H=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),H!==0&&d.strstart-H<=d.w_size-F&&(d.match_length=te(d,H)),d.match_length>=T)if(C=o._tr_tally(d,d.strstart-d.match_start,d.match_length-T),d.lookahead-=d.match_length,d.match_length<=d.max_lazy_match&&d.lookahead>=T){for(d.match_length--;d.strstart++,d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+T-1])&d.hash_mask,H=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart,--d.match_length!=0;);d.strstart++}else d.strstart+=d.match_length,d.match_length=0,d.ins_h=d.window[d.strstart],d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+1])&d.hash_mask;else C=o._tr_tally(d,0,d.window[d.strstart]),d.lookahead--,d.strstart++;if(C&&(A(d,!1),d.strm.avail_out===0))return m}return d.insert=d.strstart<T-1?d.strstart:T-1,Z===v?(A(d,!0),d.strm.avail_out===0?oe:U):d.last_lit&&(A(d,!1),d.strm.avail_out===0)?m:Y}function Ce(d,Z){for(var H,C,N;;){if(d.lookahead<F){if(Ne(d),d.lookahead<F&&Z===k)return m;if(d.lookahead===0)break}if(H=0,d.lookahead>=T&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+T-1])&d.hash_mask,H=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),d.prev_length=d.match_length,d.prev_match=d.match_start,d.match_length=T-1,H!==0&&d.prev_length<d.max_lazy_match&&d.strstart-H<=d.w_size-F&&(d.match_length=te(d,H),d.match_length<=5&&(d.strategy===1||d.match_length===T&&4096<d.strstart-d.match_start)&&(d.match_length=T-1)),d.prev_length>=T&&d.match_length<=d.prev_length){for(N=d.strstart+d.lookahead-T,C=o._tr_tally(d,d.strstart-1-d.prev_match,d.prev_length-T),d.lookahead-=d.prev_length-1,d.prev_length-=2;++d.strstart<=N&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+T-1])&d.hash_mask,H=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),--d.prev_length!=0;);if(d.match_available=0,d.match_length=T-1,d.strstart++,C&&(A(d,!1),d.strm.avail_out===0))return m}else if(d.match_available){if((C=o._tr_tally(d,0,d.window[d.strstart-1]))&&A(d,!1),d.strstart++,d.lookahead--,d.strm.avail_out===0)return m}else d.match_available=1,d.strstart++,d.lookahead--}return d.match_available&&(C=o._tr_tally(d,0,d.window[d.strstart-1]),d.match_available=0),d.insert=d.strstart<T-1?d.strstart:T-1,Z===v?(A(d,!0),d.strm.avail_out===0?oe:U):d.last_lit&&(A(d,!1),d.strm.avail_out===0)?m:Y}function Le(d,Z,H,C,N){this.good_length=d,this.max_lazy=Z,this.nice_length=H,this.max_chain=C,this.func=N}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=f,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*P),this.dyn_dtree=new s.Buf16(2*(2*j+1)),this.bl_tree=new s.Buf16(2*(2*E+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(L+1),this.heap=new s.Buf16(2*b+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*b+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Me(d){var Z;return d&&d.state?(d.total_in=d.total_out=0,d.data_type=c,(Z=d.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?S:$,d.adler=Z.wrap===2?0:1,Z.last_flush=k,o._tr_init(Z),h):V(d,y)}function Be(d){var Z=Me(d);return Z===h&&function(H){H.window_size=2*H.w_size,J(H.head),H.max_lazy_match=a[H.level].max_lazy,H.good_match=a[H.level].good_length,H.nice_match=a[H.level].nice_length,H.max_chain_length=a[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=T-1,H.match_available=0,H.ins_h=0}(d.state),Z}function He(d,Z,H,C,N,M){if(!d)return y;var X=1;if(Z===p&&(Z=6),C<0?(X=0,C=-C):15<C&&(X=2,C-=16),N<1||x<N||H!==f||C<8||15<C||Z<0||9<Z||M<0||_<M)return V(d,y);C===8&&(C=9);var Q=new ge;return(d.state=Q).strm=d,Q.wrap=X,Q.gzhead=null,Q.w_bits=C,Q.w_size=1<<Q.w_bits,Q.w_mask=Q.w_size-1,Q.hash_bits=N+7,Q.hash_size=1<<Q.hash_bits,Q.hash_mask=Q.hash_size-1,Q.hash_shift=~~((Q.hash_bits+T-1)/T),Q.window=new s.Buf8(2*Q.w_size),Q.head=new s.Buf16(Q.hash_size),Q.prev=new s.Buf16(Q.w_size),Q.lit_bufsize=1<<N+6,Q.pending_buf_size=4*Q.lit_bufsize,Q.pending_buf=new s.Buf8(Q.pending_buf_size),Q.d_buf=1*Q.lit_bufsize,Q.l_buf=3*Q.lit_bufsize,Q.level=Z,Q.strategy=M,Q.method=H,Be(d)}a=[new Le(0,0,0,0,function(d,Z){var H=65535;for(H>d.pending_buf_size-5&&(H=d.pending_buf_size-5);;){if(d.lookahead<=1){if(Ne(d),d.lookahead===0&&Z===k)return m;if(d.lookahead===0)break}d.strstart+=d.lookahead,d.lookahead=0;var C=d.block_start+H;if((d.strstart===0||d.strstart>=C)&&(d.lookahead=d.strstart-C,d.strstart=C,A(d,!1),d.strm.avail_out===0)||d.strstart-d.block_start>=d.w_size-F&&(A(d,!1),d.strm.avail_out===0))return m}return d.insert=0,Z===v?(A(d,!0),d.strm.avail_out===0?oe:U):(d.strstart>d.block_start&&(A(d,!1),d.strm.avail_out),m)}),new Le(4,4,8,4,Re),new Le(4,5,16,8,Re),new Le(4,6,32,32,Re),new Le(4,4,16,16,Ce),new Le(8,16,32,32,Ce),new Le(8,16,128,128,Ce),new Le(8,32,128,256,Ce),new Le(32,128,258,1024,Ce),new Le(32,258,258,4096,Ce)],i.deflateInit=function(d,Z){return He(d,Z,f,15,8,0)},i.deflateInit2=He,i.deflateReset=Be,i.deflateResetKeep=Me,i.deflateSetHeader=function(d,Z){return d&&d.state?d.state.wrap!==2?y:(d.state.gzhead=Z,h):y},i.deflate=function(d,Z){var H,C,N,M;if(!d||!d.state||5<Z||Z<0)return d?V(d,y):y;if(C=d.state,!d.output||!d.input&&d.avail_in!==0||C.status===666&&Z!==v)return V(d,d.avail_out===0?-5:y);if(C.strm=d,H=C.last_flush,C.last_flush=Z,C.status===S)if(C.wrap===2)d.adler=0,fe(C,31),fe(C,139),fe(C,8),C.gzhead?(fe(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),fe(C,255&C.gzhead.time),fe(C,C.gzhead.time>>8&255),fe(C,C.gzhead.time>>16&255),fe(C,C.gzhead.time>>24&255),fe(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),fe(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(fe(C,255&C.gzhead.extra.length),fe(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(d.adler=g(d.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(fe(C,0),fe(C,0),fe(C,0),fe(C,0),fe(C,0),fe(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),fe(C,3),C.status=$);else{var X=f+(C.w_bits-8<<4)<<8;X|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(X|=32),X+=31-X%31,C.status=$,ee(C,X),C.strstart!==0&&(ee(C,d.adler>>>16),ee(C,65535&d.adler)),d.adler=1}if(C.status===69)if(C.gzhead.extra){for(N=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>N&&(d.adler=g(d.adler,C.pending_buf,C.pending-N,N)),D(d),N=C.pending,C.pending!==C.pending_buf_size));)fe(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>N&&(d.adler=g(d.adler,C.pending_buf,C.pending-N,N)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){N=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>N&&(d.adler=g(d.adler,C.pending_buf,C.pending-N,N)),D(d),N=C.pending,C.pending===C.pending_buf_size)){M=1;break}M=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,fe(C,M)}while(M!==0);C.gzhead.hcrc&&C.pending>N&&(d.adler=g(d.adler,C.pending_buf,C.pending-N,N)),M===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){N=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>N&&(d.adler=g(d.adler,C.pending_buf,C.pending-N,N)),D(d),N=C.pending,C.pending===C.pending_buf_size)){M=1;break}M=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,fe(C,M)}while(M!==0);C.gzhead.hcrc&&C.pending>N&&(d.adler=g(d.adler,C.pending_buf,C.pending-N,N)),M===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&D(d),C.pending+2<=C.pending_buf_size&&(fe(C,255&d.adler),fe(C,d.adler>>8&255),d.adler=0,C.status=$)):C.status=$),C.pending!==0){if(D(d),d.avail_out===0)return C.last_flush=-1,h}else if(d.avail_in===0&&O(Z)<=O(H)&&Z!==v)return V(d,-5);if(C.status===666&&d.avail_in!==0)return V(d,-5);if(d.avail_in!==0||C.lookahead!==0||Z!==k&&C.status!==666){var Q=C.strategy===2?function(B,ne){for(var ue;;){if(B.lookahead===0&&(Ne(B),B.lookahead===0)){if(ne===k)return m;break}if(B.match_length=0,ue=o._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,ue&&(A(B,!1),B.strm.avail_out===0))return m}return B.insert=0,ne===v?(A(B,!0),B.strm.avail_out===0?oe:U):B.last_lit&&(A(B,!1),B.strm.avail_out===0)?m:Y}(C,Z):C.strategy===3?function(B,ne){for(var ue,ae,pe,Ie,je=B.window;;){if(B.lookahead<=I){if(Ne(B),B.lookahead<=I&&ne===k)return m;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=T&&0<B.strstart&&(ae=je[pe=B.strstart-1])===je[++pe]&&ae===je[++pe]&&ae===je[++pe]){Ie=B.strstart+I;do;while(ae===je[++pe]&&ae===je[++pe]&&ae===je[++pe]&&ae===je[++pe]&&ae===je[++pe]&&ae===je[++pe]&&ae===je[++pe]&&ae===je[++pe]&&pe<Ie);B.match_length=I-(Ie-pe),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=T?(ue=o._tr_tally(B,1,B.match_length-T),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(ue=o._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),ue&&(A(B,!1),B.strm.avail_out===0))return m}return B.insert=0,ne===v?(A(B,!0),B.strm.avail_out===0?oe:U):B.last_lit&&(A(B,!1),B.strm.avail_out===0)?m:Y}(C,Z):a[C.level].func(C,Z);if(Q!==oe&&Q!==U||(C.status=666),Q===m||Q===oe)return d.avail_out===0&&(C.last_flush=-1),h;if(Q===Y&&(Z===1?o._tr_align(C):Z!==5&&(o._tr_stored_block(C,0,0,!1),Z===3&&(J(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),D(d),d.avail_out===0))return C.last_flush=-1,h}return Z!==v?h:C.wrap<=0?1:(C.wrap===2?(fe(C,255&d.adler),fe(C,d.adler>>8&255),fe(C,d.adler>>16&255),fe(C,d.adler>>24&255),fe(C,255&d.total_in),fe(C,d.total_in>>8&255),fe(C,d.total_in>>16&255),fe(C,d.total_in>>24&255)):(ee(C,d.adler>>>16),ee(C,65535&d.adler)),D(d),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?h:1)},i.deflateEnd=function(d){var Z;return d&&d.state?(Z=d.state.status)!==S&&Z!==69&&Z!==73&&Z!==91&&Z!==103&&Z!==$&&Z!==666?V(d,y):(d.state=null,Z===$?V(d,-3):h):y},i.deflateSetDictionary=function(d,Z){var H,C,N,M,X,Q,B,ne,ue=Z.length;if(!d||!d.state||(M=(H=d.state).wrap)===2||M===1&&H.status!==S||H.lookahead)return y;for(M===1&&(d.adler=l(d.adler,Z,ue,0)),H.wrap=0,ue>=H.w_size&&(M===0&&(J(H.head),H.strstart=0,H.block_start=0,H.insert=0),ne=new s.Buf8(H.w_size),s.arraySet(ne,Z,ue-H.w_size,H.w_size,0),Z=ne,ue=H.w_size),X=d.avail_in,Q=d.next_in,B=d.input,d.avail_in=ue,d.next_in=0,d.input=Z,Ne(H);H.lookahead>=T;){for(C=H.strstart,N=H.lookahead-(T-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[C+T-1])&H.hash_mask,H.prev[C&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=C,C++,--N;);H.strstart=C,H.lookahead=T-1,Ne(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=T-1,H.match_available=0,d.next_in=Q,d.input=B,d.avail_in=X,H.wrap=M,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,s){var o,l,g,w,k,v,h,y,p,_,c,f,x,b,j,E,P,L,T,I,F,S,$,m,Y;o=a.state,l=a.next_in,m=a.input,g=l+(a.avail_in-5),w=a.next_out,Y=a.output,k=w-(s-a.avail_out),v=w+(a.avail_out-257),h=o.dmax,y=o.wsize,p=o.whave,_=o.wnext,c=o.window,f=o.hold,x=o.bits,b=o.lencode,j=o.distcode,E=(1<<o.lenbits)-1,P=(1<<o.distbits)-1;e:do{x<15&&(f+=m[l++]<<x,x+=8,f+=m[l++]<<x,x+=8),L=b[f&E];t:for(;;){if(f>>>=T=L>>>24,x-=T,(T=L>>>16&255)===0)Y[w++]=65535&L;else{if(!(16&T)){if(!(64&T)){L=b[(65535&L)+(f&(1<<T)-1)];continue t}if(32&T){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}I=65535&L,(T&=15)&&(x<T&&(f+=m[l++]<<x,x+=8),I+=f&(1<<T)-1,f>>>=T,x-=T),x<15&&(f+=m[l++]<<x,x+=8,f+=m[l++]<<x,x+=8),L=j[f&P];n:for(;;){if(f>>>=T=L>>>24,x-=T,!(16&(T=L>>>16&255))){if(!(64&T)){L=j[(65535&L)+(f&(1<<T)-1)];continue n}a.msg="invalid distance code",o.mode=30;break e}if(F=65535&L,x<(T&=15)&&(f+=m[l++]<<x,(x+=8)<T&&(f+=m[l++]<<x,x+=8)),h<(F+=f&(1<<T)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(f>>>=T,x-=T,(T=w-k)<F){if(p<(T=F-T)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if($=c,(S=0)===_){if(S+=y-T,T<I){for(I-=T;Y[w++]=c[S++],--T;);S=w-F,$=Y}}else if(_<T){if(S+=y+_-T,(T-=_)<I){for(I-=T;Y[w++]=c[S++],--T;);if(S=0,_<I){for(I-=T=_;Y[w++]=c[S++],--T;);S=w-F,$=Y}}}else if(S+=_-T,T<I){for(I-=T;Y[w++]=c[S++],--T;);S=w-F,$=Y}for(;2<I;)Y[w++]=$[S++],Y[w++]=$[S++],Y[w++]=$[S++],I-=3;I&&(Y[w++]=$[S++],1<I&&(Y[w++]=$[S++]))}else{for(S=w-F;Y[w++]=Y[S++],Y[w++]=Y[S++],Y[w++]=Y[S++],2<(I-=3););I&&(Y[w++]=Y[S++],1<I&&(Y[w++]=Y[S++]))}break}}break}}while(l<g&&w<v);l-=I=x>>3,f&=(1<<(x-=I<<3))-1,a.next_in=l,a.next_out=w,a.avail_in=l<g?g-l+5:5-(l-g),a.avail_out=w<v?v-w+257:257-(w-v),o.hold=f,o.bits=x}},{}],49:[function(n,r,i){var a=n("../utils/common"),s=n("./adler32"),o=n("./crc32"),l=n("./inffast"),g=n("./inftrees"),w=1,k=2,v=0,h=-2,y=1,p=852,_=592;function c(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(S){var $;return S&&S.state?($=S.state,S.total_in=S.total_out=$.total=0,S.msg="",$.wrap&&(S.adler=1&$.wrap),$.mode=y,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new a.Buf32(p),$.distcode=$.distdyn=new a.Buf32(_),$.sane=1,$.back=-1,v):h}function b(S){var $;return S&&S.state?(($=S.state).wsize=0,$.whave=0,$.wnext=0,x(S)):h}function j(S,$){var m,Y;return S&&S.state?(Y=S.state,$<0?(m=0,$=-$):(m=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?h:(Y.window!==null&&Y.wbits!==$&&(Y.window=null),Y.wrap=m,Y.wbits=$,b(S))):h}function E(S,$){var m,Y;return S?(Y=new f,(S.state=Y).window=null,(m=j(S,$))!==v&&(S.state=null),m):h}var P,L,T=!0;function I(S){if(T){var $;for(P=new a.Buf32(512),L=new a.Buf32(32),$=0;$<144;)S.lens[$++]=8;for(;$<256;)S.lens[$++]=9;for(;$<280;)S.lens[$++]=7;for(;$<288;)S.lens[$++]=8;for(g(w,S.lens,0,288,P,0,S.work,{bits:9}),$=0;$<32;)S.lens[$++]=5;g(k,S.lens,0,32,L,0,S.work,{bits:5}),T=!1}S.lencode=P,S.lenbits=9,S.distcode=L,S.distbits=5}function F(S,$,m,Y){var oe,U=S.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new a.Buf8(U.wsize)),Y>=U.wsize?(a.arraySet(U.window,$,m-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(Y<(oe=U.wsize-U.wnext)&&(oe=Y),a.arraySet(U.window,$,m-Y,oe,U.wnext),(Y-=oe)?(a.arraySet(U.window,$,m-Y,Y,0),U.wnext=Y,U.whave=U.wsize):(U.wnext+=oe,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=oe))),0}i.inflateReset=b,i.inflateReset2=j,i.inflateResetKeep=x,i.inflateInit=function(S){return E(S,15)},i.inflateInit2=E,i.inflate=function(S,$){var m,Y,oe,U,V,O,J,D,A,fe,ee,te,Ne,Re,Ce,Le,ge,Me,Be,He,d,Z,H,C,N=0,M=new a.Buf8(4),X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return h;(m=S.state).mode===12&&(m.mode=13),V=S.next_out,oe=S.output,J=S.avail_out,U=S.next_in,Y=S.input,O=S.avail_in,D=m.hold,A=m.bits,fe=O,ee=J,Z=v;e:for(;;)switch(m.mode){case y:if(m.wrap===0){m.mode=13;break}for(;A<16;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}if(2&m.wrap&&D===35615){M[m.check=0]=255&D,M[1]=D>>>8&255,m.check=o(m.check,M,2,0),A=D=0,m.mode=2;break}if(m.flags=0,m.head&&(m.head.done=!1),!(1&m.wrap)||(((255&D)<<8)+(D>>8))%31){S.msg="incorrect header check",m.mode=30;break}if((15&D)!=8){S.msg="unknown compression method",m.mode=30;break}if(A-=4,d=8+(15&(D>>>=4)),m.wbits===0)m.wbits=d;else if(d>m.wbits){S.msg="invalid window size",m.mode=30;break}m.dmax=1<<d,S.adler=m.check=1,m.mode=512&D?10:12,A=D=0;break;case 2:for(;A<16;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}if(m.flags=D,(255&m.flags)!=8){S.msg="unknown compression method",m.mode=30;break}if(57344&m.flags){S.msg="unknown header flags set",m.mode=30;break}m.head&&(m.head.text=D>>8&1),512&m.flags&&(M[0]=255&D,M[1]=D>>>8&255,m.check=o(m.check,M,2,0)),A=D=0,m.mode=3;case 3:for(;A<32;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}m.head&&(m.head.time=D),512&m.flags&&(M[0]=255&D,M[1]=D>>>8&255,M[2]=D>>>16&255,M[3]=D>>>24&255,m.check=o(m.check,M,4,0)),A=D=0,m.mode=4;case 4:for(;A<16;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}m.head&&(m.head.xflags=255&D,m.head.os=D>>8),512&m.flags&&(M[0]=255&D,M[1]=D>>>8&255,m.check=o(m.check,M,2,0)),A=D=0,m.mode=5;case 5:if(1024&m.flags){for(;A<16;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}m.length=D,m.head&&(m.head.extra_len=D),512&m.flags&&(M[0]=255&D,M[1]=D>>>8&255,m.check=o(m.check,M,2,0)),A=D=0}else m.head&&(m.head.extra=null);m.mode=6;case 6:if(1024&m.flags&&(O<(te=m.length)&&(te=O),te&&(m.head&&(d=m.head.extra_len-m.length,m.head.extra||(m.head.extra=new Array(m.head.extra_len)),a.arraySet(m.head.extra,Y,U,te,d)),512&m.flags&&(m.check=o(m.check,Y,te,U)),O-=te,U+=te,m.length-=te),m.length))break e;m.length=0,m.mode=7;case 7:if(2048&m.flags){if(O===0)break e;for(te=0;d=Y[U+te++],m.head&&d&&m.length<65536&&(m.head.name+=String.fromCharCode(d)),d&&te<O;);if(512&m.flags&&(m.check=o(m.check,Y,te,U)),O-=te,U+=te,d)break e}else m.head&&(m.head.name=null);m.length=0,m.mode=8;case 8:if(4096&m.flags){if(O===0)break e;for(te=0;d=Y[U+te++],m.head&&d&&m.length<65536&&(m.head.comment+=String.fromCharCode(d)),d&&te<O;);if(512&m.flags&&(m.check=o(m.check,Y,te,U)),O-=te,U+=te,d)break e}else m.head&&(m.head.comment=null);m.mode=9;case 9:if(512&m.flags){for(;A<16;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}if(D!==(65535&m.check)){S.msg="header crc mismatch",m.mode=30;break}A=D=0}m.head&&(m.head.hcrc=m.flags>>9&1,m.head.done=!0),S.adler=m.check=0,m.mode=12;break;case 10:for(;A<32;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}S.adler=m.check=c(D),A=D=0,m.mode=11;case 11:if(m.havedict===0)return S.next_out=V,S.avail_out=J,S.next_in=U,S.avail_in=O,m.hold=D,m.bits=A,2;S.adler=m.check=1,m.mode=12;case 12:if($===5||$===6)break e;case 13:if(m.last){D>>>=7&A,A-=7&A,m.mode=27;break}for(;A<3;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}switch(m.last=1&D,A-=1,3&(D>>>=1)){case 0:m.mode=14;break;case 1:if(I(m),m.mode=20,$!==6)break;D>>>=2,A-=2;break e;case 2:m.mode=17;break;case 3:S.msg="invalid block type",m.mode=30}D>>>=2,A-=2;break;case 14:for(D>>>=7&A,A-=7&A;A<32;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}if((65535&D)!=(D>>>16^65535)){S.msg="invalid stored block lengths",m.mode=30;break}if(m.length=65535&D,A=D=0,m.mode=15,$===6)break e;case 15:m.mode=16;case 16:if(te=m.length){if(O<te&&(te=O),J<te&&(te=J),te===0)break e;a.arraySet(oe,Y,U,te,V),O-=te,U+=te,J-=te,V+=te,m.length-=te;break}m.mode=12;break;case 17:for(;A<14;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}if(m.nlen=257+(31&D),D>>>=5,A-=5,m.ndist=1+(31&D),D>>>=5,A-=5,m.ncode=4+(15&D),D>>>=4,A-=4,286<m.nlen||30<m.ndist){S.msg="too many length or distance symbols",m.mode=30;break}m.have=0,m.mode=18;case 18:for(;m.have<m.ncode;){for(;A<3;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}m.lens[X[m.have++]]=7&D,D>>>=3,A-=3}for(;m.have<19;)m.lens[X[m.have++]]=0;if(m.lencode=m.lendyn,m.lenbits=7,H={bits:m.lenbits},Z=g(0,m.lens,0,19,m.lencode,0,m.work,H),m.lenbits=H.bits,Z){S.msg="invalid code lengths set",m.mode=30;break}m.have=0,m.mode=19;case 19:for(;m.have<m.nlen+m.ndist;){for(;Le=(N=m.lencode[D&(1<<m.lenbits)-1])>>>16&255,ge=65535&N,!((Ce=N>>>24)<=A);){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}if(ge<16)D>>>=Ce,A-=Ce,m.lens[m.have++]=ge;else{if(ge===16){for(C=Ce+2;A<C;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}if(D>>>=Ce,A-=Ce,m.have===0){S.msg="invalid bit length repeat",m.mode=30;break}d=m.lens[m.have-1],te=3+(3&D),D>>>=2,A-=2}else if(ge===17){for(C=Ce+3;A<C;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}A-=Ce,d=0,te=3+(7&(D>>>=Ce)),D>>>=3,A-=3}else{for(C=Ce+7;A<C;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}A-=Ce,d=0,te=11+(127&(D>>>=Ce)),D>>>=7,A-=7}if(m.have+te>m.nlen+m.ndist){S.msg="invalid bit length repeat",m.mode=30;break}for(;te--;)m.lens[m.have++]=d}}if(m.mode===30)break;if(m.lens[256]===0){S.msg="invalid code -- missing end-of-block",m.mode=30;break}if(m.lenbits=9,H={bits:m.lenbits},Z=g(w,m.lens,0,m.nlen,m.lencode,0,m.work,H),m.lenbits=H.bits,Z){S.msg="invalid literal/lengths set",m.mode=30;break}if(m.distbits=6,m.distcode=m.distdyn,H={bits:m.distbits},Z=g(k,m.lens,m.nlen,m.ndist,m.distcode,0,m.work,H),m.distbits=H.bits,Z){S.msg="invalid distances set",m.mode=30;break}if(m.mode=20,$===6)break e;case 20:m.mode=21;case 21:if(6<=O&&258<=J){S.next_out=V,S.avail_out=J,S.next_in=U,S.avail_in=O,m.hold=D,m.bits=A,l(S,ee),V=S.next_out,oe=S.output,J=S.avail_out,U=S.next_in,Y=S.input,O=S.avail_in,D=m.hold,A=m.bits,m.mode===12&&(m.back=-1);break}for(m.back=0;Le=(N=m.lencode[D&(1<<m.lenbits)-1])>>>16&255,ge=65535&N,!((Ce=N>>>24)<=A);){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}if(Le&&!(240&Le)){for(Me=Ce,Be=Le,He=ge;Le=(N=m.lencode[He+((D&(1<<Me+Be)-1)>>Me)])>>>16&255,ge=65535&N,!(Me+(Ce=N>>>24)<=A);){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}D>>>=Me,A-=Me,m.back+=Me}if(D>>>=Ce,A-=Ce,m.back+=Ce,m.length=ge,Le===0){m.mode=26;break}if(32&Le){m.back=-1,m.mode=12;break}if(64&Le){S.msg="invalid literal/length code",m.mode=30;break}m.extra=15&Le,m.mode=22;case 22:if(m.extra){for(C=m.extra;A<C;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}m.length+=D&(1<<m.extra)-1,D>>>=m.extra,A-=m.extra,m.back+=m.extra}m.was=m.length,m.mode=23;case 23:for(;Le=(N=m.distcode[D&(1<<m.distbits)-1])>>>16&255,ge=65535&N,!((Ce=N>>>24)<=A);){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}if(!(240&Le)){for(Me=Ce,Be=Le,He=ge;Le=(N=m.distcode[He+((D&(1<<Me+Be)-1)>>Me)])>>>16&255,ge=65535&N,!(Me+(Ce=N>>>24)<=A);){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}D>>>=Me,A-=Me,m.back+=Me}if(D>>>=Ce,A-=Ce,m.back+=Ce,64&Le){S.msg="invalid distance code",m.mode=30;break}m.offset=ge,m.extra=15&Le,m.mode=24;case 24:if(m.extra){for(C=m.extra;A<C;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}m.offset+=D&(1<<m.extra)-1,D>>>=m.extra,A-=m.extra,m.back+=m.extra}if(m.offset>m.dmax){S.msg="invalid distance too far back",m.mode=30;break}m.mode=25;case 25:if(J===0)break e;if(te=ee-J,m.offset>te){if((te=m.offset-te)>m.whave&&m.sane){S.msg="invalid distance too far back",m.mode=30;break}Ne=te>m.wnext?(te-=m.wnext,m.wsize-te):m.wnext-te,te>m.length&&(te=m.length),Re=m.window}else Re=oe,Ne=V-m.offset,te=m.length;for(J<te&&(te=J),J-=te,m.length-=te;oe[V++]=Re[Ne++],--te;);m.length===0&&(m.mode=21);break;case 26:if(J===0)break e;oe[V++]=m.length,J--,m.mode=21;break;case 27:if(m.wrap){for(;A<32;){if(O===0)break e;O--,D|=Y[U++]<<A,A+=8}if(ee-=J,S.total_out+=ee,m.total+=ee,ee&&(S.adler=m.check=m.flags?o(m.check,oe,ee,V-ee):s(m.check,oe,ee,V-ee)),ee=J,(m.flags?D:c(D))!==m.check){S.msg="incorrect data check",m.mode=30;break}A=D=0}m.mode=28;case 28:if(m.wrap&&m.flags){for(;A<32;){if(O===0)break e;O--,D+=Y[U++]<<A,A+=8}if(D!==(4294967295&m.total)){S.msg="incorrect length check",m.mode=30;break}A=D=0}m.mode=29;case 29:Z=1;break e;case 30:Z=-3;break e;case 31:return-4;case 32:default:return h}return S.next_out=V,S.avail_out=J,S.next_in=U,S.avail_in=O,m.hold=D,m.bits=A,(m.wsize||ee!==S.avail_out&&m.mode<30&&(m.mode<27||$!==4))&&F(S,S.output,S.next_out,ee-S.avail_out)?(m.mode=31,-4):(fe-=S.avail_in,ee-=S.avail_out,S.total_in+=fe,S.total_out+=ee,m.total+=ee,m.wrap&&ee&&(S.adler=m.check=m.flags?o(m.check,oe,ee,S.next_out-ee):s(m.check,oe,ee,S.next_out-ee)),S.data_type=m.bits+(m.last?64:0)+(m.mode===12?128:0)+(m.mode===20||m.mode===15?256:0),(fe==0&&ee===0||$===4)&&Z===v&&(Z=-5),Z)},i.inflateEnd=function(S){if(!S||!S.state)return h;var $=S.state;return $.window&&($.window=null),S.state=null,v},i.inflateGetHeader=function(S,$){var m;return S&&S.state&&2&(m=S.state).wrap?((m.head=$).done=!1,v):h},i.inflateSetDictionary=function(S,$){var m,Y=$.length;return S&&S.state?(m=S.state).wrap!==0&&m.mode!==11?h:m.mode===11&&s(1,$,Y,0)!==m.check?-3:F(S,$,Y,Y)?(m.mode=31,-4):(m.havedict=1,v):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(w,k,v,h,y,p,_,c){var f,x,b,j,E,P,L,T,I,F=c.bits,S=0,$=0,m=0,Y=0,oe=0,U=0,V=0,O=0,J=0,D=0,A=null,fe=0,ee=new a.Buf16(16),te=new a.Buf16(16),Ne=null,Re=0;for(S=0;S<=15;S++)ee[S]=0;for($=0;$<h;$++)ee[k[v+$]]++;for(oe=F,Y=15;1<=Y&&ee[Y]===0;Y--);if(Y<oe&&(oe=Y),Y===0)return y[p++]=20971520,y[p++]=20971520,c.bits=1,0;for(m=1;m<Y&&ee[m]===0;m++);for(oe<m&&(oe=m),S=O=1;S<=15;S++)if(O<<=1,(O-=ee[S])<0)return-1;if(0<O&&(w===0||Y!==1))return-1;for(te[1]=0,S=1;S<15;S++)te[S+1]=te[S]+ee[S];for($=0;$<h;$++)k[v+$]!==0&&(_[te[k[v+$]]++]=$);if(P=w===0?(A=Ne=_,19):w===1?(A=s,fe-=257,Ne=o,Re-=257,256):(A=l,Ne=g,-1),S=m,E=p,V=$=D=0,b=-1,j=(J=1<<(U=oe))-1,w===1&&852<J||w===2&&592<J)return 1;for(;;){for(L=S-V,I=_[$]<P?(T=0,_[$]):_[$]>P?(T=Ne[Re+_[$]],A[fe+_[$]]):(T=96,0),f=1<<S-V,m=x=1<<U;y[E+(D>>V)+(x-=f)]=L<<24|T<<16|I|0,x!==0;);for(f=1<<S-1;D&f;)f>>=1;if(f!==0?(D&=f-1,D+=f):D=0,$++,--ee[S]==0){if(S===Y)break;S=k[v+_[$]]}if(oe<S&&(D&j)!==b){for(V===0&&(V=oe),E+=m,O=1<<(U=S-V);U+V<Y&&!((O-=ee[U+V])<=0);)U++,O<<=1;if(J+=1<<U,w===1&&852<J||w===2&&592<J)return 1;y[b=D&j]=oe<<24|U<<16|E-p|0}}return D!==0&&(y[E+D]=S-V<<24|64<<16|0),c.bits=oe,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),s=0,o=1;function l(N){for(var M=N.length;0<=--M;)N[M]=0}var g=0,w=29,k=256,v=k+1+w,h=30,y=19,p=2*v+1,_=15,c=16,f=7,x=256,b=16,j=17,E=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(2*(v+2));l(F);var S=new Array(2*h);l(S);var $=new Array(512);l($);var m=new Array(256);l(m);var Y=new Array(w);l(Y);var oe,U,V,O=new Array(h);function J(N,M,X,Q,B){this.static_tree=N,this.extra_bits=M,this.extra_base=X,this.elems=Q,this.max_length=B,this.has_stree=N&&N.length}function D(N,M){this.dyn_tree=N,this.max_code=0,this.stat_desc=M}function A(N){return N<256?$[N]:$[256+(N>>>7)]}function fe(N,M){N.pending_buf[N.pending++]=255&M,N.pending_buf[N.pending++]=M>>>8&255}function ee(N,M,X){N.bi_valid>c-X?(N.bi_buf|=M<<N.bi_valid&65535,fe(N,N.bi_buf),N.bi_buf=M>>c-N.bi_valid,N.bi_valid+=X-c):(N.bi_buf|=M<<N.bi_valid&65535,N.bi_valid+=X)}function te(N,M,X){ee(N,X[2*M],X[2*M+1])}function Ne(N,M){for(var X=0;X|=1&N,N>>>=1,X<<=1,0<--M;);return X>>>1}function Re(N,M,X){var Q,B,ne=new Array(_+1),ue=0;for(Q=1;Q<=_;Q++)ne[Q]=ue=ue+X[Q-1]<<1;for(B=0;B<=M;B++){var ae=N[2*B+1];ae!==0&&(N[2*B]=Ne(ne[ae]++,ae))}}function Ce(N){var M;for(M=0;M<v;M++)N.dyn_ltree[2*M]=0;for(M=0;M<h;M++)N.dyn_dtree[2*M]=0;for(M=0;M<y;M++)N.bl_tree[2*M]=0;N.dyn_ltree[2*x]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function Le(N){8<N.bi_valid?fe(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function ge(N,M,X,Q){var B=2*M,ne=2*X;return N[B]<N[ne]||N[B]===N[ne]&&Q[M]<=Q[X]}function Me(N,M,X){for(var Q=N.heap[X],B=X<<1;B<=N.heap_len&&(B<N.heap_len&&ge(M,N.heap[B+1],N.heap[B],N.depth)&&B++,!ge(M,Q,N.heap[B],N.depth));)N.heap[X]=N.heap[B],X=B,B<<=1;N.heap[X]=Q}function Be(N,M,X){var Q,B,ne,ue,ae=0;if(N.last_lit!==0)for(;Q=N.pending_buf[N.d_buf+2*ae]<<8|N.pending_buf[N.d_buf+2*ae+1],B=N.pending_buf[N.l_buf+ae],ae++,Q===0?te(N,B,M):(te(N,(ne=m[B])+k+1,M),(ue=P[ne])!==0&&ee(N,B-=Y[ne],ue),te(N,ne=A(--Q),X),(ue=L[ne])!==0&&ee(N,Q-=O[ne],ue)),ae<N.last_lit;);te(N,x,M)}function He(N,M){var X,Q,B,ne=M.dyn_tree,ue=M.stat_desc.static_tree,ae=M.stat_desc.has_stree,pe=M.stat_desc.elems,Ie=-1;for(N.heap_len=0,N.heap_max=p,X=0;X<pe;X++)ne[2*X]!==0?(N.heap[++N.heap_len]=Ie=X,N.depth[X]=0):ne[2*X+1]=0;for(;N.heap_len<2;)ne[2*(B=N.heap[++N.heap_len]=Ie<2?++Ie:0)]=1,N.depth[B]=0,N.opt_len--,ae&&(N.static_len-=ue[2*B+1]);for(M.max_code=Ie,X=N.heap_len>>1;1<=X;X--)Me(N,ne,X);for(B=pe;X=N.heap[1],N.heap[1]=N.heap[N.heap_len--],Me(N,ne,1),Q=N.heap[1],N.heap[--N.heap_max]=X,N.heap[--N.heap_max]=Q,ne[2*B]=ne[2*X]+ne[2*Q],N.depth[B]=(N.depth[X]>=N.depth[Q]?N.depth[X]:N.depth[Q])+1,ne[2*X+1]=ne[2*Q+1]=B,N.heap[1]=B++,Me(N,ne,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],function(je,he){var gt,Ee,rt,We,cn,ut,Je=he.dyn_tree,vn=he.max_code,Vt=he.stat_desc.static_tree,Pn=he.stat_desc.has_stree,ve=he.stat_desc.extra_bits,dn=he.stat_desc.extra_base,Se=he.stat_desc.max_length,$e=0;for(We=0;We<=_;We++)je.bl_count[We]=0;for(Je[2*je.heap[je.heap_max]+1]=0,gt=je.heap_max+1;gt<p;gt++)Se<(We=Je[2*Je[2*(Ee=je.heap[gt])+1]+1]+1)&&(We=Se,$e++),Je[2*Ee+1]=We,vn<Ee||(je.bl_count[We]++,cn=0,dn<=Ee&&(cn=ve[Ee-dn]),ut=Je[2*Ee],je.opt_len+=ut*(We+cn),Pn&&(je.static_len+=ut*(Vt[2*Ee+1]+cn)));if($e!==0){do{for(We=Se-1;je.bl_count[We]===0;)We--;je.bl_count[We]--,je.bl_count[We+1]+=2,je.bl_count[Se]--,$e-=2}while(0<$e);for(We=Se;We!==0;We--)for(Ee=je.bl_count[We];Ee!==0;)vn<(rt=je.heap[--gt])||(Je[2*rt+1]!==We&&(je.opt_len+=(We-Je[2*rt+1])*Je[2*rt],Je[2*rt+1]=We),Ee--)}}(N,M),Re(ne,Ie,N.bl_count)}function d(N,M,X){var Q,B,ne=-1,ue=M[1],ae=0,pe=7,Ie=4;for(ue===0&&(pe=138,Ie=3),M[2*(X+1)+1]=65535,Q=0;Q<=X;Q++)B=ue,ue=M[2*(Q+1)+1],++ae<pe&&B===ue||(ae<Ie?N.bl_tree[2*B]+=ae:B!==0?(B!==ne&&N.bl_tree[2*B]++,N.bl_tree[2*b]++):ae<=10?N.bl_tree[2*j]++:N.bl_tree[2*E]++,ne=B,Ie=(ae=0)===ue?(pe=138,3):B===ue?(pe=6,3):(pe=7,4))}function Z(N,M,X){var Q,B,ne=-1,ue=M[1],ae=0,pe=7,Ie=4;for(ue===0&&(pe=138,Ie=3),Q=0;Q<=X;Q++)if(B=ue,ue=M[2*(Q+1)+1],!(++ae<pe&&B===ue)){if(ae<Ie)for(;te(N,B,N.bl_tree),--ae!=0;);else B!==0?(B!==ne&&(te(N,B,N.bl_tree),ae--),te(N,b,N.bl_tree),ee(N,ae-3,2)):ae<=10?(te(N,j,N.bl_tree),ee(N,ae-3,3)):(te(N,E,N.bl_tree),ee(N,ae-11,7));ne=B,Ie=(ae=0)===ue?(pe=138,3):B===ue?(pe=6,3):(pe=7,4)}}l(O);var H=!1;function C(N,M,X,Q){ee(N,(g<<1)+(Q?1:0),3),function(B,ne,ue,ae){Le(B),fe(B,ue),fe(B,~ue),a.arraySet(B.pending_buf,B.window,ne,ue,B.pending),B.pending+=ue}(N,M,X)}i._tr_init=function(N){H||(function(){var M,X,Q,B,ne,ue=new Array(_+1);for(B=Q=0;B<w-1;B++)for(Y[B]=Q,M=0;M<1<<P[B];M++)m[Q++]=B;for(m[Q-1]=B,B=ne=0;B<16;B++)for(O[B]=ne,M=0;M<1<<L[B];M++)$[ne++]=B;for(ne>>=7;B<h;B++)for(O[B]=ne<<7,M=0;M<1<<L[B]-7;M++)$[256+ne++]=B;for(X=0;X<=_;X++)ue[X]=0;for(M=0;M<=143;)F[2*M+1]=8,M++,ue[8]++;for(;M<=255;)F[2*M+1]=9,M++,ue[9]++;for(;M<=279;)F[2*M+1]=7,M++,ue[7]++;for(;M<=287;)F[2*M+1]=8,M++,ue[8]++;for(Re(F,v+1,ue),M=0;M<h;M++)S[2*M+1]=5,S[2*M]=Ne(M,5);oe=new J(F,P,k+1,v,_),U=new J(S,L,0,h,_),V=new J(new Array(0),T,0,y,f)}(),H=!0),N.l_desc=new D(N.dyn_ltree,oe),N.d_desc=new D(N.dyn_dtree,U),N.bl_desc=new D(N.bl_tree,V),N.bi_buf=0,N.bi_valid=0,Ce(N)},i._tr_stored_block=C,i._tr_flush_block=function(N,M,X,Q){var B,ne,ue=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=function(ae){var pe,Ie=4093624447;for(pe=0;pe<=31;pe++,Ie>>>=1)if(1&Ie&&ae.dyn_ltree[2*pe]!==0)return s;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return o;for(pe=32;pe<k;pe++)if(ae.dyn_ltree[2*pe]!==0)return o;return s}(N)),He(N,N.l_desc),He(N,N.d_desc),ue=function(ae){var pe;for(d(ae,ae.dyn_ltree,ae.l_desc.max_code),d(ae,ae.dyn_dtree,ae.d_desc.max_code),He(ae,ae.bl_desc),pe=y-1;3<=pe&&ae.bl_tree[2*I[pe]+1]===0;pe--);return ae.opt_len+=3*(pe+1)+5+5+4,pe}(N),B=N.opt_len+3+7>>>3,(ne=N.static_len+3+7>>>3)<=B&&(B=ne)):B=ne=X+5,X+4<=B&&M!==-1?C(N,M,X,Q):N.strategy===4||ne===B?(ee(N,2+(Q?1:0),3),Be(N,F,S)):(ee(N,4+(Q?1:0),3),function(ae,pe,Ie,je){var he;for(ee(ae,pe-257,5),ee(ae,Ie-1,5),ee(ae,je-4,4),he=0;he<je;he++)ee(ae,ae.bl_tree[2*I[he]+1],3);Z(ae,ae.dyn_ltree,pe-1),Z(ae,ae.dyn_dtree,Ie-1)}(N,N.l_desc.max_code+1,N.d_desc.max_code+1,ue+1),Be(N,N.dyn_ltree,N.dyn_dtree)),Ce(N),Q&&Le(N)},i._tr_tally=function(N,M,X){return N.pending_buf[N.d_buf+2*N.last_lit]=M>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&M,N.pending_buf[N.l_buf+N.last_lit]=255&X,N.last_lit++,M===0?N.dyn_ltree[2*X]++:(N.matches++,M--,N.dyn_ltree[2*(m[X]+k+1)]++,N.dyn_dtree[2*A(M)]++),N.last_lit===N.lit_bufsize-1},i._tr_align=function(N){ee(N,2,3),te(N,x,F),function(M){M.bi_valid===16?(fe(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):8<=M.bi_valid&&(M.pending_buf[M.pending++]=255&M.bi_buf,M.bi_buf>>=8,M.bi_valid-=8)}(N)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(s,o){if(!s.setImmediate){var l,g,w,k,v=1,h={},y=!1,p=s.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(s);_=_&&_.setTimeout?_:s,l={}.toString.call(s.process)==="[object process]"?function(b){process.nextTick(function(){f(b)})}:function(){if(s.postMessage&&!s.importScripts){var b=!0,j=s.onmessage;return s.onmessage=function(){b=!1},s.postMessage("","*"),s.onmessage=j,b}}()?(k="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",x,!1):s.attachEvent("onmessage",x),function(b){s.postMessage(k+b,"*")}):s.MessageChannel?((w=new MessageChannel).port1.onmessage=function(b){f(b.data)},function(b){w.port2.postMessage(b)}):p&&"onreadystatechange"in p.createElement("script")?(g=p.documentElement,function(b){var j=p.createElement("script");j.onreadystatechange=function(){f(b),j.onreadystatechange=null,g.removeChild(j),j=null},g.appendChild(j)}):function(b){setTimeout(f,0,b)},_.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var j=new Array(arguments.length-1),E=0;E<j.length;E++)j[E]=arguments[E+1];var P={callback:b,args:j};return h[v]=P,l(v),v++},_.clearImmediate=c}function c(b){delete h[b]}function f(b){if(y)setTimeout(f,0,b);else{var j=h[b];if(j){y=!0;try{(function(E){var P=E.callback,L=E.args;switch(L.length){case 0:P();break;case 1:P(L[0]);break;case 2:P(L[0],L[1]);break;case 3:P(L[0],L[1],L[2]);break;default:P.apply(o,L)}})(j)}finally{c(b),y=!1}}}}function x(b){b.source===s&&typeof b.data=="string"&&b.data.indexOf(k)===0&&f(+b.data.slice(k.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof na<"u"?na:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Zf);var am=Zf.exports;const sm=Ec(am),Xf=()=>u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:"flex-shrink-0",children:[u.jsx("rect",{x:"1",y:"5",width:"2",height:"4",fill:"currentColor",className:"animate-sound-wave",style:{animationDelay:"0ms"}}),u.jsx("rect",{x:"4",y:"3",width:"2",height:"8",fill:"currentColor",className:"animate-sound-wave",style:{animationDelay:"150ms"}}),u.jsx("rect",{x:"7",y:"2",width:"2",height:"10",fill:"currentColor",className:"animate-sound-wave",style:{animationDelay:"300ms"}}),u.jsx("rect",{x:"10",y:"4",width:"2",height:"6",fill:"currentColor",className:"animate-sound-wave",style:{animationDelay:"450ms"}})]}),Sr="flex items-center justify-center p-1.5 rounded-lg transition-colors bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",om=({stations:e,lines:t,announcements:n,setAnnouncements:r,audioAssignments:i,setAudioAssignments:a,announcementTypes:s,setAnnouncementTypes:o,betweenSegments:l,setBetweenSegments:g,uploadedAudios:w,setUploadedAudios:k,generatedAudioHistory:v,setGeneratedAudioHistory:h,apiKey:y,language:p="en",isMobile:_,onClose:c,onStationSelect:f,selectedStationId:x,showStationNumbers:b=!1,onPlayingStationChange:j,showTranscription:E=!1,setShowTranscription:P,setCurrentTranscription:L,selectedLineId:T,setSelectedLineId:I})=>{var Kl;const{t:F}=ti(p),[S,$]=W.useState(null),[m,Y]=W.useState(!1),[oe,U]=W.useState(!1),[V,O]=W.useState({}),[J,D]=W.useState(null),[A,fe]=W.useState("text-to-speech"),[ee,te]=W.useState(""),[Ne,Re]=W.useState("21m00Tcm4TlvDq8ikWAM"),Ce=W.useMemo(()=>[{id:"21m00Tcm4TlvDq8ikWAM",name:"Rachel",preview:"/src/assets/audio/presets/Rachel preview.mp3"},{id:"sRYzP8TwEiiqAWebdYPJ",name:"Hatakekohei",preview:"/src/assets/audio/presets/Hatakekohei preview.mp3"},{id:"EkK5I93UQWFDigLMpZcX",name:"James"},{id:"RILOU7YmBhvwJGDGjNmP",name:"Jane"},{id:"cgSgspJ2msm6clMCkdW9",name:"Jessica"},{id:"FGY2WhTYpPnrIDTdsKH5",name:"Laura"},{id:"x70vRnQBMBu4FAYhjJbO",name:"Nathan"}],[]),[Le,ge]=W.useState(null),[Me,Be]=W.useState(!1),He=W.useRef(null),d=W.useRef(null),[Z,H]=W.useState(!1),[C,N]=W.useState(1),[M,X]=W.useState(1),[Q,B]=W.useState(!1),[ne,ue]=W.useState(!1),[ae,pe]=W.useState(!1),[Ie,je]=W.useState(null),[he,gt]=W.useState({}),[Ee,rt]=W.useState({}),[We,cn]=W.useState(0),[ut,Je]=W.useState(0),[vn,Vt]=W.useState(!1),Pn=W.useRef({}),ve=W.useRef(null),dn=W.useRef({}),Se=W.useRef(null),$e=W.useRef(null),le=W.useRef(!1);W.useEffect(()=>{le.current=m},[m]),W.useEffect(()=>{if(j&&S){const z=S.match(/^station-(.+)$/);z?j(z[1],!oe):j(null,!1)}else j&&j(null,!1)},[S,oe,j]),W.useEffect(()=>{if(S&&!oe){const z=S.match(/^station-(.+)$/);z&&f?f(z[1]):S.startsWith("between")&&f&&f(null)}},[S,oe,f]),W.useEffect(()=>{if(L)if(S&&!oe){const z=i[S];L((z==null?void 0:z.transcription)||"")}else L("")},[S,oe,i,L]),W.useEffect(()=>{ve.current&&(ve.current.pause(),ve.current=null),$(null),U(!1),Y(!1),Se.current&&(clearInterval(Se.current),Se.current=null),$e.current&&(clearInterval($e.current),$e.current=null)},[e,t]),W.useEffect(()=>{t.length>0&&(!T||!t.find(z=>z.id===T))&&I(t[0].id)},[t,T]),W.useEffect(()=>{const z=K=>{Object.keys(V).every(de=>{const ye=dn.current[de];return!ye||!ye.contains(K.target)})&&O({}),Me&&d.current&&!d.current.contains(K.target)&&Be(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[V,Me]);const xe=W.useMemo(()=>t.find(z=>z.id===T),[t,T]),_e=W.useMemo(()=>xe?xe.stations.map(z=>e.find(K=>K.id===z)).filter(Boolean).filter((z,K,G)=>K===G.length-1&&G.length>1?z.id!==G[0].id:!0):[],[xe,e]),wt=(xe==null?void 0:xe.color)||"#ef4444",Ht=W.useMemo(()=>im(),[]),Tn=W.useCallback(z=>t.filter(K=>K.stations.includes(z)),[t]),_t=(z,K)=>{if(K)try{const G=new Audio(K);G.preload="metadata",G.addEventListener("loadedmetadata",()=>{const de=Math.ceil(G.duration);de&&!isNaN(de)&&gt(ye=>({...ye,[z]:de}))}),G.addEventListener("error",de=>{console.warn(`Could not load audio metadata for ${z}:`,K),gt(ye=>({...ye,[z]:30}))}),G.load()}catch(G){console.warn(`Error creating audio for ${z}:`,G),gt(de=>({...de,[z]:30}))}},Gt=z=>{if(z<60)return`${z}s`;const K=Math.floor(z/60),G=z%60;return G>0?`${K}m ${G}s`:`${K}m`},qe=W.useCallback(()=>{const z=[];return _e.forEach((K,G)=>{var ye,Ae;const de=`station-${K.id}`;if((ye=i[de])!=null&&ye.url&&z.push(de),G<_e.length-1){const we=`between-${K.id}-${_e[G+1].id}`;(Ae=i[we])!=null&&Ae.url&&z.push(we);const ze=l[we];Array.isArray(ze)&&ze.forEach(Oe=>{var et;(et=i[Oe])!=null&&et.url&&z.push(Oe)})}}),z},[_e,i,l]),it=()=>{let z=0;return qe().forEach(G=>{he[G]&&(z+=he[G])}),z},Rt=()=>{let z=0;const K=qe();for(let G=0;G<ut&&G<K.length;G++){const de=K[G];he[de]&&(z+=he[de])}return K[ut]&&ve.current&&!ve.current.paused&&(z+=Math.ceil(ve.current.currentTime)),z},Yt=()=>it()-Rt();W.useEffect(()=>{if(_e.length>0&&T){const z={},K=new Set;_e.forEach((de,ye)=>{K.add(`station-${de.id}`),ye<_e.length-1&&K.add(`between-${de.id}-${_e[ye+1].id}`)});const G={};Object.keys(i).forEach(de=>{K.has(de)&&(G[de]=i[de])}),_e.forEach((de,ye)=>{const Ae=ye*2,we=`station-${de.id}`;if(G[we])z[we]=G[we],G[we].url&&_t(we,G[we].url);else{const ze=Ht[Ae%Ht.length];z[we]={type:"preset",url:ze.path,name:ze.name},_t(we,ze.path)}if(ye<_e.length-1){const ze=`between-${de.id}-${_e[ye+1].id}`;if(G[ze])z[ze]=G[ze],G[ze].url&&_t(ze,G[ze].url);else{const Oe=Ht[(Ae+1)%Ht.length];z[ze]={type:"preset",url:Oe.path,name:Oe.name},_t(ze,Oe.path)}}}),a(z)}},[T,_e.length]);const Ji=W.useCallback((z,K="station",G=null)=>{switch(s[z]||K){case"station":return u.jsx(os,{size:14,style:G?{color:G}:{},className:G?"":"text-blue-500"});case"centralStation":return u.jsx(lc,{size:14,style:G?{color:G}:{},className:G?"":"text-purple-500"});case"arrival":return u.jsx(sc,{size:14,className:"text-green-500"});case"departure":return u.jsx(kc,{size:14,className:"text-orange-500"});case"transfer":return u.jsx(ki,{size:14,className:"text-purple-500"});case"information":return u.jsx(Qo,{size:14,className:"text-cyan-500"});case"live":return u.jsx(fc,{size:14,className:"text-pink-500"});case"warning":return u.jsx(ac,{size:14,className:"text-red-500"});case"chime":return u.jsx(oc,{size:14,className:"text-yellow-500"});case"music":return u.jsx(mc,{size:14,className:"text-pink-500"});case"ambience":return u.jsx(yc,{size:14,className:"text-indigo-500"});case"general":default:return u.jsx(ki,{size:14,className:"text-gray-400"})}},[s]),ni=W.useCallback((z,K="general")=>{switch(s[z]||K){case"station":return F("station");case"centralStation":return F("centralStation");case"arrival":return F("arrival");case"departure":return F("departure");case"transfer":return F("transfer");case"information":return F("information");case"live":return F("live");case"warning":return F("warning");case"chime":return F("chime");case"music":return F("music");case"ambience":return F("ambience");case"general":default:return F("general")}},[s,F]),Ns=z=>{const G=Tn(z).map(Ae=>Ae.color);if(G.length===0)return u.jsx("div",{className:"relative z-10 w-4 h-4 rounded-full bg-gray-400 dark:bg-gray-500 border-[3px] border-gray-200 dark:border-gray-700"});if(G.length===1)return u.jsx("div",{className:"relative z-10 w-4 h-4 rounded-full border-[3px]",style:{backgroundColor:G[0],borderColor:G[0]}});const de=360/G.length,ye=G.map((Ae,we)=>{const ze=we*de,Oe=(we+1)*de;return`${Ae} ${ze}deg ${Oe}deg`}).join(", ");return u.jsx("div",{className:"relative z-10 w-4 h-4 rounded-full",style:{background:`conic-gradient(${ye})`,padding:"3px"},children:u.jsx("div",{className:"w-full h-full rounded-full",style:{backgroundColor:G[0]}})})},qi=z=>{f&&f(z)},St=(z,K)=>{o(G=>({...G,[z]:K}))},R=z=>{const K=`${z}-segment-${Date.now()}`;g(G=>({...G,[z]:[...G[z]||[],K]}))},q=(z,K)=>{g(G=>({...G,[z]:(G[z]||[]).filter(de=>de!==K)})),a(G=>{const de={...G};return delete de[K],de})},re=z=>{a(K=>{var de,ye;const G={...K};return(de=G[z])!=null&&de.url&&((ye=G[z])==null?void 0:ye.type)==="upload"&&URL.revokeObjectURL(G[z].url),delete G[z],G})},ce=(z,K)=>{const G=K.target.files[0];if(G&&G.type.startsWith("audio/")){const de=URL.createObjectURL(G),ye={id:`upload-${Date.now()}`,name:G.name,url:de};k(Ae=>[...Ae,ye]),a(Ae=>({...Ae,[z]:{type:"upload",url:de,name:G.name}})),_t(z,de),O({})}},ke=W.useCallback((z,K)=>{if(!z)return"";if(z.type==="preset")return z.name;if(z.type==="upload")return`${F("audioTypeUpload")}: ${z.name}`;if(z.type==="generated"){if(!K)return`${z.voiceName||F("audioTypeGenerated")} #1`;const de=K.split("-").find(Ae=>!isNaN(parseInt(Ae))),ye=de?parseInt(de)+1:1;return`${z.voiceName||F("audioTypeGenerated")} #${ye}`}return z.name},[F]),Te=W.useCallback((z,K)=>{const G=s[z];if(["chime","music","ambience"].includes(G))return"";switch(G){case"arrival":return F("presetArrival").replaceAll("{station}",K);case"departure":return F("presetDeparture").replaceAll("{station}",K);case"transfer":return F("presetTransfer").replaceAll("{station}",K);case"information":return F("presetInformation").replaceAll("{station}",K);case"live":return F("presetLive").replaceAll("{station}",K);case"warning":return F("presetWarning").replaceAll("{station}",K);case"centralStation":return F("presetCentralStation").replaceAll("{station}",K);case"station":default:return`${K}`}},[s,F]),Pe=W.useCallback(async(z,K)=>{var G;if(!(!y||!ee.trim()||A!=="text-to-speech")){H(!0);try{const de=await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${Ne}`,{method:"POST",headers:{"Content-Type":"application/json","xi-api-key":y},body:JSON.stringify({text:ee,model_id:"eleven_multilingual_v2",output_format:"mp3_44100_128"})});if(de.ok){const ye=await de.blob(),Ae=URL.createObjectURL(ye),we={url:Ae,name:`AI: ${ee.substring(0,30)}${ee.length>30?"...":""}`,type:"generated",text:ee,voice:Ne,voiceName:((G=Ce.find(ze=>ze.id===Ne))==null?void 0:G.name)||"Unknown",timestamp:Date.now()};h(ze=>({...ze,[z]:[...ze[z]||[],we]})),a(ze=>({...ze,[z]:we})),_t(z,Ae)}else{console.error("Failed to generate audio:",de.status);const ye=await de.text();console.error("Error details:",ye),alert("Failed to generate audio. Please check your API key and try again.")}}catch(de){console.error("Error generating audio:",de),alert("Error generating audio. Please try again.")}finally{H(!1)}}},[y,ee,Ne,A,_t]),bt=(z,K)=>{const G=K.path||K.url;a(de=>({...de,[z]:{type:"preset",url:G,name:K.name}})),_t(z,G),O({})},ct=z=>{O(K=>({...K,[z]:!K[z]})),D(null)},st=(z,K="")=>{D(z),O({});const G=Te(z,K);te(G)},It=z=>{const K=i[z];if(K!=null&&K.url)if(S===z&&!oe)ve.current&&ve.current.pause(),Se.current&&(clearInterval(Se.current),Se.current=null),$e.current&&(clearInterval($e.current),$e.current=null),U(!0),Y(!1);else if(S===z&&oe)ve.current&&(ve.current.play(),U(!1),Se.current=setInterval(()=>{if(ve.current&&!ve.current.paused){const G=Math.ceil(ve.current.duration-ve.current.currentTime);rt(de=>({...de,[z]:G}))}},100));else{m&&(Y(!1),$e.current&&(clearInterval($e.current),$e.current=null)),ve.current&&ve.current.pause(),Se.current&&clearInterval(Se.current),S&&rt(Ae=>{const we={...Ae};return delete we[S],we}),$(z),U(!1);const G=new Audio(K.url);ve.current=G,G.playbackRate=C,G.volume=Q?0:M;const ye=qe().indexOf(z);ye!==-1&&Je(ye),Se.current=setInterval(()=>{if(G&&!G.paused){const Ae=Math.ceil(G.duration-G.currentTime);rt(we=>({...we,[z]:Ae}))}},100),G.onended=()=>{$(null),U(!1),ve.current=null,Se.current&&(clearInterval(Se.current),Se.current=null),rt(Ae=>{const we={...Ae};return delete we[z],we})},G.onerror=Ae=>{console.error("Audio playback error:",Ae),$(null),U(!1),ve.current=null,Se.current&&(clearInterval(Se.current),Se.current=null)},G.play().catch(Ae=>{console.error("Failed to play audio:",Ae),$(null),U(!1),ve.current=null,Se.current&&(clearInterval(Se.current),Se.current=null)})}},zt=z=>{N(z),ve.current&&(ve.current.playbackRate=z)},tn=()=>{if(m)Y(!1),U(!0),ve.current&&ve.current.pause(),$e.current&&(clearInterval($e.current),$e.current=null),Se.current&&(clearInterval(Se.current),Se.current=null);else{const z=qe();if(z.length===0)return;Se.current&&(clearInterval(Se.current),Se.current=null),oe&&S&&ve.current?(Y(!0),U(!1),ve.current.play().then(()=>{yr(),Se.current=setInterval(()=>{if(ve.current&&!ve.current.paused){const K=Math.ceil(ve.current.duration-ve.current.currentTime);rt(G=>({...G,[S]:K}))}},100)}).catch(K=>{console.error("Failed to resume audio:",K),Y(!1),U(!0)})):!S||!z.includes(S)?(ve.current&&(ve.current.pause(),ve.current=null),Je(0),Y(!0),U(!1),setTimeout(()=>ri(0),0)):(Y(!0),U(!1),yr())}},Cs=()=>{const z=qe();if(z.length!==0)if(S&&rt(K=>{const G={...K};return delete G[S],G}),U(!1),m){const K=ut>0?ut-1:z.length-1;Je(K),ri(K)}else{const K=ut>0?ut-1:z.length-1;Je(K),$(z[K])}},An=()=>{const z=qe();if(z.length!==0)if(S&&rt(K=>{const G={...K};return delete G[S],G}),U(!1),m){const K=(ut+1)%z.length;Je(K),ri(K)}else{const K=(ut+1)%z.length;Je(K),$(z[K])}},yr=()=>{$e.current&&clearInterval($e.current),$e.current=setInterval(()=>{cn(Date.now())},500)},ri=async z=>{const K=qe();if(!(z>=K.length)){ve.current&&(ve.current.pause(),ve.current=null),Se.current&&(clearInterval(Se.current),Se.current=null),yr(),U(!1);for(let G=z;G<K.length&&le.current;G++){const de=K[G],ye=i[de];ye!=null&&ye.url&&(Je(G),$(de),await new Promise(Ae=>{const we=new Audio(ye.url);ve.current=we,we.playbackRate=C,we.volume=Q?0:M,Se.current=setInterval(()=>{if(we&&!we.paused){const ze=Math.ceil(we.duration-we.currentTime);rt(Oe=>({...Oe,[de]:ze}))}},100),we.onended=()=>{Se.current&&(clearInterval(Se.current),Se.current=null),rt(ze=>{const Oe={...ze};return delete Oe[de],Oe}),Ae()},we.onerror=ze=>{console.error("Audio playback error:",ze),Se.current&&(clearInterval(Se.current),Se.current=null),Ae()},we.play().catch(ze=>{console.error("Failed to play audio:",ze),Se.current&&(clearInterval(Se.current),Se.current=null),Ae()})}))}Y(!1),U(!1),$(null),Je(0),ve.current=null,$e.current&&(clearInterval($e.current),$e.current=null)}};W.useEffect(()=>()=>{$e.current&&clearInterval($e.current)},[]);const ii=(z,K,G=null,de=0,ye=!1,Ae=null)=>{var ta;const we=i[z],Oe=S===z&&!oe,et=!z.startsWith("between")&&!ye,Kt=et&&G&&G===x,vr=V[z],er=J===z,fn=V[`${z}-type`],ea=z.startsWith("between")||ye?"general":"station",tr=Oe||Kt&&!Oe;return u.jsx("div",{className:`rounded-lg transition-all overflow-visible ${tr?"card-selected":"card-unselected"}`,onClick:()=>{et&&G&&qi(G)},children:u.jsxs("div",{className:"p-2",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-5 flex items-center justify-center flex-shrink-0",children:b&&et?u.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400",children:de/2+1}):u.jsxs("div",{className:"relative",ref:se=>dn.current[`${z}-type`]=se,children:[u.jsx("button",{onClick:se=>{se.stopPropagation(),ct(`${z}-type`)},className:"flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-600 rounded p-0.5 transition-colors",children:Ji(z,ea,et?wt:null)}),fn&&u.jsx("div",{className:"absolute left-0 top-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 py-1 min-w-[160px]",children:et?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider pointer-events-none",children:F("stationTypes")}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"station"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(os,{size:14,className:"text-blue-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("station")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"centralStation"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(lc,{size:14,className:"text-purple-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("centralStation")})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider pointer-events-none",children:F("announcements")}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"general"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(ki,{size:14,className:"text-gray-400"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("general")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"arrival"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(sc,{size:14,className:"text-green-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("arrival")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"departure"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(kc,{size:14,className:"text-orange-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("departure")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"transfer"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(ki,{size:14,className:"text-purple-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("transfer")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"information"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(Qo,{size:14,className:"text-cyan-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("information")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"live"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(fc,{size:14,className:"text-pink-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("live")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"warning"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(ac,{size:14,className:"text-red-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("warning")})]}),u.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),u.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider pointer-events-none",children:F("misc")}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"chime"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(oc,{size:14,className:"text-yellow-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("chime")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"music"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(mc,{size:14,className:"text-pink-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("music")})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),St(z,"ambience"),O({})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm",children:[u.jsx(yc,{size:14,className:"text-indigo-500"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:F("ambience")})]})]})})]})}),u.jsx("span",{className:"font-medium text-sm text-gray-800 dark:text-gray-200 flex-shrink-0",children:K}),(ye&&Ae||!et&&!ye&&we)&&u.jsx("button",{onClick:se=>{se.stopPropagation(),ye&&Ae?q(Ae,z):re(z)},className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/20 rounded transition-colors flex-shrink-0",title:"Remove segment",children:u.jsx(Vr,{size:12,className:"text-red-500"})})]}),we&&he[z]&&u.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 flex-shrink-0 font-medium",children:Ee[z]!==void 0?Gt(Ee[z]):Gt(he[z])})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-5 flex items-center justify-center flex-shrink-0",children:Oe&&u.jsx("div",{className:"flex items-center gap-1 px-1.5 py-0.5 bg-blue-500 text-white rounded",children:u.jsx(Xf,{})})}),u.jsxs("div",{className:"flex-1 relative",ref:se=>dn.current[z]=se,children:[u.jsx("input",{ref:se=>Pn.current[z]=se,type:"file",accept:"audio/*",onChange:se=>ce(z,se),className:"hidden"}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),ct(z)},className:"w-full flex items-center justify-between gap-2 px-2 py-1.5 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 rounded border border-gray-200 dark:border-gray-600 transition-colors text-xs",children:[u.jsx("span",{className:"truncate text-gray-700 dark:text-gray-300",children:we?ke(we,z):"Select audio..."}),vr?u.jsx(Rr,{size:14,className:"flex-shrink-0 text-gray-500"}):u.jsx(xi,{size:14,className:"flex-shrink-0 text-gray-500"})]}),vr&&u.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:[u.jsxs("button",{onClick:se=>{var Pt;se.stopPropagation(),(Pt=Pn.current[z])==null||Pt.click()},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm text-gray-700 dark:text-gray-300 border-b border-gray-100 dark:border-gray-700",children:[u.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"+"}),u.jsx("span",{children:"Upload Audio"})]}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),st(z,K)},disabled:!y,className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm text-gray-700 dark:text-gray-300 border-b border-gray-100 dark:border-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"+"}),u.jsx("span",{children:"Generate with AI"})]}),u.jsxs("div",{className:"py-1",children:[w.map(se=>u.jsx("button",{onClick:Pt=>{Pt.stopPropagation(),bt(z,{path:se.url,name:se.name})},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm text-gray-700 dark:text-gray-300",children:u.jsx("span",{className:"truncate",children:se.name})},se.id)),Ht.map(se=>u.jsx("button",{onClick:Pt=>{Pt.stopPropagation(),bt(z,se)},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-left text-sm text-gray-700 dark:text-gray-300",children:u.jsx("span",{className:"truncate",children:se.name})},se.id))]})]})]}),we&&u.jsx("button",{onClick:se=>{se.stopPropagation(),It(z)},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors flex-shrink-0",title:F("playAudio"),children:Oe?u.jsx(ka,{size:14,className:"text-blue-500"}):u.jsx(wa,{size:14,className:"text-gray-600 dark:text-gray-400"})})]}),er&&u.jsxs("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 max-w-full overflow-visible",children:[u.jsx("p",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"AI Generation"}),u.jsxs("div",{className:"space-y-2 mb-3",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"generationType",value:"text-to-speech",checked:A==="text-to-speech",onChange:se=>fe(se.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Text-to-Speech"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-not-allowed opacity-50",children:[u.jsx("input",{type:"radio",name:"generationType",value:"sound-effects",disabled:!0,className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Sound Effects (Coming Soon)"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-not-allowed opacity-50",children:[u.jsx("input",{type:"radio",name:"generationType",value:"music",disabled:!0,className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Music (Coming Soon)"})]})]}),A==="text-to-speech"&&u.jsxs("div",{className:"space-y-3 max-w-full",children:[u.jsxs("div",{className:"relative",ref:d,children:[u.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1 block",children:"Voice"}),u.jsxs("button",{onClick:se=>{se.stopPropagation(),Be(!Me)},className:"w-full flex items-center justify-between gap-2 px-2 py-1.5 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 rounded border border-gray-200 dark:border-gray-600 transition-colors text-xs",children:[u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:((ta=Ce.find(se=>se.id===Ne))==null?void 0:ta.name)||"Select voice..."}),Me?u.jsx(Rr,{size:14,className:"flex-shrink-0 text-gray-500"}):u.jsx(xi,{size:14,className:"flex-shrink-0 text-gray-500"})]}),Me&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-[100] overflow-hidden",children:Ce.map(se=>{const Pt=Ne===se.id,ai=Le===se.id;return u.jsxs("button",{onClick:Ln=>{Ln.stopPropagation(),!Ln.target.closest(".preview-button")&&(Re(se.id),Be(!1))},className:`w-full flex items-center gap-2 px-3 py-1.5 border-b border-gray-100 dark:border-gray-700 last:border-b-0 text-left text-xs ${Pt?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,children:[u.jsx("span",{className:"flex-1 text-gray-700 dark:text-gray-300",children:se.name}),u.jsx("span",{className:"preview-button p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors flex-shrink-0",onClick:Ln=>{var xr;Ln.stopPropagation(),ai?((xr=He.current)==null||xr.pause(),ge(null)):He.current&&(He.current.src=se.preview,He.current.play(),ge(se.id))},title:`Preview ${se.name}`,children:ai?u.jsx(ka,{size:14,className:"text-blue-500"}):u.jsx(wa,{size:14,className:"text-gray-600 dark:text-gray-400"})})]},se.id)})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1 block",children:"Text"}),u.jsx("textarea",{value:ee,onChange:se=>te(se.target.value),placeholder:"Enter the text to convert to speech...",className:"w-full px-2 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3,onClick:se=>se.stopPropagation()})]}),v[z]&&v[z].length>0&&!Z&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"Generated Audio:"}),v[z].map((se,Pt)=>{const ai=we&&we.url===se.url,Ln=`${z}-gen-${Pt}`,xr=S===Ln,Zl=xr&&!oe;return u.jsx("button",{onClick:si=>{si.stopPropagation(),a(xn=>({...xn,[z]:se}))},className:`w-full p-2 border rounded bg-gray-50 dark:bg-gray-700/50 transition-all text-left ${ai?"border-blue-500 ring-2 ring-blue-500 ring-opacity-50":"border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500"}`,children:u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("p",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium mb-1",children:[se.voiceName," #",Pt+1]}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 break-words whitespace-normal",children:se.text})]}),u.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[u.jsx("span",{onClick:si=>{var xn,kr;si.stopPropagation(),xr&&!oe?((xn=ve.current)==null||xn.pause(),U(!0)):xr&&oe?((kr=ve.current)==null||kr.play(),U(!1)):ve.current&&(ve.current.src=se.url,ve.current.load(),ve.current.playbackRate=C,ve.current.volume=Q?0:M,ve.current.play().catch(Es=>{console.error("Error playing audio:",Es)}),$(Ln),U(!1))},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:Zl?"Pause":"Play",children:Zl?u.jsx(ka,{size:14,className:"text-blue-500"}):u.jsx(wa,{size:14,className:"text-gray-600 dark:text-gray-400"})}),u.jsx("span",{onClick:si=>{si.stopPropagation(),h(xn=>({...xn,[z]:xn[z].filter((kr,Es)=>Es!==Pt)})),ai&&a(xn=>{const kr={...xn};return delete kr[z],kr})},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"Remove",children:u.jsx(Vr,{size:14,className:"text-gray-700 dark:text-gray-300"})})]})]})},Ln)})]})]}),u.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-blue-200 dark:border-blue-700",children:[u.jsx("button",{onClick:se=>{se.stopPropagation(),Pe(z,K)},disabled:Z||!ee.trim(),className:"flex-1 px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Z?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),u.jsx("span",{children:"Generating..."})]}):"Generate"}),u.jsx("button",{onClick:se=>{se.stopPropagation(),D(null),te("")},disabled:Z,className:"px-3 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded text-sm transition-colors disabled:opacity-50",children:"Cancel"})]})]})]})})},js=async()=>{var z;Vt(!0);try{const K=new sm,G=qe(),de=((z=t.find(ze=>ze.id===T))==null?void 0:z.name)||"Train Line";for(let ze=0;ze<G.length;ze++){const Oe=G[ze],et=i[Oe];if(et!=null&&et.url)try{const vr=await(await fetch(et.url)).blob(),er=`${String(ze+1).padStart(3,"0")}_${et.transcription||Oe}.mp3`.replace(/[^a-z0-9_\-\.]/gi,"_");K.file(er,vr)}catch(Kt){console.error(`Failed to fetch audio for ${Oe}:`,Kt)}}const ye=await K.generateAsync({type:"blob"}),Ae=URL.createObjectURL(ye),we=document.createElement("a");we.href=Ae,we.download=`${de.replace(/[^a-z0-9_\-]/gi,"_")}_audio.zip`,document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(Ae)}catch(K){console.error("Failed to export audio:",K),alert("Failed to export audio files. Please try again.")}finally{Vt(!1)}},Jf=()=>{var K;const z=document.querySelector(".relative.w-full.h-full svg");if(!z){alert("Canvas not found");return}Vt(!0);try{const G=z.cloneNode(!0),de=((K=z.getAttribute("viewBox"))==null?void 0:K.split(" ").map(Number))||[0,0,1200,800];G.setAttribute("width",de[2].toString()),G.setAttribute("height",de[3].toString()),G.setAttribute("xmlns","http://www.w3.org/2000/svg");const ye=G.querySelector("rect.pointer-events-none");ye&&(ye.style.fill="white",ye.removeAttribute("class")),G.querySelectorAll("text").forEach(fn=>{fn.style.fill="#1f2937",fn.removeAttribute("class")}),G.querySelectorAll("rect:not(.grid-dot)").forEach(fn=>{fn.classList.contains("pointer-events-none")||(fn.style.fill="white",fn.removeAttribute("class"))});const ze=new XMLSerializer().serializeToString(G),Oe=document.createElement("canvas"),et=Oe.getContext("2d"),Kt=new window.Image;Oe.width=de[2],Oe.height=de[3];const vr=new Blob([ze],{type:"image/svg+xml;charset=utf-8"}),er=URL.createObjectURL(vr);Kt.onload=()=>{et.fillStyle="white",et.fillRect(0,0,Oe.width,Oe.height),et.drawImage(Kt,0,0),Oe.toBlob(fn=>{var se;const ea=URL.createObjectURL(fn),tr=document.createElement("a"),ta=((se=t.find(Pt=>Pt.id===T))==null?void 0:se.name)||"Train Line";tr.href=ea,tr.download=`${ta.replace(/[^a-z0-9_\-]/gi,"_")}_map.png`,document.body.appendChild(tr),tr.click(),document.body.removeChild(tr),URL.revokeObjectURL(ea),URL.revokeObjectURL(er),Vt(!1)})},Kt.onerror=()=>{URL.revokeObjectURL(er),alert("Failed to export canvas snapshot"),Vt(!1)},Kt.src=er}catch(G){console.error("Failed to export canvas:",G),alert("Failed to export canvas snapshot. Please try again."),Vt(!1)}};return u.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800",children:[u.jsx("audio",{ref:He,onEnded:()=>ge(null),onPause:()=>ge(null)}),u.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[u.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:F("audioControlPanel")}),u.jsxs("div",{className:"flex items-center gap-2",children:[it()>0&&u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 font-medium",children:Gt(m?Yt():it())}),_&&c&&u.jsx("button",{onClick:c,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:u.jsx(Vr,{size:20,className:"text-gray-600 dark:text-gray-400"})})]})]}),t.length>1&&u.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[u.jsx("button",{onClick:()=>{const z=t.findIndex(G=>G.id===T),K=z>0?z-1:t.length-1;I(t[K].id)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Previous line",children:u.jsx(z0,{size:16,className:"text-gray-600 dark:text-gray-400"})}),u.jsx("div",{className:"flex-1 text-center",children:u.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:((Kl=t.find(z=>z.id===T))==null?void 0:Kl.name)||""})}),u.jsx("button",{onClick:()=>{const z=t.findIndex(G=>G.id===T),K=z<t.length-1?z+1:0;I(t[K].id)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Next line",children:u.jsx(P0,{size:16,className:"text-gray-600 dark:text-gray-400"})})]}),_e.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1.5",children:[u.jsxs("button",{onClick:()=>ue(!ne),className:`${Sr} gap-0.5`,title:F("toggleVolume"),children:[Q?u.jsx(Sc,{size:16}):u.jsx(_c,{size:16}),ne?u.jsx(Rr,{size:12,className:"opacity-60"}):u.jsx(xi,{size:12,className:"opacity-60"})]}),u.jsx("button",{onClick:Cs,className:Sr,title:"Previous in Queue",children:u.jsx(B0,{size:16})}),u.jsx("button",{onClick:tn,className:"flex items-center justify-center p-2 rounded-lg transition-colors bg-blue-500 hover:bg-blue-600 text-white",title:"Play/Pause Queue",children:m?u.jsx(ka,{size:18}):u.jsx(wa,{size:18})}),u.jsx("button",{onClick:An,className:Sr,title:"Next in Queue",children:u.jsx(W0,{size:16})}),u.jsxs("button",{onClick:()=>pe(!ae),className:`${Sr} gap-0.5 min-w-[44px]`,title:F("cycleSpeed"),children:[u.jsxs("span",{className:"text-xs font-medium leading-none",children:[C,"x"]}),ae?u.jsx(Rr,{size:12,className:"opacity-60"}):u.jsx(xi,{size:12,className:"opacity-60"})]}),P&&u.jsx("button",{onClick:()=>P(!E),className:`flex items-center justify-center p-1.5 rounded-lg transition-colors ${E?"btn-selected":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:F("displayAudioCaptions"),children:u.jsx(M0,{size:16})})]}),u.jsxs("div",{className:"mb-1.5 px-2 py-1.5 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[u.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[F("audioQueue"),": ",ut+1," / ",qe().length]}),u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:Gt(it())})]}),u.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:u.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-100",style:{width:`${it()>0?(it()-Yt())/it()*100:0}%`}})})]}),ne&&u.jsxs("div",{className:"mb-1.5 p-2 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Volume"}),u.jsxs("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 min-w-[32px] text-right",children:[Math.round((Q?0:M)*100),"%"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{B(!Q),ve.current&&(ve.current.volume=Q?M:0)},className:Sr,title:F(Q?"unmute":"mute"),children:Q?u.jsx(Sc,{size:16}):u.jsx(_c,{size:16})}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:Q?0:M,onChange:z=>{const K=parseFloat(z.target.value);X(K),K>0&&B(!1),ve.current&&(ve.current.volume=K)},className:"flex-1 h-1.5 bg-gray-300 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer"})]})]}),ae&&u.jsxs("div",{className:"mb-1.5 p-2 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Speed"}),u.jsxs("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 min-w-[40px] text-right",children:[C.toFixed(2),"x"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>zt(1),className:Sr,title:"Reset to 1x",children:u.jsx("span",{className:"text-xs font-medium",children:"1x"})}),u.jsx("input",{type:"range",min:"0.5",max:"4",step:"0.05",value:C,onChange:z=>{const K=parseFloat(z.target.value);zt(K)},className:"flex-1 h-1.5 bg-gray-300 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer"})]})]})]}),!y&&t.length>0&&u.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1.5",children:F("setApiKeyToGenerate")})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:t.length===0?u.jsxs("div",{className:"text-center text-gray-400 dark:text-gray-500 mt-6",children:[u.jsx("p",{children:F("noLinesYet")}),u.jsx("p",{className:"text-sm mt-1.5",children:F("createLineFirst")})]}):_e.length===0?u.jsx("div",{className:"text-center text-gray-400 dark:text-gray-500 mt-6",children:u.jsx("p",{children:F("selectLine")})}):u.jsx("div",{className:"flex gap-2",children:u.jsx("div",{className:"flex-1 min-w-0 overflow-visible",children:_e.map((z,K)=>{var ze;let G=K*2;const de=`station-${z.id}`,ye=`between-${z.id}-${(ze=_e[K+1])==null?void 0:ze.id}`,Ae=K===_e.length-1,we=K===0;return u.jsxs("div",{children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"relative flex items-center justify-center flex-shrink-0",style:{width:"20px"},children:[!we&&u.jsx("div",{className:"absolute w-0.5 left-1/2 -translate-x-1/2",style:{bottom:"50%",top:0,backgroundColor:wt,opacity:.6}}),!Ae&&u.jsx("div",{className:"absolute w-0.5 left-1/2 -translate-x-1/2",style:{top:"50%",bottom:0,backgroundColor:wt,opacity:.6}}),Ns(z.id)]}),u.jsx("div",{className:"flex-1 min-w-0",children:ii(de,z.name,z.id,G)})]}),K<_e.length-1&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"flex flex-col items-center flex-shrink-0",style:{width:"20px"},children:u.jsx("div",{className:"w-0.5 flex-1",style:{backgroundColor:wt,opacity:.6}})}),u.jsxs("div",{className:"relative flex-1 my-3 pl-8 pr-0",onMouseEnter:()=>je(ye),onMouseLeave:()=>je(null),children:[u.jsx("div",{className:"absolute left-3 top-0 bottom-0 w-0.5 border-l-2 border-dashed border-gray-300 dark:border-gray-600"}),Ie===ye&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>R(ye),className:"absolute left-3 -translate-x-1/2 top-0 -translate-y-1/2 p-0.5 bg-white dark:bg-gray-800 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors shadow-sm border border-gray-300 dark:border-gray-600 z-10",title:"Add segment",children:u.jsx(Ra,{size:12,className:"text-gray-400 hover:text-blue-500 dark:hover:text-blue-400"})}),(l[ye]||[]).map((Oe,et)=>{var Kt;return u.jsx("button",{onClick:()=>R(ye),className:"absolute left-3 -translate-x-1/2 p-0.5 bg-white dark:bg-gray-800 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors shadow-sm border border-gray-300 dark:border-gray-600 z-10",style:{top:`${(et+1)/((((Kt=l[ye])==null?void 0:Kt.length)||0)+2)*100}%`},title:"Add segment",children:u.jsx(Ra,{size:12,className:"text-gray-400 hover:text-blue-500 dark:hover:text-blue-400"})},`add-${et}`)}),u.jsx("button",{onClick:()=>R(ye),className:"absolute left-3 -translate-x-1/2 bottom-0 translate-y-1/2 p-0.5 bg-white dark:bg-gray-800 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors shadow-sm border border-gray-300 dark:border-gray-600 z-10",title:"Add segment",children:u.jsx(Ra,{size:12,className:"text-gray-400 hover:text-blue-500 dark:hover:text-blue-400"})})]}),u.jsxs("div",{className:"space-y-1.5",children:[ii(ye,ni(ye,"general"),null,G+1),(l[ye]||[]).map(Oe=>u.jsx("div",{children:ii(Oe,ni(Oe,"general"),null,G+1,!0,ye)},Oe))]})]})]}),Ae&&_e.length>1&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"flex-shrink-0",style:{width:"20px"}}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 py-2 px-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700 mt-3",children:[u.jsx(Wf,{size:12,className:"flex-shrink-0"}),u.jsxs("span",{children:["Returns to ",_e[0].name]})]})]})]},`slot-group-${z.id}`)})})})}),_e.length>0&&u.jsx("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex-shrink-0",children:u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400",children:[u.jsx("span",{children:"Download"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:Jf,disabled:vn,className:"flex items-center gap-1 px-2 py-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed hover:text-gray-900 dark:hover:text-gray-200",title:"Download canvas as PNG image",children:[u.jsx(F0,{size:12}),u.jsx("span",{children:"Canvas"})]}),u.jsx("div",{className:"h-3 w-px bg-gray-300 dark:bg-gray-600"}),u.jsxs("button",{onClick:js,disabled:vn||qe().filter(z=>{var K;return(K=i[z])==null?void 0:K.url}).length===0,className:"flex items-center gap-1 px-2 py-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed hover:text-gray-900 dark:hover:text-gray-200",title:`Download ${qe().filter(z=>{var K;return(K=i[z])==null?void 0:K.url}).length} audio files as zip`,children:[u.jsx(D0,{size:12}),u.jsx("span",{children:"Audio"})]})]})]})})]})},Qf=W.forwardRef(({stations:e,setStations:t,setStationsNoHistory:n,lines:r,setLines:i,setStationsAndLines:a,currentTool:s,setCurrentTool:o,selectedStations:l,setSelectedStations:g,gridZoom:w=1,onGridZoomChange:k,language:v="en",lineStyle:h="smooth",onLineStyleChange:y,gridStyle:p="dots",onGridStyleChange:_,showStationNumbers:c=!1,isMobile:f=!1,selectedStationId:x=null,playingStationId:b=null,isStationPlaying:j=!1,showTranscription:E=!1,setShowTranscription:P,currentTranscription:L="",selectedLineId:T=null},I)=>{const{t:F}=ti(v),[S,$]=W.useState({x:0,y:0,width:1200,height:800}),[m,Y]=W.useState(!1),[oe,U]=W.useState({x:0,y:0}),[V,O]=W.useState(null),[J,D]=W.useState(null),[A,fe]=W.useState(null),[ee,te]=W.useState({x:0,y:0}),[Ne,Re]=W.useState(null),[Ce,Le]=W.useState(null),[ge,Me]=W.useState([]),[Be,He]=W.useState([]),[d,Z]=W.useState("#ef4444"),[H,C]=W.useState(!1),[N,M]=W.useState(!1),[X,Q]=W.useState(null),[B,ne]=W.useState(null),[ue,ae]=W.useState(!1),pe=W.useRef(null),Ie=W.useRef(null),je=W.useRef(null),he=30*w,gt=R=>Math.round(R/he)*he;W.useEffect(()=>{const R=e.map(q=>q.gridIndexX!==void 0&&q.gridIndexY!==void 0?{...q,x:q.gridIndexX*he,y:q.gridIndexY*he}:q);n(R)},[w,he]),W.useEffect(()=>{const R=()=>{if(Ie.current){const q=Ie.current.getBoundingClientRect();$(re=>({...re,width:q.width||1200,height:q.height||800}))}};return R(),window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),W.useEffect(()=>{s!=="createLine"&&Me([]),s!=="drawPath"&&He([])},[s]);const Ee=(R,q)=>{if(!pe.current)return{x:0,y:0};const re=pe.current.createSVGPoint();re.x=R,re.y=q;const ce=re.matrixTransform(pe.current.getScreenCTM().inverse());return{x:ce.x,y:ce.y}},rt=()=>{const R=["#ef4444","#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4"],q=r.length;return R[q%R.length]},We=R=>{if(r.length<=1)return null;const q="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return q[R%q.length]},cn=(R,q,re,ce,ke,Te)=>{const Pe=ke-re,bt=Te-ce,ct=Pe*Pe+bt*bt;if(ct===0)return{x:re,y:ce,distance:Math.sqrt((R-re)**2+(q-ce)**2)};let st=((R-re)*Pe+(q-ce)*bt)/ct;st=Math.max(0,Math.min(1,st));const It=re+st*Pe,zt=ce+st*bt,tn=Math.sqrt((R-It)**2+(q-zt)**2);return{x:It,y:zt,distance:tn,t:st}},ut=R=>{const q=he*1;for(const re of r){const ce=re.stations.map(ke=>e.find(Te=>Te.id===ke)).filter(Boolean);if(!(ce.length<2))for(let ke=0;ke<ce.length-1;ke++){const Te=ce[ke],Pe=ce[ke+1];if(cn(R.x,R.y,Te.x,Te.y,Pe.x,Pe.y).distance<=q){const ct=r.map(It=>{if(It.id===re.id){const zt=[...It.stations];return zt.splice(ke+1,0,R.id),{...It,stations:zt}}return It}),st={...R,color:re.color};return a?a([...e,st],ct):(t([...e,st]),i(ct)),!0}}}return t([...e,R]),!1},Je=R=>{if(s==="station"){if(R.target.tagName==="circle"&&R.target.classList.contains("grid-dot")){const q=parseFloat(R.target.getAttribute("cx")),re=parseFloat(R.target.getAttribute("cy")),ce=Math.round(q/he),ke=Math.round(re/he),Te={id:`station-${Date.now()}`,gridIndexX:ce,gridIndexY:ke,x:q,y:re,name:_a(e,v),color:"#3b82f6"};ut(Te)}else if(R.target.tagName==="rect"||R.target===pe.current){const q=Ee(R.clientX,R.clientY),re=Math.round(q.x/he)*he,ce=Math.round(q.y/he)*he,ke=Math.round(re/he),Te=Math.round(ce/he),Pe={id:`station-${Date.now()}`,gridIndexX:ke,gridIndexY:Te,x:re,y:ce,name:_a(e,v),color:"#3b82f6"};ut(Pe)}}else if(s==="createLine"){if(R.target.tagName==="circle"&&R.target.classList.contains("grid-dot")){const q=parseFloat(R.target.getAttribute("cx")),re=parseFloat(R.target.getAttribute("cy")),ce=Math.round(q/he),ke=Math.round(re/he),Te={id:`station-${Date.now()}-${ge.length}`,gridIndexX:ce,gridIndexY:ke,x:q,y:re,name:_a([...e,...ge],v),color:d};Me([...ge,Te])}else if(R.target.tagName==="rect"||R.target===pe.current){const q=Ee(R.clientX,R.clientY),re=Math.round(q.x/he)*he,ce=Math.round(q.y/he)*he,ke=Math.round(re/he),Te=Math.round(ce/he),Pe={id:`station-${Date.now()}-${ge.length}`,gridIndexX:ke,gridIndexY:Te,x:re,y:ce,name:_a([...e,...ge],v),color:d};Me([...ge,Pe])}}else if(s==="drawPath"){if(R.target.tagName==="circle"&&R.target.classList.contains("grid-dot")){const q=parseFloat(R.target.getAttribute("cx")),re=parseFloat(R.target.getAttribute("cy")),ce=Math.round(q/he),ke=Math.round(re/he);He([...Be,{x:q,y:re,gridIndexX:ce,gridIndexY:ke}])}else if(R.target.tagName==="rect"||R.target===pe.current){const q=Ee(R.clientX,R.clientY),re=Math.round(q.x/he)*he,ce=Math.round(q.y/he)*he,ke=Math.round(re/he),Te=Math.round(ce/he);He([...Be,{x:re,y:ce,gridIndexX:ke,gridIndexY:Te}])}}},vn=(R,q)=>{s==="createLine"&&(q.stopPropagation(),ge.length>=2&&ge[0].id===R.id||ge.length>=1&&ge[0].id===R.id?Yt(!0):Me([...ge,R]))},Vt=(R,q)=>{s==="drawPath"&&(q.stopPropagation(),He([...Be,{x:R.x,y:R.y,gridIndexX:R.gridIndexX,gridIndexY:R.gridIndexY}]))},Pn=(R,q)=>{q.stopPropagation(),s==="select"&&O(R)},ve=(R,q)=>{if(s==="select"){q.stopPropagation();const re=Ee(q.clientX,q.clientY);fe(R),O(null),D(null),ne({...R}),te({x:re.x-R.x,y:re.y-R.y})}},dn=(R,q)=>{if(s==="select"&&q.touches.length===1){q.stopPropagation();const re=q.touches[0],ce=Ee(re.clientX,re.clientY);fe(R),O(null),D(null),ne({...R}),te({x:ce.x-R.x,y:ce.y-R.y})}},Se=R=>{const q=e.map(re=>re.id===R.id?R:re);t(q)},$e=R=>{t(e.filter(re=>re.id!==R));const q=r.map(re=>({...re,stations:re.stations.filter(ce=>ce!==R)})).filter(re=>re.stations.length>=2);i(q),O(null)},le=(R,q=!1)=>{const re=r.map(ce=>ce.id===R.id?R:ce);if(q&&R.stations){const ce=e.map(ke=>R.stations.includes(ke.id)?{...ke,color:R.color}:ke);t(ce)}i(re),D(R)},xe=R=>{i(r.filter(q=>q.id!==R)),D(null)},_e=(R,q)=>{s==="select"&&(q.stopPropagation(),D(R),O(null))},wt=R=>{(R.button===1||R.button===0&&R.shiftKey||R.button===0&&s==="select"&&(R.target.tagName==="rect"||R.target===pe.current))&&(Y(!0),U({x:R.clientX,y:R.clientY}),O(null),D(null),R.preventDefault())},Ht=R=>{if(R.touches.length===1){const q=R.touches[0],re=R.target;s==="select"&&(re.tagName==="rect"||re===pe.current)&&(Y(!0),U({x:q.clientX,y:q.clientY}),O(null),D(null),R.preventDefault())}},Tn=R=>{if(R.touches.length===1){const q=R.touches[0],re=Ee(q.clientX,q.clientY);if(Le(re),s==="createLine"||s==="drawPath"||s==="station"){const ce=Math.round(re.x/he)*he,ke=Math.round(re.y/he)*he;Re({x:ce,y:ke})}else Re(null);if(A){R.preventDefault();const ce=gt(re.x-ee.x),ke=gt(re.y-ee.y);n(Te=>Te.map(Pe=>Pe.id===A.id?{...Pe,x:ce,y:ke,gridIndexX:Math.round(ce/he),gridIndexY:Math.round(ke/he)}:Pe))}else if(m){R.preventDefault();const ce=(q.clientX-oe.x)*.5,ke=(q.clientY-oe.y)*.5;$(Te=>({...Te,x:Te.x-ce,y:Te.y-ke})),U({x:q.clientX,y:q.clientY})}}},_t=()=>{qe()},Gt=R=>{const q=Ee(R.clientX,R.clientY);if(Le(q),s==="createLine"||s==="drawPath"||s==="station"){const re=Math.round(q.x/he)*he,ce=Math.round(q.y/he)*he;Re({x:re,y:ce})}else Re(null);if(A){const re=gt(q.x-ee.x),ce=gt(q.y-ee.y);n(ke=>ke.map(Te=>Te.id===A.id?{...Te,x:re,y:ce,gridIndexX:Math.round(re/he),gridIndexY:Math.round(ce/he)}:Te))}else if(m){const re=(R.clientX-oe.x)*.5,ce=(R.clientY-oe.y)*.5;$(ke=>({...ke,x:ke.x-re,y:ke.y-ce})),U({x:R.clientX,y:R.clientY})}},qe=()=>{if(A){const R=r.filter(q=>{const re=q.stations,ce=re[0],ke=re[re.length-1];return A.id===ce||A.id===ke});for(const q of R){const re=q.stations,ce=re[0],ke=re[re.length-1];if(ce===ke||ce===ke)continue;const Te=e.find(ct=>ct.id===ce),Pe=e.find(ct=>ct.id===ke);if(!Te||!Pe||Te.id===Pe.id)continue;if(Math.sqrt(Math.pow(Te.x-Pe.x,2)+Math.pow(Te.y-Pe.y,2))<he/2){Q({line:q,firstStation:{...Te},lastStation:{...Pe},draggedStation:{...A}}),M(!0);return}}t([...e]),ne(null)}Y(!1),fe(null)},it=R=>{if(!X)return;const{line:q,firstStation:re,lastStation:ce,draggedStation:ke}=X;if(R==="cancel")B&&n(Te=>Te.map(Pe=>Pe.id===ke.id?B:Pe));else{const Te=R==="first"?re:ce,Pe=R==="first"?ce:re,bt=r.map(st=>{if(st.id===q.id){const It=st.stations.map(zt=>zt===Pe.id?Te.id:zt);return{...st,stations:It}}return st}),ct=e.filter(st=>st.id!==Pe.id);a?a(ct,bt):(t(ct),i(bt))}M(!1),Q(null),ne(null),fe(null)},Rt=R=>{R.preventDefault(),s==="createLine"&&ge.length>=2?Yt():s==="drawPath"&&Be.length>=2&&Ji()},Yt=(R=!1)=>{if(ge.length>=2){const q=[...e,...ge],re=ge.map(ke=>ke.id);R&&re.push(ge[0].id);const ce={id:`line-${Date.now()}`,name:`Line ${r.length+1}`,stations:re,color:d,tension:.7};t(q),i([...r,ce]),Me([]),Z(rt()),o&&o("select")}},Ji=()=>{if(Be.length>=2){const R={id:`line-${Date.now()}`,name:`Line ${r.length+1}`,stations:[],pathPoints:Be,color:d,tension:.7};i([...r,R]),He([]),Z(rt()),o&&o("select")}},ni=(R=!0)=>{if(e.length===0)return;const q=e.map(tn=>tn.x),re=e.map(tn=>tn.y),ce=(Math.min(...q)+Math.max(...q))/2,ke=(Math.min(...re)+Math.max(...re))/2,Te=ce-S.width/2,Pe=ke-S.height/2;if(je.current&&cancelAnimationFrame(je.current),!R){$(tn=>({...tn,x:Te,y:Pe}));return}C(!0);const bt=S.x,ct=S.y,st=performance.now(),It=600,zt=tn=>{const Cs=tn-st,An=Math.min(Cs/It,1),yr=An<.5?4*An*An*An:1-Math.pow(-2*An+2,3)/2,ri=bt+(Te-bt)*yr,ii=ct+(Pe-ct)*yr;$(js=>({...js,x:ri,y:ii})),An<1?je.current=requestAnimationFrame(zt):C(!1)};je.current=requestAnimationFrame(zt)};W.useImperativeHandle(I,()=>({centerView:ni})),W.useEffect(()=>()=>{je.current&&cancelAnimationFrame(je.current)},[]);const Ns=()=>{if(s==="createLine"&&ge.length>0&&Ne){const R=[...ge,Ne];return u.jsx(to,{line:{stations:[],color:d},stations:[],lineStyle:h,isGhost:!0,ghostPoints:R,color:d})}if(s==="drawPath"&&Be.length>0&&Ne){const R=[...Be,Ne];return u.jsx(to,{line:{stations:[],color:d},stations:[],lineStyle:h,isGhost:!0,ghostPoints:R,color:d})}return null},qi=(R,q,re)=>{if(!c)return R.name;const ce=We(re);return ce?r.length>=2?`${ce}${q+1} ${R.name}`:`${ce}${q+1}: ${R.name}`:`${q+1}. ${R.name}`},St=[...e,...ge];return u.jsxs("div",{ref:Ie,className:"relative w-full h-full bg-gray-50 dark:bg-gray-800",children:[u.jsxs("svg",{ref:pe,viewBox:`${S.x} ${S.y} ${S.width} ${S.height}`,className:"w-full h-full cursor-crosshair",preserveAspectRatio:"xMidYMid slice",onClick:Je,onMouseDown:wt,onMouseMove:Gt,onMouseUp:qe,onMouseLeave:qe,onContextMenu:Rt,onTouchStart:Ht,onTouchMove:Tn,onTouchEnd:_t,children:[u.jsx(Y0,{spacing:he,viewBox:S,zoom:w,currentTool:s,hoverPoint:Ne,gridStyle:p}),r.map((R,q)=>u.jsx(to,{line:R,stations:e,lineStyle:h,onClick:re=>_e(R,re),isEditing:(J==null?void 0:J.id)===R.id},R.id)),Ns(),Be.map((R,q)=>u.jsx("circle",{cx:R.x,cy:R.y,r:"4",fill:d,opacity:"0.7"},`path-point-${q}`)),e.map((R,q)=>{const re=r.find(Pe=>Pe.stations.includes(R.id)),ce=re?r.indexOf(re):0,ke=re?re.stations.indexOf(R.id):q,Te=s==="createLine"&&ge.length>=2&&ge[0].id===R.id;return u.jsx(bc,{station:{...R,name:qi(R,ke,ce)},isSelected:l.some(Pe=>Pe.id===R.id),isDragging:(A==null?void 0:A.id)===R.id,isHighlighted:x===R.id||Te,isPlaying:b===R.id&&j,onClick:Pe=>{s==="createLine"?vn(R,Pe):s==="drawPath"?Vt(R,Pe):Pn(R,Pe)},onMouseDown:Pe=>ve(R,Pe),onTouchStart:Pe=>dn(R,Pe),allStations:St},R.id)}),ge.map((R,q)=>u.jsx(bc,{station:{...R,name:qi(R,q,r.length)},isSelected:!1,isDragging:!1,onClick:()=>{},onMouseDown:()=>{},onTouchStart:()=>{},allStations:St},R.id))]}),(V||J)&&u.jsx(nm,{station:V,line:J,lines:r,stations:e,onUpdateStation:Se,onUpdateLine:le,onDeleteStation:$e,onDeleteLine:xe,setStationsAndLines:a,onClose:()=>{O(null),D(null)},language:v}),r.length>0&&u.jsx("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:r.map(R=>{const q=T===R.id&&r.length>1;return u.jsxs("button",{onClick:()=>{(J==null?void 0:J.id)===R.id?D(null):(D(R),O(null))},className:`flex items-center gap-2 px-3 py-2 rounded-lg shadow-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer ${q?"bg-white dark:bg-gray-800 border border-blue-500":"bg-white dark:bg-gray-800 border border-transparent"}`,children:[u.jsx(ki,{size:16,style:{color:R.color},className:"flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:R.name})]},R.id)})}),E&&L&&u.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 w-full max-w-2xl px-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 px-6 py-3 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 relative",children:[u.jsx("div",{className:"absolute top-3 left-3 flex items-center gap-1 px-1.5 py-0.5 bg-blue-500 text-white rounded",children:u.jsx(Xf,{})}),u.jsx("p",{className:"text-center text-base font-medium text-gray-800 dark:text-gray-200 px-8",children:L})]})}),(s==="station"||s==="createLine"||s==="drawPath")&&u.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 py-2 rounded-lg shadow-md text-sm text-gray-500 dark:text-gray-400 border border-gray-200 dark:border-gray-700 flex items-center gap-2",children:[u.jsx(Qo,{size:14,className:"flex-shrink-0"}),u.jsxs("span",{children:[s==="station"&&F("clickGridToAddStation"),s==="createLine"&&ge.length===0&&F(f?"tapToAddStations":"clickToAddStations"),s==="createLine"&&ge.length>0&&ge.length<2&&"Add more stations or right-click to finish",s==="createLine"&&ge.length>=2&&"Click first station to create loop, or right-click to finish",s==="drawPath"&&F(f?"tapToDrawPath":"clickToDrawPath")]})]})}),u.jsxs("div",{className:"absolute bottom-4 left-4 flex flex-col gap-3 items-start",children:[ue&&u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 px-1",children:F("lineStyle")}),u.jsxs("div",{className:"flex gap-0 border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden shadow-md",style:{backgroundColor:"var(--toolbar-group-bg)"},children:[u.jsx("button",{onClick:()=>y("direct"),className:`flex items-center justify-center w-10 h-10 transition-colors ${h==="direct"?"btn-selected":"btn-unselected"}`,title:F("lineStyleDirect"),children:u.jsx("span",{className:"text-lg font-medium",children:"─"})}),u.jsx("button",{onClick:()=>y("minimal"),className:`flex items-center justify-center w-10 h-10 transition-colors ${h==="minimal"?"btn-selected":"btn-unselected"}`,title:F("lineStyleMinimal"),children:u.jsx("i",{className:"ri-loader-5-fill text-lg"})}),u.jsx("button",{onClick:()=>y("smooth"),className:`flex items-center justify-center w-10 h-10 transition-colors ${h==="smooth"?"btn-selected":"btn-unselected"}`,title:F("lineStyleSmooth"),children:u.jsx("span",{className:"text-xl",children:"∿"})})]})]}),ue&&u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 px-1",children:F("gridStyle")}),u.jsxs("div",{className:"flex gap-0 border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden shadow-md",style:{backgroundColor:"var(--toolbar-group-bg)"},children:[u.jsx("button",{onClick:()=>_("none"),className:`flex items-center justify-center w-10 h-10 transition-colors ${p==="none"?"btn-selected":"btn-unselected"}`,title:F("gridStyleNone"),children:u.jsx(Bf,{size:18})}),u.jsx("button",{onClick:()=>_("dots"),className:`flex items-center justify-center w-10 h-10 transition-colors ${p==="dots"?"btn-selected":"btn-unselected"}`,title:F("gridStyleDots"),children:u.jsx(A0,{size:18})}),u.jsx("button",{onClick:()=>_("horizontal"),className:`flex items-center justify-center w-10 h-10 transition-colors ${p==="horizontal"?"btn-selected":"btn-unselected"}`,title:F("gridStyleHorizontal"),children:u.jsx(hc,{size:18})}),u.jsx("button",{onClick:()=>_("vertical"),className:`flex items-center justify-center w-10 h-10 transition-colors ${p==="vertical"?"btn-selected":"btn-unselected"}`,title:F("gridStyleVertical"),children:u.jsx(hc,{size:18,style:{transform:"rotate(90deg)"}})}),u.jsx("button",{onClick:()=>_("grid"),className:`flex items-center justify-center w-10 h-10 transition-colors ${p==="grid"?"btn-selected":"btn-unselected"}`,title:F("gridStyleGrid"),children:u.jsx(Ra,{size:18})}),u.jsx("button",{onClick:()=>_("diagonal"),className:`flex items-center justify-center w-10 h-10 transition-colors ${p==="diagonal"?"btn-selected":"btn-unselected"}`,title:F("gridStyleDiagonal"),children:u.jsx(Vr,{size:18})})]})]}),u.jsxs("button",{onClick:()=>ae(!ue),className:"flex items-center gap-2 bg-white dark:bg-gray-800 px-4 py-2 rounded-lg shadow-md text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors border border-gray-200 dark:border-gray-700",children:[u.jsx(R0,{size:16}),u.jsx("span",{className:"font-medium",children:F("canvasStyle")}),ue?u.jsx(Rr,{size:16}):u.jsx(xi,{size:16})]}),u.jsxs("div",{className:"flex gap-3 items-center",children:[u.jsxs("button",{onClick:ni,disabled:e.length===0,className:"flex items-center gap-2 bg-white dark:bg-gray-800 px-4 py-2 rounded-lg shadow-md text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed border border-gray-200 dark:border-gray-700",children:[u.jsx(U0,{size:16}),u.jsx("span",{children:F("centerView")})]}),u.jsxs("div",{className:"flex gap-0 rounded-lg overflow-hidden shadow-md border border-gray-200 dark:border-gray-700",children:[u.jsx("button",{onClick:()=>k(Math.max(.5,w-.1)),className:"flex items-center justify-center w-10 h-10 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:F("zoom")+" Out",children:u.jsx(G0,{size:16})}),u.jsx("button",{onClick:()=>k(Math.min(2,w+.1)),className:"flex items-center justify-center w-10 h-10 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:F("zoom")+" In",children:u.jsx(H0,{size:16})})]})]}),s==="createLine"&&ge.length>=2&&u.jsxs("button",{onClick:Yt,className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-md text-sm hover:bg-green-600 transition-colors border border-green-500",children:[u.jsx(uc,{size:16}),u.jsx("span",{children:F("finishLine")})]}),s==="drawPath"&&Be.length>=2&&u.jsxs("button",{onClick:Ji,className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-md text-sm hover:bg-green-600 transition-colors border border-green-500",children:[u.jsx(uc,{size:16}),u.jsx("span",{children:F("finishLine")})]})]}),N&&X&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 max-w-md w-full mx-4",children:[u.jsx("h3",{className:"text-base font-bold text-gray-800 dark:text-gray-200 mb-2",children:F("createLoopLine")}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:F("selectLoopStation")}),u.jsxs("div",{className:"flex gap-2 mb-3",children:[u.jsx("button",{onClick:()=>it("first"),className:"flex-1 px-3 py-2 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:X.line.color}}),u.jsx("span",{className:"font-medium text-sm",children:X.firstStation.name})]}),u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:F("firstStation")})]})}),u.jsx("button",{onClick:()=>it("last"),className:"flex-1 px-3 py-2 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:X.line.color}}),u.jsx("span",{className:"font-medium text-sm",children:X.lastStation.name})]}),u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:F("lastStation")})]})})]}),u.jsx("button",{onClick:()=>it("cancel"),className:"w-full px-3 py-2 bg-transparent hover:bg-gray-50 dark:hover:bg-gray-700/50 text-gray-600 dark:text-gray-300 rounded-lg transition-colors text-sm border border-gray-300 dark:border-gray-600",children:F("cancel")})]})})]})});Qf.displayName="MapEditor";const lm=({currentTool:e,onToolChange:t,onShowApiKey:n,hasApiKey:r,isDarkMode:i,onToggleDarkMode:a,gridZoom:s,onGridZoomChange:o,onReset:l,language:g,onLanguageChange:w,lineStyle:k,onLineStyleChange:v,onUndo:h,onRedo:y,canUndo:p,canRedo:_,isMobile:c,showMobileHeader:f,onToggleMobileHeader:x,showStationNumbers:b,onToggleStationNumbers:j})=>{var F;const{t:E}=ti(g),[P,L]=W.useState(!1),T=W.useRef(null),I=[{id:"select",icon:pc,label:E("selectTool")},{id:"station",icon:os,label:E("addStationTool")},{id:"createLine",icon:cc,label:E("createTrainLineTool")},{id:"drawPath",icon:gc,label:E("drawPathTool")}];return W.useEffect(()=>{const S=$=>{T.current&&!T.current.contains($.target)&&L(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]),u.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-2 md:px-4 py-2 md:py-3 transition-colors",children:[u.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:()=>window.location.reload(),className:"text-xl font-bold text-gray-800 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 transition-all duration-200 hover:scale-105 cursor-pointer",title:"Refresh page",children:E("appTitle")}),u.jsxs("div",{className:"flex gap-0 border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden",style:{backgroundColor:"var(--toolbar-group-bg)"},children:[u.jsxs("button",{onClick:()=>t("select"),className:`flex items-center gap-2 px-4 py-2 transition-colors ${e==="select"?"btn-selected":"btn-unselected"}`,children:[u.jsx(pc,{size:18}),u.jsx("span",{className:"text-sm font-medium",children:E("selectTool")})]}),u.jsxs("button",{onClick:()=>t("createLine"),className:`flex items-center gap-2 px-4 py-2 transition-colors ${e==="createLine"?"btn-selected":"btn-unselected"}`,children:[u.jsx(cc,{size:18}),u.jsx("span",{className:"text-sm font-medium",children:E("createTrainLineTool")})]}),(e==="createLine"||e==="station"||e==="drawPath")&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>t("station"),className:`flex items-center gap-2 px-4 py-2 transition-colors ${e==="station"?"btn-selected":"btn-unselected"}`,children:[u.jsx(os,{size:18}),u.jsx("span",{className:"text-sm font-medium",children:E("addStationTool")})]}),u.jsxs("button",{onClick:()=>t("drawPath"),className:`flex items-center gap-2 px-4 py-2 transition-colors ${e==="drawPath"?"btn-selected":"btn-unselected"}`,children:[u.jsx(gc,{size:18}),u.jsx("span",{className:"text-sm font-medium",children:E("drawPathTool")})]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:j,className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${b?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:E(b?"hideStationNumbers":"showStationNumbers"),children:u.jsx(O0,{size:18})}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:h,disabled:!p,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-40 disabled:cursor-not-allowed",title:E("undo"),children:u.jsx(wc,{size:18})}),u.jsx("button",{onClick:y,disabled:!_,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-40 disabled:cursor-not-allowed",title:E("redo"),children:u.jsx(vc,{size:18})})]}),u.jsx("button",{onClick:l,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:E("resetToDefault"),children:u.jsx(Wf,{size:18})}),u.jsxs("div",{className:"relative",ref:T,children:[u.jsxs("button",{onClick:()=>L(!P),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Language",children:[u.jsx(I0,{size:18}),u.jsx("span",{className:"text-lg",children:(F=jc.find(S=>S.code===g))==null?void 0:F.flag})]}),P&&u.jsx("div",{className:"absolute top-full right-0 mt-1 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-1 z-[100]",children:jc.map(S=>u.jsxs("button",{onClick:()=>{w(S.code),L(!1)},className:`w-full flex items-center gap-3 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${g===S.code?"bg-blue-50 dark:bg-blue-900/30":""}`,children:[u.jsx("span",{className:"text-xl",children:S.flag}),u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:S.name})]},S.code))})]}),u.jsx("button",{onClick:a,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:E(i?"switchToLightMode":"switchToDarkMode"),children:u.jsx("i",{className:`${i?"ri-sun-fill":"ri-moon-fill"} text-lg`})}),u.jsxs("button",{onClick:n,className:`flex items-center gap-2 px-2 md:px-4 py-2 rounded-lg transition-colors ${r?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800":"bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-800"}`,children:[u.jsx(dc,{size:18}),u.jsx("span",{className:"text-sm font-medium",children:E(r?"apiKeySet":"setApiKey")})]})]})]}),u.jsxs("div",{className:"md:hidden flex items-center justify-between gap-2",children:[u.jsx("div",{className:"flex gap-1",children:I.map(S=>u.jsx("button",{onClick:()=>t(S.id),className:`flex items-center justify-center w-10 h-10 rounded-lg transition-colors ${e===S.id?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,title:S.label,children:u.jsx(S.icon,{size:18})},S.id))}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:h,disabled:!p,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors disabled:opacity-40",title:E("undo"),children:u.jsx(wc,{size:16})}),u.jsx("button",{onClick:y,disabled:!_,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors disabled:opacity-40",title:E("redo"),children:u.jsx(vc,{size:16})}),u.jsx("button",{onClick:a,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:u.jsx("i",{className:`${i?"ri-sun-fill":"ri-moon-fill"}`})}),u.jsx("button",{onClick:n,className:`flex items-center justify-center w-9 h-9 rounded-lg ${r?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:u.jsx(dc,{size:16})}),u.jsx("button",{onClick:x,className:"flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:u.jsx(Rr,{size:16})})]})]})]})},um=({onSave:e,onClose:t,initialKey:n,language:r="en"})=>{const{t:i}=ti(r),[a,s]=W.useState(n),[o,l]=W.useState(!1),g=()=>{a.trim()&&e(a.trim())},w=k=>{k.target===k.currentTarget&&t()};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:w,children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:i("elevenLabsApiKey")}),u.jsx("button",{onClick:t,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:u.jsx(Vr,{size:20})})]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:i("apiKeyDescription")}),u.jsx("div",{className:"mb-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:o?"text":"password",value:a,onChange:k=>s(k.target.value),placeholder:i("apiKeyPlaceholder"),className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),u.jsx("button",{onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:o?u.jsx(Bf,{size:18}):u.jsx(L0,{size:18})})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:g,disabled:!a.trim(),className:"flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed",children:i("saveKey")}),u.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:i("cancel")})]}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4",children:[i("getApiKeyFrom")," ",u.jsx("a",{href:"https://elevenlabs.io",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"elevenlabs.io"})]})]})})},ls=[{id:"simple",name:"Simple Demo",description:"A simple 4-station demo route",fullDescription:"Four stations in a simple loop. Good for testing the announcement system.",stations:[{id:"station-1",x:300,y:200,name:"Central Station",color:"#8b5cf6"},{id:"station-2",x:450,y:200,name:"North Station",color:"#8b5cf6"},{id:"station-3",x:450,y:350,name:"East Station",color:"#8b5cf6"},{id:"station-4",x:300,y:350,name:"South Station",color:"#8b5cf6"}],lines:[{id:"demo-line",name:"Demo Line",color:"#8b5cf6",tension:.7,stations:["station-1","station-2","station-3","station-4","station-1"]}]},{id:"yamanote",name:"Yamanote Line",description:"Japan",fullDescription:"Tokyo's circular line with 21 stations. Connects major areas around central Tokyo.",stations:[{id:"tokyo",x:390,y:240,name:"Tokyo",color:"#10b981"},{id:"yurakucho",x:360,y:210,name:"Yurakucho",color:"#10b981"},{id:"shimbashi",x:330,y:180,name:"Shimbashi",color:"#10b981"},{id:"hamamatsucho",x:300,y:180,name:"Hamamatsucho",color:"#10b981"},{id:"tamachi",x:270,y:210,name:"Tamachi",color:"#10b981"},{id:"shinagawa",x:270,y:270,name:"Shinagawa",color:"#10b981"},{id:"osaki",x:270,y:330,name:"Osaki",color:"#10b981"},{id:"gotanda",x:300,y:360,name:"Gotanda",color:"#10b981"},{id:"meguro",x:330,y:390,name:"Meguro",color:"#10b981"},{id:"ebisu",x:360,y:390,name:"Ebisu",color:"#10b981"},{id:"shibuya",x:420,y:390,name:"Shibuya",color:"#10b981"},{id:"harajuku",x:450,y:360,name:"Harajuku",color:"#10b981"},{id:"yoyogi",x:480,y:330,name:"Yoyogi",color:"#10b981"},{id:"shinjuku",x:510,y:300,name:"Shinjuku",color:"#10b981"},{id:"shin-okubo",x:540,y:270,name:"Shin-Okubo",color:"#10b981"},{id:"takadanobaba",x:570,y:240,name:"Takadanobaba",color:"#10b981"},{id:"ikebukuro",x:570,y:180,name:"Ikebukuro",color:"#10b981"},{id:"uguisudani",x:510,y:120,name:"Uguisudani",color:"#10b981"},{id:"ueno",x:450,y:120,name:"Ueno",color:"#10b981"},{id:"akihabara",x:420,y:180,name:"Akihabara",color:"#10b981"},{id:"kanda",x:420,y:210,name:"Kanda",color:"#10b981"}],lines:[{id:"yamanote-line",name:"Yamanote Line",color:"#10b981",tension:.5,stations:["tokyo","yurakucho","shimbashi","hamamatsucho","tamachi","shinagawa","osaki","gotanda","meguro","ebisu","shibuya","harajuku","yoyogi","shinjuku","shin-okubo","takadanobaba","ikebukuro","uguisudani","ueno","akihabara","kanda","tokyo"]}]},{id:"chuo",name:"Chuo Line",description:"Japan",fullDescription:"East-west line through central Tokyo. Orange trains connect Tokyo Station to western suburbs.",stations:[{id:"tokyo-c",x:150,y:300,name:"Tokyo",color:"#f97316"},{id:"kanda-c",x:210,y:300,name:"Kanda",color:"#f97316"},{id:"ochanomizu",x:270,y:300,name:"Ochanomizu",color:"#f97316"},{id:"yotsuya",x:330,y:300,name:"Yotsuya",color:"#f97316"},{id:"shinjuku-c",x:390,y:300,name:"Shinjuku",color:"#f97316"},{id:"nakano",x:450,y:300,name:"Nakano",color:"#f97316"},{id:"koenji",x:510,y:300,name:"Koenji",color:"#f97316"},{id:"asagaya",x:570,y:300,name:"Asagaya",color:"#f97316"},{id:"ogikubo",x:630,y:300,name:"Ogikubo",color:"#f97316"}],lines:[{id:"chuo-line",name:"Chuo Line",color:"#f97316",tension:.3,stations:["tokyo-c","kanda-c","ochanomizu","yotsuya","shinjuku-c","nakano","koenji","asagaya","ogikubo"]}]},{id:"ginza",name:"Ginza Line",description:"Japan",fullDescription:"Tokyo's oldest subway line from 1927. Runs from Shibuya to Asakusa through Ginza and Ueno.",stations:[{id:"shibuya-g",x:150,y:450,name:"Shibuya",color:"#f59e0b"},{id:"omotesando",x:210,y:420,name:"Omotesando",color:"#f59e0b"},{id:"gaiemmae",x:270,y:390,name:"Gaiemmae",color:"#f59e0b"},{id:"aoyama-itchome",x:330,y:360,name:"Aoyama-itchome",color:"#f59e0b"},{id:"akasaka-mitsuke",x:390,y:330,name:"Akasaka-mitsuke",color:"#f59e0b"},{id:"ginza-g",x:450,y:300,name:"Ginza",color:"#f59e0b"},{id:"nihombashi",x:510,y:270,name:"Nihombashi",color:"#f59e0b"},{id:"ueno-g",x:570,y:240,name:"Ueno",color:"#f59e0b"},{id:"asakusa",x:630,y:210,name:"Asakusa",color:"#f59e0b"}],lines:[{id:"ginza-line",name:"Ginza Line",color:"#f59e0b",tension:.6,stations:["shibuya-g","omotesando","gaiemmae","aoyama-itchome","akasaka-mitsuke","ginza-g","nihombashi","ueno-g","asakusa"]}]},{id:"taiyokei",name:"Taiyokei Line",description:"Solar System train line from Mercury to Pluto in Japanese",fullDescription:"Solar system route with Japanese announcements. Stations from Mercury to Pluto.",stations:[{id:"mercury",x:100,y:250,name:"水星 (Suisei)",color:"#000000"},{id:"venus",x:160,y:220,name:"金星 (Kinsei)",color:"#000000"},{id:"earth",x:230,y:200,name:"地球中央 (Chikyū Chūō)",color:"#000000"},{id:"mars",x:310,y:190,name:"火星 (Kasei)",color:"#000000"},{id:"jupiter",x:400,y:200,name:"木星 (Mokusei)",color:"#000000"},{id:"saturn",x:490,y:220,name:"土星 (Dosei)",color:"#000000"},{id:"uranus",x:570,y:250,name:"天王星 (Ten'ōsei)",color:"#000000"},{id:"neptune",x:640,y:290,name:"海王星 (Kaiōsei)",color:"#000000"},{id:"pluto",x:700,y:340,name:"冥王星 (Meiōsei)",color:"#000000"}],lines:[{id:"taiyokei-line",name:"Taiyokei Line",color:"#000000",tension:.4,stations:["mercury","venus","earth","mars","jupiter","saturn","uranus","neptune","pluto"]}],audioAssignments:{"station-mercury":{type:"preset",filename:"Taioykei Mercury JP.mp3",name:"Mercury Arrival",transcription:"太陽系線をご利用くださいまして、ありがとうございます。 この電車は、冥王星ゆきです。停車駅は、金星、地球中央駅、火星、木星、土星、天王星、海王星、冥王星です。次は金星です。"},"between-mercury-venus":{type:"preset",filename:"Taioykei Dep Mercury JP.mp3",name:"Mercury Departure",transcription:"次は金星です。"},"station-venus":{type:"preset",filename:"Taioykei Venus JP.mp3",name:"Venus Arrival",transcription:"金星。金星。"},"between-venus-earth":{type:"preset",filename:"Taioykei Dep Venus JP.mp3",name:"Venus Departure",transcription:"次は地球中央駅です。"},"station-earth":{type:"preset",filename:"Taioykei Earth JP.mp3",name:"Earth Arrival",transcription:"地球中央駅。地球中央駅。"},"between-earth-mars":{type:"preset",filename:"Taioykei Dep Earth JP.mp3",name:"Earth Departure",transcription:"次は火星です。"},"station-mars":{type:"preset",filename:"Taioykei Mars JP.mp3",name:"Mars Arrival",transcription:"火星。火星。"},"between-mars-jupiter":{type:"preset",filename:"Taioykei Dep Mars JP.mp3",name:"Mars Departure",transcription:"次は木星です。"},"station-jupiter":{type:"preset",filename:"Taioykei Jupiter JP.mp3",name:"Jupiter Arrival",transcription:"木星。木星。"},"between-jupiter-saturn":{type:"preset",filename:"Taioykei Dep Jupiter JP.mp3",name:"Jupiter Departure",transcription:"次は土星です。"},"station-saturn":{type:"preset",filename:"Taioykei Saturn JP.mp3",name:"Saturn Arrival",transcription:"土星。土星。"},"between-saturn-uranus":{type:"preset",filename:"Taioykei Dep Saturn JP.mp3",name:"Saturn Departure",transcription:"次は天王星です。"},"station-uranus":{type:"preset",filename:"Taioykei Uranus JP.mp3",name:"Uranus Arrival",transcription:"天王星。天王星。"},"between-uranus-neptune":{type:"preset",filename:"Taioykei Dep Uranus JP.mp3",name:"Uranus Departure",transcription:"次は海王星です。"},"station-neptune":{type:"preset",filename:"Taioykei Neptune JP.mp3",name:"Neptune Arrival",transcription:"海王星。海王星。"},"between-neptune-pluto":{type:"preset",filename:"Taioykei Dep Neptune JP.mp3",name:"Neptune Departure",transcription:"次は冥王星です。"},"station-pluto":{type:"preset",filename:"Taioykei Pluto JP.mp3",name:"Pluto Arrival",transcription:"冥王星。冥王星。"}}},{id:"taiyokei-en",name:"Solar Express",description:"Solar System train line from Mercury to Pluto in English",fullDescription:"Solar system route with English announcements. Stations from Mercury to Pluto.",stations:[{id:"mercury-en",x:100,y:250,name:"Mercury",color:"#4a5568"},{id:"venus-en",x:160,y:220,name:"Venus",color:"#4a5568"},{id:"earth-en",x:230,y:200,name:"Earth",color:"#4a5568"},{id:"mars-en",x:310,y:190,name:"Mars",color:"#4a5568"},{id:"jupiter-en",x:400,y:200,name:"Jupiter",color:"#4a5568"},{id:"saturn-en",x:490,y:220,name:"Saturn",color:"#4a5568"},{id:"uranus-en",x:570,y:250,name:"Uranus",color:"#4a5568"},{id:"neptune-en",x:640,y:290,name:"Neptune",color:"#4a5568"},{id:"pluto-en",x:700,y:340,name:"Pluto",color:"#4a5568"}],lines:[{id:"taiyokei-line-en",name:"Solar Express",color:"#4a5568",tension:.4,stations:["mercury-en","venus-en","earth-en","mars-en","jupiter-en","saturn-en","uranus-en","neptune-en","pluto-en"]}],audioAssignments:{"station-mercury-en":{type:"preset",filename:"Taioykei Mercury EN.mp3",name:"Mercury Arrival",transcription:"Thank you for using the Solar Express. This train is bound for Pluto. We will stop at Venus, Earth, Mars, Jupiter, Saturn, Uranus, Neptune, and Pluto. The next station is Venus."},"between-mercury-en-venus-en":{type:"preset",filename:"Taioykei Dep Mercury EN.mp3",name:"Mercury Departure",transcription:"The next station is Venus."},"station-venus-en":{type:"preset",filename:"Taioykei Venus EN.mp3",name:"Venus Arrival",transcription:"Venus. Venus."},"between-venus-en-earth-en":{type:"preset",filename:"Taioykei Dep Venus EN.mp3",name:"Venus Departure",transcription:"The next station is Earth Central Station."},"station-earth-en":{type:"preset",filename:"Taioykei Earth EN.mp3",name:"Earth Arrival",transcription:"Earth Central Station. Earth Central Station."},"between-earth-en-mars-en":{type:"preset",filename:"Taioykei Dep Earth EN.mp3",name:"Earth Departure",transcription:"The next station is Mars."},"station-mars-en":{type:"preset",filename:"Taioykei Mars EN.mp3",name:"Mars Arrival",transcription:"Mars. Mars."},"between-mars-en-jupiter-en":{type:"preset",filename:"Taioykei Dep Mars EN.mp3",name:"Mars Departure",transcription:"The next station is Jupiter."},"station-jupiter-en":{type:"preset",filename:"Taioykei Jupiter EN.mp3",name:"Jupiter Arrival",transcription:"Jupiter. Jupiter."},"between-jupiter-en-saturn-en":{type:"preset",filename:"Taioykei Dep Jupiter EN.mp3",name:"Jupiter Departure",transcription:"The next station is Saturn."},"station-saturn-en":{type:"preset",filename:"Taioykei Saturn EN.mp3",name:"Saturn Arrival",transcription:"Saturn. Saturn."},"between-saturn-en-uranus-en":{type:"preset",filename:"Taioykei Dep Saturn EN.mp3",name:"Saturn Departure",transcription:"The next station is Uranus."},"station-uranus-en":{type:"preset",filename:"Taioykei Uranus EN.mp3",name:"Uranus Arrival",transcription:"Uranus. Uranus."},"between-uranus-en-neptune-en":{type:"preset",filename:"Taioykei Dep Uranus EN.mp3",name:"Uranus Departure",transcription:"The next station is Neptune."},"station-neptune-en":{type:"preset",filename:"Taioykei Neptune EN.mp3",name:"Neptune Arrival",transcription:"Neptune. Neptune."},"between-neptune-en-pluto-en":{type:"preset",filename:"Taioykei Dep Neptune EN.mp3",name:"Neptune Departure",transcription:"The next station is Pluto."},"station-pluto-en":{type:"preset",filename:"Taioykei Pluto EN.mp3",name:"Pluto Arrival",transcription:"Pluto. Pluto."}}}],cm=({onLoadPreset:e,currentPresetId:t,language:n="en",isMobile:r,onClose:i})=>{const{t:a}=ti(n),s=ls.find(o=>o.id===t);return u.jsxs("div",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[u.jsx($0,{size:20}),a("trainLinePresets")]}),r&&i&&u.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:u.jsx(Vr,{size:20,className:"text-gray-600 dark:text-gray-400"})})]}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:a("loadPresetHint")})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:ls.map(o=>u.jsx("button",{onClick:()=>e(o),className:`w-full text-left p-3 rounded-lg transition-all hover:border-blue-400 hover:shadow-md ${t===o.id?"btn-selected":"btn-unselected"}`,children:u.jsxs("div",{className:"flex flex-col gap-1.5",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 text-sm",children:a(o.name)}),t===o.id?u.jsx("div",{className:"px-2 py-1 bg-blue-500 text-white text-xs rounded flex-shrink-0",children:a("active")}):u.jsx(E0,{size:16,className:"text-gray-400 dark:text-gray-500 flex-shrink-0"})]}),u.jsxs("div",{className:"flex items-center justify-between mt-0.5",children:[u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:a(o.description)}),u.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-400 ml-2 flex-shrink-0",children:[u.jsx(T0,{size:12}),u.jsxs("span",{children:[o.stations.length," ",a("stations")]})]})]})]})},o.id))}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex-shrink-0",children:s&&s.fullDescription?u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:a(s.fullDescription)}):u.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["💡 ",a("clickPresetToLoad")]})})]})};function dm(){const[e,t]=W.useState([]),[n,r]=W.useState([]),[i,a]=W.useState([]),[s,o]=W.useState({}),[l,g]=W.useState({}),[w,k]=W.useState({}),[v,h]=W.useState([]),[y,p]=W.useState({}),[_,c]=W.useState("select"),[f,x]=W.useState([]),[b,j]=W.useState(sessionStorage.getItem("elevenLabsApiKey")||""),[E,P]=W.useState(!1),[L,T]=W.useState(null),[I,F]=W.useState(()=>localStorage.getItem("darkMode")==="true"),[S,$]=W.useState(1),[m,Y]=W.useState(()=>localStorage.getItem("language")||"en"),[oe,U]=W.useState(!1),[V,O]=W.useState(!1),[J,D]=W.useState(!1),[A,fe]=W.useState(!0),[ee,te]=W.useState(()=>localStorage.getItem("lineStyle")||"smooth"),[Ne,Re]=W.useState(()=>localStorage.getItem("gridStyle")||"dots"),[Ce,Le]=W.useState([]),[ge,Me]=W.useState(-1),Be=W.useRef(-1),He=W.useRef(null),[d,Z]=W.useState(!1),[H,C]=W.useState(null),[N,M]=W.useState(null),[X,Q]=W.useState(!1),[B,ne]=W.useState(!1),[ue,ae]=W.useState(""),[pe,Ie]=W.useState(null);W.useEffect(()=>{const le=ls.find(xe=>xe.id==="simple");le&&e.length===0&&he(le)},[]),W.useEffect(()=>{localStorage.setItem("darkMode",I.toString());const le=document.documentElement,xe=document.body;le.classList.remove("dark"),xe&&xe.classList.remove("dark"),I&&(le.classList.add("dark"),xe&&xe.classList.add("dark"))},[I]),W.useEffect(()=>{localStorage.setItem("language",m)},[m]),W.useEffect(()=>{localStorage.setItem("lineStyle",ee)},[ee]),W.useEffect(()=>{localStorage.setItem("gridStyle",Ne)},[Ne]),W.useEffect(()=>{const le=()=>U(window.innerWidth<768);return le(),window.addEventListener("resize",le),()=>window.removeEventListener("resize",le)},[]);const je=W.useCallback(le=>{sessionStorage.setItem("elevenLabsApiKey",le),j(le),P(!1)},[]),he=W.useCallback(le=>{const _e=le.stations.map(Rt=>({...Rt,gridIndexX:Rt.gridIndexX??Math.round(Rt.x/30),gridIndexY:Rt.gridIndexY??Math.round(Rt.y/30)})),wt={},Ht=le.audioAssignments||{};Object.keys(Ht).forEach(Rt=>{const Yt=Ht[Rt];Yt.filename?wt[Rt]={...Yt,url:Kf(Yt.filename)}:wt[Rt]=Yt});const Tn=wt,_t=le.announcementTypes||{},Gt=le.betweenSegments||{},qe=le.uploadedAudios||[],it={};t(_e),r(le.lines),o(Tn),g(_t),k(Gt),h(qe),p(it),Le([{stations:_e,lines:le.lines,audioAssignments:Tn,announcementTypes:_t,betweenSegments:Gt,uploadedAudios:qe,generatedAudioHistory:it}]),Me(0),T(le.id),x([]),a([])},[]),gt=()=>{F(!I)};W.useEffect(()=>{Be.current=ge},[ge]);const Ee=W.useCallback((le,xe,_e,wt,Ht,Tn,_t)=>{const Gt={stations:structuredClone(le),lines:structuredClone(xe),audioAssignments:structuredClone(_e),announcementTypes:structuredClone(wt),betweenSegments:structuredClone(Ht),uploadedAudios:structuredClone(Tn),generatedAudioHistory:structuredClone(_t)};Le(qe=>{const it=qe.slice(0,Be.current+1);return it.push(Gt),it.length>100&&it.shift(),it}),Me(qe=>Math.min(qe+1,99))},[]),rt=W.useCallback(le=>{typeof le=="function"?t(xe=>{const _e=le(xe);return Ee(_e,n,s,l,w,v,y),_e}):(Ee(le,n,s,l,w,v,y),t(le))},[n,s,l,w,v,y,Ee]),We=W.useCallback(le=>{typeof le=="function"?r(xe=>{const _e=le(xe);return Ee(e,_e,s,l,w,v,y),_e}):(Ee(e,le,s,l,w,v,y),r(le))},[e,s,l,w,v,y,Ee]),cn=W.useCallback(le=>{typeof le=="function"?o(xe=>{const _e=le(xe);return Ee(e,n,_e,l,w,v,y),_e}):(Ee(e,n,le,l,w,v,y),o(le))},[e,n,l,w,v,y,Ee]),ut=W.useCallback(le=>{typeof le=="function"?g(xe=>{const _e=le(xe);return Ee(e,n,s,_e,w,v,y),_e}):(Ee(e,n,s,le,w,v,y),g(le))},[e,n,s,w,v,y,Ee]),Je=W.useCallback(le=>{typeof le=="function"?k(xe=>{const _e=le(xe);return Ee(e,n,s,l,_e,v,y),_e}):(Ee(e,n,s,l,le,v,y),k(le))},[e,n,s,l,v,y,Ee]),vn=W.useCallback(le=>{typeof le=="function"?h(xe=>{const _e=le(xe);return Ee(e,n,s,l,w,_e,y),_e}):(Ee(e,n,s,l,w,le,y),h(le))},[e,n,s,l,w,y,Ee]),Vt=W.useCallback(le=>{typeof le=="function"?p(xe=>{const _e=le(xe);return Ee(e,n,s,l,w,v,_e),_e}):(Ee(e,n,s,l,w,v,le),p(le))},[e,n,s,l,w,v,Ee]),Pn=W.useCallback((le,xe)=>{const _e=typeof le=="function"?le(e):le,wt=typeof xe=="function"?xe(n):xe;Ee(_e,wt,s,l,w,v,y),t(_e),r(wt)},[e,n,s,l,w,v,y,Ee]),ve=()=>{if(ge>0){const le=ge-1;Me(le);const xe=Ce[le];t(xe.stations),r(xe.lines),o(xe.audioAssignments||{}),g(xe.announcementTypes||{}),k(xe.betweenSegments||{}),h(xe.uploadedAudios||[]),p(xe.generatedAudioHistory||{})}},dn=()=>{if(ge<Ce.length-1){const le=ge+1;Me(le);const xe=Ce[le];t(xe.stations),r(xe.lines),o(xe.audioAssignments||{}),g(xe.announcementTypes||{}),k(xe.betweenSegments||{}),h(xe.uploadedAudios||[]),p(xe.generatedAudioHistory||{})}},Se=W.useCallback(()=>{const le=ls.find(xe=>xe.id==="simple");le&&(he(le),$(1))},[he]),$e=W.useCallback((le,xe)=>{M(le),Q(xe)},[]);return u.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[(!oe||A)&&u.jsx(lm,{currentTool:_,onToolChange:c,onShowApiKey:()=>P(!0),hasApiKey:!!b,isDarkMode:I,onToggleDarkMode:gt,gridZoom:S,onGridZoomChange:$,onReset:Se,language:m,onLanguageChange:Y,lineStyle:ee,onLineStyleChange:te,onUndo:ve,onRedo:dn,canUndo:ge>0,canRedo:ge<Ce.length-1,isMobile:oe,showMobileHeader:A,onToggleMobileHeader:()=>fe(!A),showStationNumbers:d,onToggleStationNumbers:()=>Z(!d)}),E&&u.jsx(um,{onSave:je,onClose:()=>P(!1),initialKey:b,language:m}),u.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[(!oe||V)&&u.jsx("div",{className:`${oe?"absolute left-0 top-0 bottom-0 z-20 w-64 shadow-xl":""}`,children:u.jsx(cm,{onLoadPreset:he,currentPresetId:L,language:m,isMobile:oe,onClose:()=>O(!1)})}),u.jsxs("div",{className:"flex-1 border-r border-gray-200 dark:border-gray-700 relative",children:[u.jsx(Qf,{ref:He,stations:e,setStations:rt,setStationsNoHistory:t,lines:n,setLines:We,setStationsAndLines:Pn,currentTool:_,setCurrentTool:c,selectedStations:f,setSelectedStations:x,gridZoom:S,onGridZoomChange:$,language:m,lineStyle:ee,onLineStyleChange:te,gridStyle:Ne,onGridStyleChange:Re,showStationNumbers:d,isMobile:oe,selectedStationId:H,playingStationId:N,isStationPlaying:X,showTranscription:B,setShowTranscription:ne,currentTranscription:ue,selectedLineId:pe}),oe&&u.jsxs("div",{className:"absolute bottom-4 right-4 flex flex-col gap-2 z-10",children:[!A&&u.jsx("button",{onClick:()=>fe(!0),className:"bg-blue-500 text-white p-3 rounded-lg shadow-lg",title:"Show Menu",children:"☰"}),u.jsx("button",{onClick:()=>O(!V),className:"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg shadow-lg text-sm font-medium",children:V?"✕":"📋"}),u.jsx("button",{onClick:()=>D(!J),className:"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg shadow-lg text-sm font-medium",children:J?"✕":"🔊"})]})]}),(!oe||J)&&u.jsx("div",{className:`${oe?"absolute right-0 top-0 bottom-0 z-20 w-80 shadow-xl":"w-96"} flex flex-col bg-white dark:bg-gray-800`,children:u.jsx(om,{stations:e,lines:n,announcements:i,setAnnouncements:a,audioAssignments:s,setAudioAssignments:cn,announcementTypes:l,setAnnouncementTypes:ut,betweenSegments:w,setBetweenSegments:Je,uploadedAudios:v,setUploadedAudios:vn,generatedAudioHistory:y,setGeneratedAudioHistory:Vt,apiKey:b,language:m,isMobile:oe,onClose:()=>D(!1),onStationSelect:C,selectedStationId:H,showStationNumbers:d,onPlayingStationChange:$e,showTranscription:B,setShowTranscription:ne,setCurrentTranscription:ae,selectedLineId:pe,setSelectedLineId:Ie})})]})]})}ro.createRoot(document.getElementById("root")).render(u.jsx(ph.StrictMode,{children:u.jsx(dm,{})}));
